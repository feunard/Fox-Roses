{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/excalibur/build/esm/excalibur.js","../node_modules/react/jsx-runtime.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/react/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/object-assign/index.js","../node_modules/react-dom/index.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","constructor","value","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","call","e","result","Super","getPrototypeOf","NewTarget","this","arguments","apply","possibleConstructorReturn","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","Array","isArray","F","s","n","done","_e","f","err","normalCompletion","didErr","step","next","_e2","_slicedToArray","arr","_arr","_n","_d","undefined","_s","_i","push","unsupportedIterableToArray","_toConsumableArray","arrayLikeToArray","iter","from","__webpack_modules__","module","__unused_webpack_exports","__webpack_require__","entryUnbind","exports","path","keys","isCallable","tryToString","argument","isObject","String","toIndexedObject","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","O","index","includes","indexOf","fails","METHOD_NAME","method","floor","Math","insertionSort","array","comparefn","element","j","merge","left","right","llength","rlength","lindex","rindex","mergeSort","middle","slice","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","wellKnownSymbol","CORRECT_ARGUMENTS","tag","error","tryGet","callee","has","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","source","getOwnPropertyDescriptor","DESCRIPTORS","createPropertyDescriptor","object","bitmap","get","global","document","EXISTS","createElement","firefox","match","UA","test","getBuiltIn","version","userAgent","process","Deno","versions","v8","split","webkit","bind","Function","CONSTRUCTOR","METHOD","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","options","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","exec","aCallable","fn","that","a","b","c","FunctionPrototype","getDescriptor","PROPER","name","CONFIGURABLE","aFunction","namespace","V","P","func","check","globalThis","window","self","g","toObject","hasOwnProperty","hasOwn","classof","propertyIsEnumerable","store","functionToString","inspectSource","set","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","state","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","TYPE","type","replacement","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","USE_SYMBOL_AS_UID","$Symbol","V8_VERSION","getOwnPropertySymbols","symbol","__unused_webpack_module","IE8_DOM_DEFINE","anObject","toPropertyKey","$defineProperty","Attributes","propertyIsEnumerableModule","$getOwnPropertyDescriptor","internalObjectKeys","concat","getOwnPropertyNames","names","enumBugKeys","$propertyIsEnumerable","NASHORN_BUG","input","pref","val","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","InternalStateModule","CONFIGURABLE_FUNCTION_NAME","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","join","uid","SHARED","IS_PURE","mode","copyright","toInteger","max","min","integer","IndexedObject","requireObjectCoercible","ceil","isNaN","isSymbol","getMethod","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","id","postfix","random","NATIVE_SYMBOL","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","internalSort","arrayMethodIsStrict","FF","IE_OR_EDGE","V8","WEBKIT","nativeSort","sort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","STRICT_METHOD","STABLE_SORT","code","chr","fromCharCode","k","v","charAt","proto","itemsLength","items","arrayLength","x","y","getSortCompare","nativeKeys","__webpack_exports__","d","__WEBPACK_DEFAULT_EXPORT__","_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__","_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__","___CSS_LOADER_EXPORT___","_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default","cssWithMappingToString","list","map","item","content","needLayer","modules","media","dedupe","supports","layer","alreadyImportedModules","_i2","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","sourceMapping","sourceURLs","sources","sourceRoot","__webpack_module_cache__","moduleId","cachedModule","getter","__esModule","definition","obj","prop","r","toStringTag","Events_namespaceObject","ActivateEvent","CollisionEndEvent","CollisionPostSolveEvent","CollisionPreSolveEvent","CollisionStartEvent","ContactEndEvent","ContactStartEvent","DeactivateEvent","EnterTriggerEvent","EnterViewPortEvent","EventTypes","ExitTriggerEvent","ExitViewPortEvent","GameEvent","GameStartEvent","GameStopEvent","GamepadAxisEvent","GamepadButtonEvent","GamepadConnectEvent","GamepadDisconnectEvent","HiddenEvent","InitializeEvent","KillEvent","PostCollisionEvent","PostDebugDrawEvent","PostDrawEvent","PostFrameEvent","PostKillEvent","PostUpdateEvent","PreCollisionEvent","PreDebugDrawEvent","PreDrawEvent","PreFrameEvent","PreKillEvent","PreUpdateEvent","SubscribeEvent","UnsubscribeEvent","VisibleEvent","SpriteEffects_namespaceObject","Colorize","Darken","Desaturate","Fill","Grayscale","Invert","Lighten","Opacity","Saturate","DrawUtil_namespaceObject","circle","line","point","roundRect","vector","Drawing_Index_namespaceObject","Animation_Animation","CanvasDrawComponent","CanvasDrawingSystem","Polygon","Sprite_Sprite","SpriteFont","SpriteSheet_SpriteSheet","Texture","Input_Index_namespaceObject","Axes","Buttons","Gamepad","Gamepads","KeyEvent","Keyboard","Keys","NativePointerButton","Pointer","PointerButton","PointerCancelEvent","PointerDownEvent","PointerDragEvent","PointerEnterEvent","PointerEvent","PointerEventFactory","PointerLeaveEvent","PointerMoveEvent","PointerScope","PointerType","PointerUpEvent","Pointers","WheelDeltaMode","WheelEvent","createPointerEventByName","Traits_Index_namespaceObject","CapturePointer","OffscreenCulling","Util_Index_namespaceObject","Collection","ConsoleAppender","EasingFunctions","LogLevel","Logger","Observable","ScreenAppender","TwoPI","addItemToArray","base64Encode","canonicalizeAngle","clamp","contains","delay","extend","fail","getOppositeSide","getPosition","getSideFromDirection","nullish","randomInRange","randomIntInRange","range","removeItemFromArray","toDegrees","toRadians","Experiments","Legacy","polyfill","audioContext","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setInterval","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","AudioContext","webkitAudioContext","replaceMe","decodeAudioData","arrayBuffer","Promise","resolve","reject","mozAudioContext","msAudioContext","oAudioContext","devicePixelRatio","Flags","_FROZEN","_FLAGS","enable","WebGL","Canvas","LegacyDrawing","flagName","Error","createId","_appenders","defaultLevel","Info","_INSTANCE","addAppender","appender","level","args","len","log","_log","Debug","Warn","Fatal","Side","console","warn","consoleArgs","unshift","width","height","_messages","_canvas","innerWidth","innerHeight","style","position","_ctx","getContext","body","appendChild","message","clearRect","pos","opacity","fillStyle","toFixed","fillText","BITMASK32","Random","seed","_lowerMask","_upperMask","_w","_m","_a","_u","_b","_t","_c","_l","_f","_mt","now","_index","mag01","_twist","nextInt","likelihood","numPicks","allowDuplicates","_pickSetWithDuplicates","_pickSetWithoutDuplicates","currentPick","tempArray","splice","pickOne","swap","randomIndex","getOpposite","side","Top","Bottom","Left","Right","None","fromDirection","direction","directions","Vector","Up","Down","directionEnum","Number","MAX_VALUE","maxIndex","dot","PI","extended","deep","assignExists","assign","inputStr","b64","outputStr","byte1","charCodeAt","byte2","byte3","enc1","enc2","enc3","enc4","nullishVal","defaultVal","floating","round","angle","tmpAngle","radians","degrees","oLeft","oTop","calcOffsetLeft","parent","offsetLeft","offsetParent","calcOffsetTop","offsetTop","initialSize","DefaultSize","_internalArray","_endPointer","newSize","newArray","count","_resize","removed","remove","to","_x","milliseconds","setTimeout","maxMessages","obsoleteMessage","resetObsoleteCounter","logMessage","suppressObsoleteMessages","isEnabled","getInstance","trace","showStackTrace","obsolete","alternateMethod","showStackTrack","property","SyntaxError","methodSignature","DecoratedClass","__decorate","decorators","desc","decorate","_y","tolerance","abs","Zero","sqrt","pow","distance","newLength","scale","setTo","vec","add","sizeOrScale","size","perpendicular","atan2","anchor","sinAngle","sin","cosAngle","cos","fixed","Infinity","vec1","vec2","num","Color_decorate","Color","factor","temp","HSLColor","fromRGBA","l","toRGBA","color","multiply","color1","invert","color2","format","toHSLA","toHex","hex","_componentToHex","parseInt","parseFloat","h","fromHex","Vermilion","MatrixLocations","q","hue2rgb","t","BoundingBox","leftOrOptions","top","bottom","points","getPoints","rotate","fromPoints","shifted","translate","matrix","multv","results","ray","farClipDistance","tmin","tmax","xinv","dir","yinv","tx1","tx2","ty1","ty2","other","totalBoundingBox","combine","dimensions","equals","overlapX","overlapY","bb","intersect","getSideFromIntersection","ctx","Yellow","strokeStyle","strokeRect","ex","debug","drawRect","intersection","minX","minY","maxX","maxY","Half","sign","Matrix","Float32Array","_scaleSignX","_scaleSignY","mat","dest","a11","a21","a31","a41","a12","a22","a32","a42","a13","a23","a33","a43","a14","a24","a34","a44","b11","b21","b31","b41","b12","b22","b32","b42","b13","b23","b33","b43","b14","b24","b34","b44","getScale","sine","cosine","currentScale","getScaleY","getScaleX","xscale","yscale","setScaleX","setScaleY","inverseDet","getBasisDeterminant","m","identity","tx","ty","near","far","sx","sy","angleRadians","TransformStack","_transforms","_currentTransform","clone","pop","StateStack","_states","_currentState","_getDefaultState","_cloneState","Shader","_gl","_vertexSource","_fragmentSource","program","uniforms","attributes","layout","compile","gl","vertexShader","fragmentShader","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","_compileShader","VERTEX_SHADER","FRAGMENT_SHADER","_createProgram","location","getUniformLocation","glType","normalized","getAttribLocation","vertexSize","vert","typeSize","FLOAT","useProgram","offset","vertexAttribPointer","totalVertexSizeBytes","enableVertexAttribArray","getAttributeSize","uniform","uniformMatrix4fv","uniform1iv","BatchCommand","_pool","commands","isFull","cmd","GraphicsDiagnostics","DrawCallCount","DrawnImagesCount","DrawCommandType","Pool","builder","recycler","maxObjects","totalAllocations","objects","_logger","context","poolIndex","BatchRenderer","priority","_buffer","_maxCommandsPerBatch","_batches","command","_verticesPerCommand","verticesPerCommand","maxCommandsPerBatch","batchFactory","dispose","_batchPool","buildShader","_vertices","vertexAttributeSize","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","DYNAMIC_DRAW","lastBatch","canAdd","newBatch","use","drawCallCount","drawnImagesCount","batch","vertexCount","buildBatchVertices","bufferSubData","renderBatch","DrawLine","Black","start","end","LineRenderer","_contextInfo","init","addAttribute","addUniformMatrix","transform","current","addCommand","vertexBuffer","_batch","drawArrays","LINES","DrawImageCommand","image","swidth","sheight","dx","dy","dwidth","dheight","snapToPixel","Image","view","_geom","Rectangle","thickness","Line","normal","sub","halfThick","startTop","startBottom","endTop","endBottom","radius","Circle","topLeft","topRight","bottomRight","bottomLeft","isPowerOfTwo","ensurePowerOfTwo","nextHighestPowerOfTwo","TextureLoader","_GL","_TEXTURE_MAP","forceUpdate","tex","bindTexture","TEXTURE_2D","toPowerOfTwoImage","texImage2D","RGBA","UNSIGNED_BYTE","createTexture","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","potCanvas","_POT_CANVAS","potCtx","_POT_CTX","imageSmoothingEnabled","drawImage","Map","BatchImage","maxDraws","maxTextures","textures","_graphicMap","_isCommandFull","_isTextureFull","_wouldAddTexture","texture","load","activeTexture","TEXTURE0","clear","ImageRenderer","getParameter","MAX_TEXTURE_IMAGE_UNITS","registerContext","maxGPUTextures","_transformFragmentSource","addUniformIntegerArray","_","newSource","texturePickerBuilder","initCircle","applyTransform","initRect","initLine","graphic","bindTextures","TRIANGLES","vertIndex","sw","sh","potWidth","potHeight","textureId","commandColor","Transparent","getBatchTextureId","uvx0","uvy0","uvx1","uvy1","geometry","DrawPoint","PointRenderer","getExtension","POINTS","Graphic","_ID","showDebug","flipHorizontal","flipVertical","rotation","One","origin","_width","_height","fromDimension","_preDraw","_drawImage","_postDraw","save","_rotate","_flip","scaleDirX","scaleDirY","restore","watch","change","__isProxy","watchAny","Raster","_g","_dirty","_smoothing","_color","flagDirty","_lineWidth","_lineDash","_padding","strokeColor","smoothing","lineWidth","lineDash","padding","_bitmap","bitmapWidth","bitmapHeight","maybeCtx","_getTotalWidth","_originalWidth","_getTotalHeight","_originalHeight","equal","_strokeColor","_applyRasterProperites","execute","setLineDash","getLineDash","rasterize","_options","cloneGraphicOptions","cloneRasterOptions","draw","cache","_bubbles","bubbles","delta","engine","prevStats","stats","gamepad","button","axis","topic","handler","actor","contact","oldScene","newScene","EventDispatcher","_handlers","_wiredEventDispatchers","_target","eventName","event","emit","eventHandlers","on","ev","off","eventDispatcher","Resource","responseType","bustCache","logger","events","uri","request","XMLHttpRequest","open","_cacheBust","addEventListener","status","response","statusText","send","SpriteEffects_decorate","imageData","firstPixel","pixel","avg","fromRGB","lighten","darken","saturate","desaturate","__awaiter","thisArg","_arguments","generator","fulfilled","rejected","then","_sprite","loaded","_loadedResolve","_resource","blob","url","URL","createObjectURL","src","decode","naturalWidth","naturalHeight","Configurable","base","filter","Sprite_decorate","Sprite_awaiter","SpriteImpl","imageOrConfig","drawAroundAnchor","effects","_spriteCanvas","_spriteCtx","_pixelData","_pixelsLoaded","_dirtyEffect","_opacity","_initPixelsFromTexture","_loadPixels","isLoaded","_flushTexture","addEffect","effect","_applyEffects","param","indexToRemove","getImageData","updatePixel","putImageData","xpoint","drawWidth","ypoint","drawHeight","ctxOrOptions","CanvasRenderingContext2D","_drawWithOptions","_h","_j","anchorX","anchorY","oldAlpha","globalAlpha","FontUnit","TextAlign","BaseAlign","FontStyle","Direction","Sprite","sourceView","destSize","_updateSpriteDimensions","ready","nativeWidth","nativeHeight","sprite","ImageSource","fromLegacyTexture","ImageSource_awaiter","endsWith","Animation_decorate","AnimationImpl","engineOrConfig","sprites","speed","loop","currentFrame","_timeLeftInFrame","_idempotencyToken","freezeFrame","Engine","config","_engine","removeEffect","clearEffects","elapsed","idempotencyToken","_updateValues","_setAnchor","_setRotation","_setScale","frames","currSprite","animOptions","reset","playAnimation","images","SpriteSheet_decorate","imageOrConfigOrSprites","columns","rows","spWidth","spHeight","spacing","_sprites","_image","_columns","_rows","_spWidth","_spHeight","_spacing","loadFromImage","isWidthError","isHeightError","RangeError","getSpacingDimensions","row","col","margin","indices","beginIndex","endIndex","spriteCoordinates","maxWidth","maxHeight","coord","anim","alphabet","caseInsensitive","_currentColor","_currentOpacity","_spriteRecord","_textShadowOn","_textShadowDirty","_textShadowColor","_textShadowSprites","_shadowOffsetX","_shadowOffsetY","getTextSprites","lookup","char","offsetX","offsetY","shadowColor","character","setTextShadow","text","_parseOptions","fill","characterShadow","fontSize","letterSpacing","currX","textAlign","Start","End","Center","currY","baseAlign","Hanging","Ideographic","Alphabetic","Middle","charSprite","DisplayMode","SpriteSheet","spriteIndex","legacySpriteSheet","oldSprite","fromLegacySprite","spriteSheet","toLegacySprite","grid","cols","spriteWidth","spriteHeight","originOffset","offsetDefaults","marginDefaults","SpriteFont_SpriteFont","_text","shadow","_updateDimensions","textToRender","toLocaleLowerCase","letterIndex","letter","letterSprite","_getCharacterSprites","cursor","spriteFont","DebugText","fontSheet","_imageSource","_spriteSheet","fromImageSource","_spriteFont","render","ExcaliburGraphicsContextWebGLDebug","_webglCtx","_debugText","rectOptions","drawLine","lineOptions","__lineRenderer","addLine","pointOptions","__pointRenderer","addPoint","write","ExcaliburGraphicsContextWebGL","_transform","_state","backgroundColor","ExcaliburBlue","canvasElement","enableTransparency","__gl","antialias","premultipliedAlpha","alpha","depth","powerPreference","_init","canvas","dim","maxDim","MAX_TEXTURE_SIZE","supported","_ortho","ortho","viewport","clearColor","COLOR_BUFFER_BIT","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","__imageRenderer","__ctx","addImage","addRectangle","addCircle","Resolution","Screen","_antialiasing","_resolutionStack","_viewportStack","_pixelRatioOverride","_isFullScreen","_isDisposed","_fullscreenChangeHandler","_pixelRatioChangeHandler","_devicePixelRatio","_calculateDevicePixelRatio","applyResolutionAndViewport","_resizeHandler","_setResolutionAndViewportByDisplayMode","_alreadyWarned","resolution","_displayMode","displayMode","Fixed","antialiasing","_browser","browser","_position","pixelRatio","_applyDisplayMode","_mediaQueryList","nativeComponent","matchMedia","_resizeObserver","disconnect","removeEventListener","FillContainer","FitContainer","parentElement","_resolution","_viewport","camera","_camera","scaledWidth","scaledHeight","checkIfResolutionSupported","imageRendering","updateViewport","resetTransform","isSmooth","requestFullscreen","exitFullscreen","newX","newY","aspectRatio","screenHeight","screenWidth","screenMarginY","screenMarginX","halfDrawWidth","halfDrawHeight","screenX","screenY","screen","pageToScreenCoordinates","screenToWorldCoordinates","worldToScreenCoordinates","screenToPageCoordinates","zoom","overflow","aspect","adjustedWidth","adjustedHeight","clientWidth","clientHeight","Position","_initializeDisplayModePosition","Window","ResizeObserver","observe","FillScreen","FitScreen","_computeFit","_computeFitContainer","display","specifiedPosition","marginTop","marginLeft","AudioContextFactory","WebAudio","_UNLOCKED","unlockTimeoutTimer","resume","buffer","createBufferSource","ended","connect","destination","onended","playbackState","isLegacyWebAudioSource","currentTime","PLAYING_STATE","FINISHED_STATE","clearTimeout","Class","eventObject","once","Red","x1","y1","x2","y2","cap","beginPath","lineCap","moveTo","lineTo","closePath","stroke","arc","br","White","tl","tr","bl","defaultRadius","quadraticCurveTo","CollisionType","Loader_0","Loader_awaiter","Loader","loadables","_resourceList","_playButtonShown","_resourceCount","_numLoaded","_progressCounts","_totalCounts","logo","logoWidth","logoHeight","loadingBarColor","suppressPlayButton","_playButtonStyles","Z","playButtonText","startButtonFactory","buttonElement","getElementById","textContent","addResources","_imageElement","_playButtonRootElement","_playButtonElement","existingRoot","_styleBlock","head","loadable","addResource","hidePlayButton","resizeHandler","_positionPlayButton","_playButton","evt","click","promise","startButtonHandler","stopPropagation","removeChild","_delta","all","finally","showPlayButton","unlock","buttonWidth","buttonHeight","playButtonPosition","canvasHeight","canvasWidth","fillRect","logoY","logoX","logoPosition","imageHeight","oldAntialias","getAntialiasing","setAntialiasing","loadingX","loadingY","loadingBarPosition","progressWidth","progress","REPORTED_FEATURES","webgl","webaudio","gamepadapi","Detector","_features","failedTests","_criticalTests","canvasSupport","elem","arrayBufferSupport","xhr","dataUrlSupport","toDataURL","objectUrlSupport","rgbaSupport","cssText","_warningTest","webAudioSupport","webglSupport","_loadBrowserFeatures","msg","getBrowserFeatures","arraybuffer","dataurl","objecturl","rgba","navigator","getGamepads","failedCritical","warning","CollisionResolutionStrategy","BroadphaseStrategy","Integrator","Physics_decorate","Physics","acc","collisionResolutionStrategy","Arcade","Realistic","dynamicTreeVelocityMultiplier","enabled","broadphaseStrategy","DynamicAABBTree","defaultMass","integrator","Euler","boundsPadding","positionIterations","velocityIterations","slop","steeringFactor","warmStart","bodiesCanSleepByDefault","surfaceEpsilon","sleepEpsilon","wakeThreshold","sleepBias","checkForFastBodies","disableMinimumSpeedForFastBody","VectorView","_getX","getX","_getY","getY","_setX","setX","_setY","setY","CoordPlane","Component","owner","newComponent","TagComponent","createPosView","X","Y","createScaleView","TransformComponent","_rotation","_scale","coordPlane","World","z","getRotation","getGlobalMatrix","multm","globalPos","globalScale","globalRotation","_recalculate","setPosition","dirty","getAffineInverse","parentTransform","setRotation","setScale","globalScaleX","globalScaleY","MotionComponent","vel","scaleFactor","angularVelocity","torque","inertia","CollisionGroup","category","mask","_name","_category","_mask","collisionGroups","combinedName","combinedCategory","reduce","All","observers","subscriptions","observer","forEach","notify","cb","Pair","colliderA","colliderB","calculatePairHash","canCollide","collide","collider","bodyA","BodyComponent","bodyB","group","collisionType","PreventCollision","active","idA","idB","Projection","projection","overlaps","TreeNode","bounds","DynamicTree","worldBounds","root","nodes","leaf","leafAABB","currentRoot","isLeaf","area","getPerimeter","combinedArea","cost","inheritanceCost","leftCost","leftCombined","oldArea","rightCost","rightCombined","oldParent","newParent","currentNode","_balance","sibling","grandParent","node","_insert","untrackCollider","_remove","multdx","multdy","balance","helper","rayCast","Green","Ray","numerator","begin","cross","getSlope","divisor","u","getLength","time","getPoint","DynamicTreeCollisionProcessor","_dynamicCollisionTree","_collisions","Set","_collisionPairCache","_colliders","CompositeCollider","colliders","getColliders","trackCollider","hash","localBounds","hasZeroDimensions","targets","seconds","potentialColliders","query","_shouldGenerateCollisionPair","pair","physics","pairs","Active","updateDistance","minDimension","fastBodies","minCollider","updateVec","oldPos","centerPoint","center","furthestPoint","getFurthestPoint","minTranslate","rayCastQuery","hitPoint","isValid","shift","update","fastBodyCollisions","contacts","newContacts","collisions","updated","updateCollider","Collider","_collisionProcessor","_dynamicAABBTree","addCollider","wire","track","unwire","untrack","worldPos","axes","furthestPoints","bestPoint","maxDistance","mass","totalInertia","getInertia","otherColliders","potentialCollider","lines","maybeLine","getClosestLineBetween","minLength","minLine","minPoint","minDistance","projs","proj","project","newProjection","slope","sideVector","clipTime","signed","x0","y0","aMinusP","intercept","currPoint","threshold","dxc","dyc","dx1","dy1","ClosestLine","p0","q0","w0","denom","sDenom","tDenom","tClosestParallel","sClosest","tClosest","DegreeOfFreedom","ClosestLineJumpTable","PolygonPolygonClosestLine","polygonA","polygonB","otherWorldPos","otherDirection","thisDirection","negate","rayTowardsOther","rayTowardsThis","thisPoint","otherPoint","thisFace","getClosestFace","otherFace","face","getEdge","PolygonEdgeClosestLine","polygon","edge","edgeLine","asLine","PolygonCircleClosestLine","circlex","circley","CircleCircleClosestLine","circleA","circleB","CircleEdgeClosestLine","circleWorlPos","EdgeEdgeClosestLine","edgeA","edgeB","edgeLineA","edgeLineB","CircleCollider","orig","discriminant","toi","toi1","toi2","positiveToi","mintoi","shape","PolygonCollider","flip","EdgeCollider","CollisionJumpTable","CollideCircleCircle","CollideCirclePolygon","CollideCircleEdge","bodyPos","scalars","dotProduct","newPos","drawCircle","CollisionContact","mtv","tangent","localPoints","info","_canceled","sleeping","sleepMotion","setSleeping","SeparatingAxis","polyA","polyB","bestSeparation","bestSide","bestAxis","bestSideIndex","bestOtherPoint","sides","getSides","localSides","getLocalSides","vertB","vertSeparation","distanceToPoint","separation","localSide","sideId","localPoint","getFurthestLocalPoint","polyDir","closestPointOnPoly","minOverlap","minAxis","minIndex","proj1","proj2","overlap","getOverlap","circleAPos","circleBPos","combinedRadius","mvt","local","findCirclePolygonSeparation","samedir","applyInverse","findSide","findLocalSide","cc","edgeWorld","asLocalLine","da","dda","db","ddb","den","pointOnEdge","dd","CollideEdgeEdge","CollidePolygonEdge","pc","linePoly","CollidePolygonPolygon","separationA","findPolygonPolygonSeparation","separationB","incident","reference","refDir","clipRight","clip","clipLeft","below","xf","FindContactSeparation","worldPoint","shapeA","txA","shapeB","txB","circlePoint","dist","average","_getBodyPos","_getTransformedBegin","_getTransformedEnd","transformedBegin","transformedEnd","_boundsFromBeginEnd","edgeNormal","_transformedPoints","_axes","_sides","_localSides","winding","clockwiseWinding","reverse","_calculateTransformation","getTransformedPoints","currentSide","mostDirection","testRay","accum","pts","POSITIVE_INFINITY","faceIndex","denominator","iplusone","crossTerm","minContactTime","contactIndex","contactTime","scalar","effectiveOffset","firstPoint","Shape","vertical","capsule","Box","ColliderComponent","$colliderAdded","$colliderRemoved","_collider","notifyAll","flipped","entity","precollision","postcollision","poly","Edge","dependencies","canSleep","_sleeping","bounciness","friction","useGravity","limitDegreeOfFreedom","oldVel","oldAcc","oldRotation","oldScale","currentMotion","bias","motion","xFactor","yFactor","impulse","finalImpulse","inverseMass","addEqual","Rotation","distanceFromCenter","inverseInertia","CullingBox","_topLeft","_topRight","_bottomLeft","_bottomRight","drawingWidth","currentDrawing","drawingHeight","getGlobalPos","topLeftScreen","topRightScreen","bottomLeftScreen","bottomRightScreen","_xCoords","_yCoords","_xMin","_yMin","_xMax","_yMax","minWorld","maxWorld","_xMinWorld","_yMinWorld","_xMaxWorld","_yMaxWorld","boundingPoints","rect","Blue","Magenta","cullingBox","isSpriteOffScreen","actorBoundsOffscreen","currentScene","isOffScreen","removeComponent","addComponent","enableCapturePointer","isKilled","pointers","checkAndUpdateActorUnderPointer","AddedComponent","isAddedComponent","RemovedComponent","isRemovedComponent","Entity","components","_componentsToRemove","_componentTypeToInstance","_componentStringToInstance","_tagsMemo","_typesMemo","componentAdded$","componentRemoved$","_parent","childrenAdded$","childrenRemoved$","_children","_isInitialized","_setName","component","tags","force","values","_rebuildMemos","added","getAncestors","children","queue","curr","newEntity","types","child","addChild","templateEntity","getComponents","addTemplate","ctor","constuctorType","onAdd","_notifyAddComponent","componentOrType","_removeComponentByType","onRemove","delete","_notifyRemoveComponent","isInitialized","onInitialize","onPreUpdate","onPostUpdate","_initialize","_preupdate","_postupdate","hasGraphicsTick","tick","GraphicsLayer","_graphics","graphics","nameOrGraphic","gfx","getGraphic","copyGraphics","getNames","hide","show","order","GraphicsLayers","_component","_layers","_layerMap","default","_maybeAddLayer","_getLayer","graphicsLayerKeys","currentKeys","GraphicsComponent","visible","_bounds","onPreDraw","onPostDraw","layers","graphicToSet","_radius","EasingFunctions_decorate","easing","duration","CreateReversibleEasingFunction","Linear","startValue","endValue","EaseInQuad","EaseOutQuad","EaseInOutQuad","EaseInCubic","EaseOutCubic","EaseInOutCubic","RotationType","ActionQueue","_actions","_completedActions","_entity","action","_currentAction","stop","getActions","elapsedMs","isComplete","Repeat","repeatBuilder","repeat","_stopped","_repeatBuilder","_repeatContext","ActionContext","_actionQueue","getQueue","_repeat","_originalRepeat","clearActions","RepeatForever","MoveBy","_started","_tx","_motion","_speed","_offset","_start","_end","_distance","_dir","MoveTo","destx","desty","RotateTo","rotationType","_rotationType","ShortestPath","_currentNonCannonAngle","distance1","distance2","_shortDistance","_longDistance","_shortestPathIsPositive","_direction","LongestPath","Clockwise","CounterClockwise","distanceTravelled","RotateBy","angleRadiansOffset","ScaleTo","scaleX","scaleY","speedX","speedY","_endX","_endY","_speedX","_speedY","_startX","_startY","_distanceX","_distanceY","directionX","directionY","ScaleBy","scaleOffsetX","scaleOffsetY","_startScale","_endScale","_directionX","_directionY","CallMethod","_method","_hasBeenCalled","EaseTo","easingFcn","_currentLerpTime","_lerpDuration","_lerpStart","_lerpEnd","_initialized","Blink","timeVisible","timeNotVisible","numBlinks","_timeVisible","_timeNotVisible","_elapsedTime","_totalTime","_duration","Fade","endOpacity","_multiplier","_endOpacity","Delay","_delay","Die","ActionsComponent","kill","Follow","entityToFollow","followDistance","_followTx","_followMotion","_current","_maximumDistance","_distanceBetween","actorToFollowSpeed","Meet","actorToMeet","_speedWasSpecified","_meetTx","_meetMotion","actorToMeetSpeed","_queue","xOrPos","yOrSpeed","speedOrUndefined","xOffsetOrVector","yOffsetOrSpeed","xOffset","yOffset","sizeXOrVector","sizeYOrSpeed","speedXOrUndefined","speedYOrUndefined","sizeX","sizeY","sizeOffsetXOrVector","sizeOffsetYOrSpeed","sizeOffsetX","sizeOffsetY","times","repeatForever","toPromise","easeTo","moveBy","rotateTo","rotateBy","scaleTo","scaleBy","blink","fade","die","callMethod","follow","meet","Actor_decorate","Actor","_anchor","_handleAnchorChange","scene","_draggable","_dragging","_pointerDragStartHandler","_pointerDragEndHandler","_pointerDragMoveHandler","pe","pointer","lastWorldPos","_pointerDragLeaveHandler","traits","capturePointer","captureMoveEvents","captureDragEvents","_capturePointerEvents","_captureMoveEvents","_captureDragEvents","collisionGroup","defaults","Passive","thePos","theVel","theAcc","theAngle","hasTag","isVisible","isDraggable","_checkForPointerOptIn","_scene","onPreKill","onPostKill","_prekill","_postkill","addDrawing","asSprite","newZ","newIndex","getGlobalScale","recurse","geom","containment","some","otherCollider","me","drawing","currFrame","_predraw","_postdraw","ScreenElement_ScreenElement","useBoxCollider","useWorld","coords","Timer_decorate","Timer","fcn","interval","repeats","numberOfRepeats","_totalTimeAlive","_running","_numberOfTicks","maxNumberOfRepeats","_complete","_MAX_ID","_callbacks","complete","newInterval","newNumberOfRepeats","pause","cancelTimer","TileMap_decorate","TileMapImpl","xOrConfig","cellWidth","cellHeight","_token","_onScreenXStart","_onScreenXEnd","_onScreenYStart","_onScreenYEnd","_spriteSheets","_legacySpriteMap","_cols","isOffscreen","_composite","useCompositeCollider","currentCol","cd","Cell","fromLegacySpriteSheet","clearColliders","tile","solid","prev","cell","getCell","_updateColliders","getWorldBounds","worldCoordsUpperLeft","worldCoordsLowerRight","graphicsIndex","graphicsLen","xEnd","yEnd","TileMap","CellImpl","_solid","addGraphic","Axis","StrategyContainer","addStrategy","LockCameraToActorStrategy","LockCameraToActorAxisStrategy","cameraElasticity","cameraFriction","ElasticToActorStrategy","RadiusAroundActorStrategy","box","LimitCameraBoundsStrategy","_cam","_eng","cam","currentFocus","getFocus","focus","cameraVel","stretch","boundSizeChecked","focusX","focusY","Camera","_cameraStrategies","strategy","_z","dz","az","rx","_posChanged","_pos","_cameraMoving","_isShaking","_shakeMagnitudeX","_shakeMagnitudeY","_shakeDuration","_elapsedShakeTime","_xShake","_yShake","_isZooming","_zoomStart","_zoomEnd","_currentZoomTime","_zoomDuration","_zoomEasing","_easing","_halfWidth","_halfHeight","_follow","easingFn","_lerpPromise","_lerpResolve","magnitudeX","magnitudeY","_zoomPromise","_zoomResolve","cameraStrategy","currentRes","loadingComplete","res","peekResolution","newZoom","zoomEasing","lerpPoint","CreateVectorEasingFunction","moveEasing","_isDoneShaking","newCanvasWidth","newCanvasHeight","isScreenElement","SystemType","triggerDefaults","Trigger_Trigger","opts","_dispatchAction","wp","Violet","debugDraw","System","_entityAddedOrRemoved","AddedEntity","isAddedSystemEntity","RemovedEntity","isRemoveSystemEntity","AnimationDirection","AnimationStrategy","EntityManager","_world","entities","_entityIndex","_entitiesToRemove","_context","removeEntity","queryManager","addEntity","register","idOrEntity","deferred","unregister","actors","killed","processComponentRemoval","buildTypeKey","localeCompare","Query","_entities","T","_key","matches","typesOrEntity","QueryManager","_queries","entityManager","queryType","contain","maybeExistingQuery","getQuery","_addQuery","SystemManager","systems","initialized","systemType","find","system","createQuery","initialize","maybeRemoveQuery","preupdate","getEntities","Scene","postupdate","removeSystem","systemManager","Update","updateEntities","updateSystems","findEntitiesForRemoval","processComponentRemovals","processEntityRemovals","entityOrSystem","addSystem","EulerIntegrator","totalAcc","MotionSystem","optionalBody","gravity","captureOldTransform","integrate","CollisionSolver","preSolve","isCanceled","solveVelocity","solvePosition","postSolve","ArcadeSolver","opposite","velAdj","ContactConstraintPoint","normalImpulse","tangentImpulse","normalMass","tangentMass","aToContact","bToContact","aToContactNormal","bToContactNormal","aToContactTangent","bToContactTangent","velA","RealisticSolver","lastFrameContacts","idToContactConstraint","matchAwake","finishedContactIds","contactPoints","pointIndex","squareDistance","getContactConstraints","updateMotion","applyImpulse","constraints","steeringConstant","steeringForce","restitution","impulseDelta","getRelativeVelocity","maxFriction","newImpulse","CollisionSystem","_realisticSolver","_arcadeSolver","_processor","_lastFrameContacts","_currentFrameContacts","_trackCollider","_untrackCollider","colliderComponent","subscribe","colliderComp","broadphase","narrowphase","getSolver","solve","runContactStartEnd","Animation","Loop","frameDuration","timeScale","_firstTick","_currentFrame","_done","_playing","_reversed","totalDuration","goToFrame","Backward","Forward","Freeze","frameNumber","maybeFrame","PingPong","elapsedMilliseconds","_nextFrame","frameIndices","durationPerFrameMs","invalidIndices","_LOGGER","animation","legacySprites","EmitterType","GraphicsGroup","members","maybeAnimation","_isAnimationOrGroup","member","ColorBlindness","Particle","emitterOrConfig","life","beginColor","endColor","velocity","acceleration","startSize","endSize","particleRotationalVelocity","currentRotation","focusAccel","fadeFlag","_rRate","_gRate","_bRate","_aRate","emitter","particleSize","particleSprite","sizeRate","elapsedMultiplier","ParticleEmitter","tmpColor","drawPoint","removeParticle","accel","_particlesToEmit","numParticles","isEmitting","particles","deadParticles","minVel","maxVel","minAngle","maxAngle","emitRate","particleLife","minSize","maxSize","_og","emitterType","randomRotation","particle","particleCount","_createParticle","world","ranX","ranY","emitParticles","GraphicsSystem","Draw","_graphicsContext","graphicsContext","_clearScreen","entityOffscreen","_isOffscreen","_pushCameraTransform","_applyTransform","particleOpacity","_drawGraphicsComponent","_popCameraTransform","flush","drawnImages","drawCalls","graphicsComponent","isDebug","showBounds","boundsColor","ancestors","ancestor","canvasdraw","offscreen","DebugSystem","_collisionSystem","filterSettings","entitySettings","txSettings","motionSettings","colliderSettings","physicsSettings","graphicsSettings","bodySettings","cameraSettings","useFilter","ids","nameQuery","lineHeight","showAll","showPosition","positionColor","drawText","showId","showName","showRotation","fromAngle","rotationColor","showScale","scaleColor","showCollisionGroup","showCollisionType","showMass","showMotion","showSleeping","showVelocity","velocityColor","showAcceleration","accelerationColor","showGeometry","geometryColor","showOwner","showBroadphaseSpacePartitionDebug","showCollisionContacts","showCollisionNormals","collisionContactColor","collisionNormalColor","showFocus","focusColor","showZoom","ActionsSystem","Scene_decorate","_timers","_cancelQueue","_oldScene","_newScene","_initializeChildren","onActivate","onDeactivate","removeTimer","_collectActorStats","dispatchPointerEvents","addTimer","tileMap","timer","screenElements","ui","alive","ColorBlindCorrector","simulate","colorMode","Protanope","_vertexShader","_fragmentShader","_internalCanvas","preserveDrawingBuffer","_program","_getShader","_getFragmentShaderByMode","vertextShader","Deuteranope","Tritanope","STATIC_DRAW","out","positionLocation","texCoordLocation","texCoordBuffer","pixelStorei","UNPACK_FLIP_Y_WEBGL","resolutionLocation","uniform2f","positionBuffer","_setRectangle","pixelData","Uint8Array","readPixels","ColorBlindFlags","colorBlindness","postProcessors","FrameStats","prevFrame","Cyan","colorBlindMode","_id","_fps","_actorStats","remaining","total","_durationStats","_physicsStats","PhysicsStats","_graphicsStats","otherStats","fps","fs","_pairs","_contacts","_fastBodies","_fastBodyCollisions","_broadphase","_narrowphase","ps","originalEvent","_keys","_keysUp","_keysDown","noop","keyEvent","_isDown","_wasDown","_actorsUnderPointer","_actors","_actorsLastFrame","_actorsNoLongerUnderPointer","_actorSortingFcn","lastPagePos","lastScreenPos","dragTarget","_onPointerMove","_onPointerDown","_onPointerUp","isActorAliveUnderPointer","pagePos","screenPos","_ev","coordinates","pointerType","doAction","propagate","_onActionStart","_onActionEnd","_actor","_pointerEventType","isDragEnd","isDragStart","isDragging","pageX","pageY","deltaX","deltaY","deltaZ","deltaMode","_isCanceled","factory","GlobalCoordinates","yOrEngine","engineOrUndefined","ScrollWheelNormalizationFactor","_pointerDown","_pointerUp","_pointerMove","_pointerCancel","_wheel","_pointers","_activePointers","primary","_handleTouchEvent","touchAction","_handlePointerEvent","MSPointerEvent","msTouchAction","_handleMouseEvent","wheelOptions","passive","pageScrollPreventionMode","ScrollPreventionMode","_handleWheelEvent","onmousewheel","pointerId","eventish","preventDefault","checkActorUnderPointer","addActorUnderPointer","removeActorUnderPointer","getActorsForEvents","lastMoveEventPerPointerPerActor","pointerLeave","wasActorUnderPointer","lastMoveEventPerPointer","pointerEnter","_dispatchWithBubble","_dispatchPointerLeaveEvents","_dispatchPointerEnterEvents","getActorsUnderPointer","_propagateWheelPointerEvent","wheelEvent","eventArr","at","fromPagePosition","Mouse","_nativeButtonToPointerButton","changedTouches","_getPointerIndex","identifier","Touch","Unknown","_stringToPointerType","wheelDeltaX","wheelDeltaY","wheelDelta","detail","Pixel","Page","we","idx","NoButton","Pen","_gamePadTimeStamps","_oldPads","_pads","_initSuccess","_navigator","_minimumConfiguration","_clonePads","_enableAndUpdate","pad","axesLength","buttonLength","buttons","connected","gamepads","_isGamepadValid","timestamp","navigatorGamepad","bi","ai","getButton","pressed","updateButton","getAxes","updateAxes","_clonePad","pads","clonedPad","MinAxisMoveThreshold","_buttons","buttonIndex","axesIndex","BrowserComponent","_paused","_nativeHandlers","_decorate","BrowserEvents","_windowGlobal","_documentGlobal","_windowComponent","_documentComponent","ExcaliburGraphicsContext2DCanvasDebug","_ex","ExcaliburGraphicsContext2DCanvas","Engine_decorate","_hasStarted","scenes","_animations","_suppressPlayButton","pauseAudioWhenHidden","_isDebug","debugColor","enableCanvasTransparency","onFatalException","fatal","_timescale","_isLoading","_deferredGoTo","_loadingComplete","_DEFAULT_ENGINE_OPTIONS","freeze","detector","suppressMinimumBrowserFeatureDetection","_compatible","innerText","testMessage","canvasElementId","suppressConsoleBootMessage","EX_VERSION","logBrowserFeatures","ex2dCtx","exWebglCtx","SVGA","suppressHiDPIScaling","_loader","rootScene","addScene","halfCanvasWidth","halfCanvasHeight","isHiDpi","isFullScreen","AnimationNode","addTileMap","removeTileMap","removeScene","_deactivate","setCurrentCamera","_activate","hidden","visibilityChange","scrollPreventionMode","keyboard","pointerScope","Document","goToScene","_overrideInitialize","isDone","font","getKeys","toggle","loader","pushResolutionAndViewport","wireEngine","popResolutionAndViewport","createMainLoop","raw","game","raf","nowFn","lastTime","mainloop","_requestId","timescale","frameId","beforeUpdate","_update","afterUpdate","_draw","afterDraw","MediaEvent","_value","_val","NativeSoundEvent","NativeSoundProcessedEvent","_processedData","Font","_k","quality","family","Normal","bold","unit","Px","LeftToRight","_textBounds","_textWidth","_textHeight","blur","numLines","_lines","_rasterWidth","_rasterHeight","_applyFont","maxWidthLine","metrics","measureText","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","lineAdjustedHeight","bottomBounds","_halfRasterWidth","_halfRasterHeight","textBaseline","fontString","shadowBlur","shadowOffsetX","shadowOffsetY","strokeText","updateText","Text","_font","Label_decorate","Label_Label","isBold","sizeInUnit","align","_legacySpriteFont","sf","fromLegacySpriteFont","useTextShadow","exctx","CollisionGroupManager","_CURRENT_GROUP","_MAX_GROUPS","_GROUPS","_CURRENT_BIT","_STARTING_BIT","Polygon_decorate","filled","_points","fillColor","lineColor","ExResponse","has_initialize","hasOnInitialize","has_preupdate","hasOnPreUpdate","has_postupdate","hasOnPostUpdate","hasPreDraw","hasPostDraw","any","json","WebAudioInstance","_src","_volume","_loop","_isPlaying","_isPaused","_audioContext","_volumeNode","createGain","_currentOffset","_createNewBufferSource","_instance","_wireUpOnEnded","gain","setTargetAtTime","playbackRate","playStarted","_resumePlayBack","_startPlayBack","_playingPromise","_setPauseOffset","_handleOnEnded","_playingResolve","_rememberStartTime","_playbackRate","restartTime","amend","_startTime","getTime","setValueAtTime","canPlayFile","file","Audio","canPlayType","Sound_awaiter","Sound","_isStopped","_tracks","_wasPlayingOnHidden","paths","volume","decodeAudio","audiobuffer","isPlaying","play","_resumePlayback","_startPlayback","resumed","_getTrackInstance","getTrackId","newTrack","Gif_awaiter","Gif","_stream","_gif","_textures","_animation","_transparentColor","Stream","ParseGif","toSprite","toLegacySpriteSheet","toSpriteSheet","toLegacyAnimation","toAnimation","fromSpriteSheet","checkBytes","bitsToNum","ba","byteToBitArr","bite","dataArray","readByte","byteLength","readBytes","bytes","read","readUnsigned","lzwDecode","minCodeSize","last","readCode","output","clearCode","eoiCode","codeSize","dict","stream","_st","_handler","globalColorTable","parseColorTable","entries","ct","readSubBlocks","parseHeader","hdr","sig","ver","colorRes","globalColorTableSize","gctFlag","sorted","bgColor","pixelAspectRatio","bits","parseExt","block","label","extType","reserved","disposalMethod","userInput","transparencyGiven","delayTime","transparencyIndex","terminator","gce","parseGCExt","comment","com","parseComExt","ptHeader","ptData","pte","parsePTExt","authCode","unknown","iterations","app","NETSCAPE","parseNetscapeExt","appData","parseUnknownAppExt","parseAppExt","parseUnknownExt","parseImg","img","leftPos","topPos","lctFlag","interlaced","lctSize","lct","lzwMinCodeSize","lzwData","pixels","newPixels","cpRow","toRow","fromRow","fromPixels","offsets","steps","pass","deinterlace","arrayToImage","parseBlock","sentinel","eof","frame","Polygon_Polygon","SortedList_decorate","SortedList","getComparable","_getComparable","_find","_root","getKey","getData","getLeft","getRight","_get","BinaryTreeNode","setLeft","setRight","elementIndex","_findMinNode","setKey","setData","_cleanup","comparable","_list","treeNode","_data","_left","_right","Promise_1","PromiseState","MockedElement","Promises_decorate","Promises_Promise","Pending","_successCallbacks","_rejectCallback","successCallback","rejectCallback","Resolved","_handleError","Rejected","errorCallback","_errorCallback","promises","joinedPromise","successes","rejects","errors","fWn","Ia8","hLI","yyv","tX5","__webpack_exports__Actor","vtX","__webpack_exports__Animation","r7K","lCh","fwF","__webpack_exports__CollisionType","sce","_c7","KUs","Ajp","RDh","_H9","Ulf","mxs","OmD","kBf","C4F","NQt","JjN","V1s","Xz7","bLd","Cdc","FKn","wTW","ab2","GfZ","YMS","oyv","aUb","SdD","JUv","jEj","TFq","HDU","R_y","ydN","_N2","t50","s$$","v2G","__webpack_exports__Color","Ilk","__webpack_exports__Engine","H_9","s9i","ksl","wA2","R_p","IQ$","I5F","X8$","FR6","U8o","kbG","oeJ","iS_","cGG","skb","SLU","RdJ","gU7","LSk","Nmp","d1Y","xrL","sRW","cmV","N0Q","q8b","ynB","jT9","wAz","D4V","__webpack_exports__ImageSource","N6H","W1A","JHW","v2K","pBf","GMl","zW2","B0K","Nv7","C_p","MUA","xqU","peG","pTp","vUK","j9l","Zxw","Hdx","Z$d","o$7","Zm$","$QH","i78","h6u","hts","j88","VME","nt","Ukr","zsu","oA6","TVh","TwZ","GTT","xxj","XdK","cXo","__webpack_exports__Input","Dm5","IIB","__webpack_exports__Loader","zI0","SKZ","__J","Dvr","Tf9","RI$","x12","aNw","__webpack_exports__Physics","xwn","dNK","ini","YdH","y3G","l57","xn0","t2V","ZyS","uxB","cpd","fiy","$XZ","uqK","STE","y$z","sOq","Sqs","hpZ","Vol","wIZ","__webpack_exports__Scene","cBi","mgq","YVA","Kgp","HH$","M_d","rgh","Ra6","KhR","BS5","xhz","xOq","a9j","bHk","CgK","cuY","kvE","JDb","Cbi","AE_","ctO","OLH","kky","nSF","zHn","zwx","AeJ","hLz","D9g","wA","jhr","GVs","_zO","w6$","mhV","MOD","kwd","Lmr","xsS","__webpack_exports__Shape","lLr","Z$r","IXb","SMj","bnF","__webpack_exports__Side","MFA","__webpack_exports__Sound","$XC","$uU","__webpack_exports__SpriteSheet","jyi","E03","V6q","__webpack_exports__Trigger","nVo","F6N","ad3","xP7","Odq","Zif","ZGJ","xvT","PHM","KwO","B7y","SFp","Uvn","OFT","xzN","__webpack_exports__Vector","H6j","ZrN","OWs","__webpack_exports__vec","dF9","VHo","R$E","q3I","Pab","uZ5","McK","k0b","hnT","RSJ","Mku","h90","rms","ErP","aVg","lPc","Z8E","NNA","yFn","lNv","MZQ","FUM","vdf","iaL","w6H","Q4c","Uxb","Yr5","Bhw","require","_getPrototypeOf","receiver","_assertThisInitialized","ReferenceError","_unsupportedIterableToArray","minLen","_arrayLikeToArray","arr2","enumerableOnly","symbols","sym","_objectSpread2","getOwnPropertyDescriptors","defineProperties","asyncGeneratorStep","gen","_next","_throw","arg","_asyncToGenerator","_defineProperty","_typeof","_possibleConstructorReturn","assertThisInitialized","propIsEnumerable","test1","test2","test3","shouldUseNative","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","Fragment","StrictMode","Profiler","Suspense","for","w","A","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","B","C","refs","updater","D","E","isReactComponent","setState","isPureReactComponent","G","H","I","ref","__self","__source","J","defaultProps","$$typeof","_owner","L","M","N","escape","K","Q","_status","_result","R","S","ReactCurrentDispatcher","ReactCurrentBatchConfig","transition","ReactCurrentOwner","IsSomeRendererActing","Children","toArray","only","PureComponent","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","cloneElement","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","createFactory","createRef","forwardRef","isValidElement","lazy","_payload","memo","compare","useCallback","useContext","useDebugValue","useEffect","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useState","aa","ca","ea","fa","ha","ia","ja","ka","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","oa","pa","toUpperCase","qa","ma","na","la","removeAttribute","setAttribute","setAttributeNS","xlinkHref","ra","sa","ta","ua","wa","xa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ma","Ka","La","Na","stack","trim","Oa","Pa","prepareStackTrace","displayName","Qa","_render","Ra","Sa","Ta","nodeName","Va","_valueTracker","getValue","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","$a","ab","ownerDocument","eb","fb","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","hb","ib","jb","kb","lb","mb","nb","ob","namespaceURI","innerHTML","firstChild","MSApp","execUnsafeLocalFunction","pb","lastChild","nodeType","nodeValue","qb","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","orphans","tabSize","widows","zIndex","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","rb","sb","tb","setProperty","substring","ub","menuitem","embed","hr","keygen","link","meta","wbr","vb","wb","is","xb","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Ob","Pb","Qb","Rb","onError","Sb","Tb","Ub","Vb","Wb","Xb","Zb","alternate","return","flags","$b","memoizedState","dehydrated","ac","bc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","nc","oc","qc","rc","blockedOn","domEventName","eventSystemFlags","nativeEvent","targetContainers","sc","tc","vc","wc","lanePriority","unstable_runWithPriority","hydrate","containerInfo","xc","yc","zc","Ac","Bc","unstable_scheduleCallback","unstable_NormalPriority","Cc","Dc","Ec","animationend","animationiteration","animationstart","transitionend","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","unstable_now","Rc","Uc","pendingLanes","expiredLanes","suspendedLanes","pingedLanes","Vc","entangledLanes","entanglements","Wc","Xc","Yc","Zc","$c","eventTimes","clz32","bd","LN2","unstable_UserBlockingPriority","ed","fd","gd","hd","uc","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","cancelable","timeStamp","isTrusted","td","ud","vd","Ad","clientX","clientY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","Md","Esc","Spacebar","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","locale","which","Rd","Td","pressure","tangentialPressure","tiltX","tiltY","twist","isPrimary","Vd","touches","targetTouches","Xd","Yd","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","date","datetime","email","month","number","password","search","tel","week","ne","oe","listeners","qe","re","se","te","ue","ve","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","Le","nextSibling","Me","compareDocumentPosition","Ne","HTMLIFrameElement","contentWindow","href","Oe","contentEditable","Pe","Qe","Re","Se","Te","Ue","selectionStart","selectionEnd","anchorNode","defaultView","getSelection","anchorOffset","focusNode","focusOffset","Ve","We","Xe","Ye","Ze","Yb","listener","$e","af","bf","cf","df","capture","Nb","ef","ff","parentWindow","gf","hf","je","ke","jf","kf","lf","mf","autoFocus","nf","__html","of","pf","qf","rf","previousSibling","tf","vf","wf","yf","zf","Af","Bf","Cf","Df","Ef","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Ff","childContextTypes","Gf","Hf","If","getChildContext","Jf","__reactInternalMemoizedMergedChildContext","Kf","Lf","Mf","Nf","Of","Pf","unstable_cancelCallback","Qf","unstable_shouldYield","Rf","unstable_requestPaint","Sf","Tf","unstable_getCurrentPriorityLevel","Uf","unstable_ImmediatePriority","Vf","Wf","Xf","unstable_LowPriority","Yf","unstable_IdlePriority","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","childLanes","tg","firstContext","lanes","ug","vg","observedBits","responders","wg","xg","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","pending","yg","zg","eventTime","lane","payload","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Kg","_reactInternals","Hg","Ig","Jg","Lg","shouldComponentUpdate","Mg","contextType","Ng","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Og","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Pg","Qg","_stringRef","Rg","Sg","lastEffect","nextEffect","firstEffect","Tg","Ug","elementType","Vg","implementation","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","documentElement","tagName","fh","gh","hh","ih","memoizedProps","revealOrder","jh","kh","lh","mh","nh","oh","pendingProps","ph","qh","rh","th","uh","_workInProgressVersionPrimary","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","baseQueue","Ih","Jh","Kh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","dispatch","Lh","Mh","_getVersion","_source","mutableReadLanes","Nh","U","getSnapshot","setSnapshot","Oh","Ph","Qh","Rh","destroy","deps","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ci","di","readContext","useDeferredValue","useTransition","useMutableSource","useOpaqueIdentifier","unstable_isNewReconciler","uf","ei","fi","gi","hi","ii","ji","ki","li","mi","baseLanes","ni","oi","pi","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","qi","getDerivedStateFromError","ri","pendingContext","Bi","Di","Ei","si","retryLane","ti","fallback","unstable_avoidThisFallback","unstable_expectedLoadTime","vi","wi","xi","yi","zi","isBackwards","rendering","renderingStartTime","tail","tailMode","Ai","Fi","Gi","wasMultiple","multiple","onClick","onclick","createElementNS","createTextNode","Hi","Ii","W","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","componentDidCatch","Ti","componentStack","Ui","WeakSet","Vi","Wi","Xi","__reactInternalSnapshotBeforeUpdate","Yi","Zi","$i","aj","bj","onCommitFiberUnmount","componentWillUnmount","cj","dj","ej","fj","gj","hj","insertBefore","_reactRootContainer","ij","jj","kj","lj","mj","nj","oj","pj","qj","rj","sj","tj","uj","vj","wj","ck","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Sc","Kj","Lj","Mj","callbackNode","expirationTimes","callbackPriority","Tc","Nj","Oj","Pj","Qj","Rj","Sj","Tj","finishedWork","finishedLanes","Uj","timeoutHandle","Wj","Xj","pingCache","Yj","Zj","va","ak","bk","dk","rangeCount","focusedElem","selectionRange","ek","createRange","setStart","removeAllRanges","addRange","setEnd","scrollLeft","scrollTop","onCommitFiberRoot","fk","gk","ik","pendingChildren","jk","mutableSourceEagerHydrationData","kk","lk","mk","nk","ok","qk","hydrationOptions","mutableSources","_internalRoot","rk","tk","hasAttribute","sk","uk","hk","unstable_observedBits","unmount","querySelectorAll","form","Vj","vk","Events","wk","findFiberByHostInstance","bundleType","rendererPackageName","xk","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","yk","isDisabled","supportsFiber","inject","createPortal","findDOMNode","flushSync","unmountComponentAtNode","unstable_batchedUpdates","unstable_createPortal","unstable_renderSubtreeIntoContainer","performance","MessageChannel","unstable_forceFrameRate","port2","port1","onmessage","postMessage","sortIndex","startTime","expirationTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_wrapCallback","runtime","Op","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","Context","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","mark","awrap","async","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","jsx","jsxs"],"mappings":"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P,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,qBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,qBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,qBACP,IAAO,sBACP,IAAO,qBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,GAAM,sBACN,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,qBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,qBACP,IAAO,qBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,qBACP,IAAO,qBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP,IAAO,sBACP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","file":"static/js/2.7d577553.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/*!\n * excalibur - 0.25.1 - 2021-11-5\n * https://github.com/excaliburjs/Excalibur\n * Copyright (c) 2021 Excalibur.js <https://github.com/excaliburjs/Excalibur/graphs/contributors>\n * Licensed BSD-2-Clause\n * @preserve\n */\n/******/ var __webpack_modules__ = ({\n\n/***/ 4662:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n__webpack_require__(3430);\nvar entryUnbind = __webpack_require__(8791);\n\nmodule.exports = entryUnbind('Array', 'sort');\n\n\n/***/ }),\n\n/***/ 8343:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n__webpack_require__(4769);\nvar path = __webpack_require__(9276);\n\nmodule.exports = path.Object.keys;\n\n\n/***/ }),\n\n/***/ 7111:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar isCallable = __webpack_require__(6733);\nvar tryToString = __webpack_require__(9821);\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw TypeError(tryToString(argument) + ' is not a function');\n};\n\n\n/***/ }),\n\n/***/ 1176:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar isObject = __webpack_require__(5052);\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw TypeError(String(argument) + ' is not an object');\n};\n\n\n/***/ }),\n\n/***/ 9540:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar toIndexedObject = __webpack_require__(905);\nvar toLength = __webpack_require__(4237);\nvar toAbsoluteIndex = __webpack_require__(3231);\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n\n\n/***/ }),\n\n/***/ 6038:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(4229);\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n\n\n/***/ }),\n\n/***/ 3867:\n/***/ ((module) => {\n\n// TODO: use something more complex like timsort?\nvar floor = Math.floor;\n\nvar mergeSort = function (array, comparefn) {\n  var length = array.length;\n  var middle = floor(length / 2);\n  return length < 8 ? insertionSort(array, comparefn) : merge(\n    mergeSort(array.slice(0, middle), comparefn),\n    mergeSort(array.slice(middle), comparefn),\n    comparefn\n  );\n};\n\nvar insertionSort = function (array, comparefn) {\n  var length = array.length;\n  var i = 1;\n  var element, j;\n\n  while (i < length) {\n    j = i;\n    element = array[i];\n    while (j && comparefn(array[j - 1], element) > 0) {\n      array[j] = array[--j];\n    }\n    if (j !== i++) array[j] = element;\n  } return array;\n};\n\nvar merge = function (left, right, comparefn) {\n  var llength = left.length;\n  var rlength = right.length;\n  var lindex = 0;\n  var rindex = 0;\n  var result = [];\n\n  while (lindex < llength || rindex < rlength) {\n    if (lindex < llength && rindex < rlength) {\n      result.push(comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]);\n    } else {\n      result.push(lindex < llength ? left[lindex++] : right[rindex++]);\n    }\n  } return result;\n};\n\nmodule.exports = mergeSort;\n\n\n/***/ }),\n\n/***/ 7079:\n/***/ ((module) => {\n\nvar toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n/***/ }),\n\n/***/ 1589:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(1601);\nvar isCallable = __webpack_require__(6733);\nvar classofRaw = __webpack_require__(7079);\nvar wellKnownSymbol = __webpack_require__(95);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n\n\n/***/ }),\n\n/***/ 7081:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar has = __webpack_require__(816);\nvar ownKeys = __webpack_require__(4826);\nvar getOwnPropertyDescriptorModule = __webpack_require__(7933);\nvar definePropertyModule = __webpack_require__(1787);\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n\n\n/***/ }),\n\n/***/ 5762:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar DESCRIPTORS = __webpack_require__(7400);\nvar definePropertyModule = __webpack_require__(1787);\nvar createPropertyDescriptor = __webpack_require__(5358);\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n/***/ }),\n\n/***/ 5358:\n/***/ ((module) => {\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n/***/ }),\n\n/***/ 7400:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar fails = __webpack_require__(4229);\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n\n\n/***/ }),\n\n/***/ 2635:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar global = __webpack_require__(9859);\nvar isObject = __webpack_require__(5052);\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n\n\n/***/ }),\n\n/***/ 2671:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar userAgent = __webpack_require__(598);\n\nvar firefox = userAgent.match(/firefox\\/(\\d+)/i);\n\nmodule.exports = !!firefox && +firefox[1];\n\n\n/***/ }),\n\n/***/ 8506:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar UA = __webpack_require__(598);\n\nmodule.exports = /MSIE|Trident/.test(UA);\n\n\n/***/ }),\n\n/***/ 598:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar getBuiltIn = __webpack_require__(1333);\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n\n\n/***/ }),\n\n/***/ 6358:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar global = __webpack_require__(9859);\nvar userAgent = __webpack_require__(598);\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n\n\n/***/ }),\n\n/***/ 9811:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar userAgent = __webpack_require__(598);\n\nvar webkit = userAgent.match(/AppleWebKit\\/(\\d+)\\./);\n\nmodule.exports = !!webkit && +webkit[1];\n\n\n/***/ }),\n\n/***/ 8791:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar global = __webpack_require__(9859);\nvar bind = __webpack_require__(7636);\n\nvar call = Function.call;\n\nmodule.exports = function (CONSTRUCTOR, METHOD, length) {\n  return bind(call, global[CONSTRUCTOR].prototype[METHOD], length);\n};\n\n\n/***/ }),\n\n/***/ 3837:\n/***/ ((module) => {\n\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\n\n/***/ }),\n\n/***/ 3103:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar global = __webpack_require__(9859);\nvar getOwnPropertyDescriptor = __webpack_require__(7933).f;\nvar createNonEnumerableProperty = __webpack_require__(5762);\nvar redefine = __webpack_require__(7487);\nvar setGlobal = __webpack_require__(2079);\nvar copyConstructorProperties = __webpack_require__(7081);\nvar isForced = __webpack_require__(6541);\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n  options.name        - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n\n\n/***/ }),\n\n/***/ 4229:\n/***/ ((module) => {\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n\n/***/ }),\n\n/***/ 7636:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar aCallable = __webpack_require__(7111);\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aCallable(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/***/ }),\n\n/***/ 1805:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar DESCRIPTORS = __webpack_require__(7400);\nvar has = __webpack_require__(816);\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = has(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n\n\n/***/ }),\n\n/***/ 1333:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar global = __webpack_require__(9859);\nvar isCallable = __webpack_require__(6733);\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n\n\n/***/ }),\n\n/***/ 5300:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar aCallable = __webpack_require__(7111);\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable(func);\n};\n\n\n/***/ }),\n\n/***/ 9859:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof __webpack_require__.g == 'object' && __webpack_require__.g) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n\n\n/***/ }),\n\n/***/ 816:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar toObject = __webpack_require__(2991);\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n\n\n/***/ }),\n\n/***/ 5977:\n/***/ ((module) => {\n\nmodule.exports = {};\n\n\n/***/ }),\n\n/***/ 4394:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar DESCRIPTORS = __webpack_require__(7400);\nvar fails = __webpack_require__(4229);\nvar createElement = __webpack_require__(2635);\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n\n\n/***/ }),\n\n/***/ 9337:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar fails = __webpack_require__(4229);\nvar classof = __webpack_require__(7079);\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n\n\n/***/ }),\n\n/***/ 8511:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar isCallable = __webpack_require__(6733);\nvar store = __webpack_require__(5353);\n\nvar functionToString = Function.toString;\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n\n\n/***/ }),\n\n/***/ 6407:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar NATIVE_WEAK_MAP = __webpack_require__(8694);\nvar global = __webpack_require__(9859);\nvar isObject = __webpack_require__(5052);\nvar createNonEnumerableProperty = __webpack_require__(5762);\nvar objectHas = __webpack_require__(816);\nvar shared = __webpack_require__(5353);\nvar sharedKey = __webpack_require__(4399);\nvar hiddenKeys = __webpack_require__(5977);\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\n\n/***/ }),\n\n/***/ 6733:\n/***/ ((module) => {\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument === 'function';\n};\n\n\n/***/ }),\n\n/***/ 6541:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar fails = __webpack_require__(4229);\nvar isCallable = __webpack_require__(6733);\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n\n\n/***/ }),\n\n/***/ 5052:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar isCallable = __webpack_require__(6733);\n\nmodule.exports = function (it) {\n  return typeof it === 'object' ? it !== null : isCallable(it);\n};\n\n\n/***/ }),\n\n/***/ 4231:\n/***/ ((module) => {\n\nmodule.exports = false;\n\n\n/***/ }),\n\n/***/ 9395:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar isCallable = __webpack_require__(6733);\nvar getBuiltIn = __webpack_require__(1333);\nvar USE_SYMBOL_AS_UID = __webpack_require__(6969);\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && Object(it) instanceof $Symbol;\n};\n\n\n/***/ }),\n\n/***/ 3839:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = __webpack_require__(6358);\nvar fails = __webpack_require__(4229);\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n\n\n/***/ }),\n\n/***/ 8694:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar global = __webpack_require__(9859);\nvar isCallable = __webpack_require__(6733);\nvar inspectSource = __webpack_require__(8511);\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));\n\n\n/***/ }),\n\n/***/ 1787:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\nvar DESCRIPTORS = __webpack_require__(7400);\nvar IE8_DOM_DEFINE = __webpack_require__(4394);\nvar anObject = __webpack_require__(1176);\nvar toPropertyKey = __webpack_require__(9310);\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n/***/ }),\n\n/***/ 7933:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\nvar DESCRIPTORS = __webpack_require__(7400);\nvar propertyIsEnumerableModule = __webpack_require__(9195);\nvar createPropertyDescriptor = __webpack_require__(5358);\nvar toIndexedObject = __webpack_require__(905);\nvar toPropertyKey = __webpack_require__(9310);\nvar has = __webpack_require__(816);\nvar IE8_DOM_DEFINE = __webpack_require__(4394);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n\n\n/***/ }),\n\n/***/ 8151:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\nvar internalObjectKeys = __webpack_require__(140);\nvar enumBugKeys = __webpack_require__(3837);\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n\n\n/***/ }),\n\n/***/ 894:\n/***/ ((__unused_webpack_module, exports) => {\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n\n\n/***/ }),\n\n/***/ 140:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar has = __webpack_require__(816);\nvar toIndexedObject = __webpack_require__(905);\nvar indexOf = __webpack_require__(9540).indexOf;\nvar hiddenKeys = __webpack_require__(5977);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 5632:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar internalObjectKeys = __webpack_require__(140);\nvar enumBugKeys = __webpack_require__(3837);\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n\n\n/***/ }),\n\n/***/ 9195:\n/***/ ((__unused_webpack_module, exports) => {\n\n\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n\n\n/***/ }),\n\n/***/ 2914:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar isCallable = __webpack_require__(6733);\nvar isObject = __webpack_require__(5052);\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = fn.call(input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = fn.call(input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n/***/ }),\n\n/***/ 4826:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar getBuiltIn = __webpack_require__(1333);\nvar getOwnPropertyNamesModule = __webpack_require__(8151);\nvar getOwnPropertySymbolsModule = __webpack_require__(894);\nvar anObject = __webpack_require__(1176);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n\n\n/***/ }),\n\n/***/ 9276:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar global = __webpack_require__(9859);\n\nmodule.exports = global;\n\n\n/***/ }),\n\n/***/ 7487:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar global = __webpack_require__(9859);\nvar isCallable = __webpack_require__(6733);\nvar has = __webpack_require__(816);\nvar createNonEnumerableProperty = __webpack_require__(5762);\nvar setGlobal = __webpack_require__(2079);\nvar inspectSource = __webpack_require__(8511);\nvar InternalStateModule = __webpack_require__(6407);\nvar CONFIGURABLE_FUNCTION_NAME = __webpack_require__(1805).CONFIGURABLE;\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var name = options && options.name !== undefined ? options.name : key;\n  var state;\n  if (isCallable(value)) {\n    if (String(name).slice(0, 7) === 'Symbol(') {\n      name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n    }\n    if (!has(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n      createNonEnumerableProperty(value, 'name', name);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n});\n\n\n/***/ }),\n\n/***/ 8885:\n/***/ ((module) => {\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ 2079:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar global = __webpack_require__(9859);\n\nmodule.exports = function (key, value) {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n\n\n/***/ }),\n\n/***/ 4399:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar shared = __webpack_require__(3036);\nvar uid = __webpack_require__(1441);\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\n\n/***/ }),\n\n/***/ 5353:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar global = __webpack_require__(9859);\nvar setGlobal = __webpack_require__(2079);\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n\n\n/***/ }),\n\n/***/ 3036:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar IS_PURE = __webpack_require__(4231);\nvar store = __webpack_require__(5353);\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.18.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n});\n\n\n/***/ }),\n\n/***/ 3231:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar toInteger = __webpack_require__(6051);\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n\n\n/***/ }),\n\n/***/ 905:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = __webpack_require__(9337);\nvar requireObjectCoercible = __webpack_require__(8885);\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n\n\n/***/ }),\n\n/***/ 6051:\n/***/ ((module) => {\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n\n\n/***/ }),\n\n/***/ 4237:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar toInteger = __webpack_require__(6051);\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\n\n/***/ }),\n\n/***/ 2991:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar requireObjectCoercible = __webpack_require__(8885);\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n\n\n/***/ }),\n\n/***/ 2066:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar isObject = __webpack_require__(5052);\nvar isSymbol = __webpack_require__(9395);\nvar getMethod = __webpack_require__(5300);\nvar ordinaryToPrimitive = __webpack_require__(2914);\nvar wellKnownSymbol = __webpack_require__(95);\n\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = exoticToPrim.call(input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n\n\n/***/ }),\n\n/***/ 9310:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar toPrimitive = __webpack_require__(2066);\nvar isSymbol = __webpack_require__(9395);\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : String(key);\n};\n\n\n/***/ }),\n\n/***/ 1601:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar wellKnownSymbol = __webpack_require__(95);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n\n\n/***/ }),\n\n/***/ 3326:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar classof = __webpack_require__(1589);\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n\n\n/***/ }),\n\n/***/ 9821:\n/***/ ((module) => {\n\nmodule.exports = function (argument) {\n  try {\n    return String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n\n\n/***/ }),\n\n/***/ 1441:\n/***/ ((module) => {\n\nvar id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n\n\n/***/ }),\n\n/***/ 6969:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = __webpack_require__(3839);\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n\n\n/***/ }),\n\n/***/ 95:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar global = __webpack_require__(9859);\nvar shared = __webpack_require__(3036);\nvar has = __webpack_require__(816);\nvar uid = __webpack_require__(1441);\nvar NATIVE_SYMBOL = __webpack_require__(3839);\nvar USE_SYMBOL_AS_UID = __webpack_require__(6969);\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n\n\n/***/ }),\n\n/***/ 3430:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(3103);\nvar aCallable = __webpack_require__(7111);\nvar toObject = __webpack_require__(2991);\nvar toLength = __webpack_require__(4237);\nvar toString = __webpack_require__(3326);\nvar fails = __webpack_require__(4229);\nvar internalSort = __webpack_require__(3867);\nvar arrayMethodIsStrict = __webpack_require__(6038);\nvar FF = __webpack_require__(2671);\nvar IE_OR_EDGE = __webpack_require__(8506);\nvar V8 = __webpack_require__(6358);\nvar WEBKIT = __webpack_require__(9811);\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return toString(x) > toString(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aCallable(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? nativeSort.call(array) : nativeSort.call(array, comparefn);\n\n    var items = [];\n    var arrayLength = toLength(array.length);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) items.push(array[index]);\n    }\n\n    items = internalSort(items, getSortCompare(comparefn));\n    itemsLength = items.length;\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) delete array[index++];\n\n    return array;\n  }\n});\n\n\n/***/ }),\n\n/***/ 4769:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\nvar $ = __webpack_require__(3103);\nvar toObject = __webpack_require__(2991);\nvar nativeKeys = __webpack_require__(5632);\nvar fails = __webpack_require__(4229);\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n\n\n/***/ }),\n\n/***/ 1388:\n/***/ ((module, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(272);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2609);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Buttons styles start */\\r\\n\\r\\nbutton#excalibur-play {\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  z-index: 999;\\r\\n  border-radius: 6px;\\r\\n  border: none;\\r\\n  /*border: 3px solid;\\r\\n    border-color: white;\\r\\n    box-shadow: 0 0 10px #ccc;*/\\r\\n  padding: 1rem 1.5rem 1rem 4rem;\\r\\n  margin: 0;\\r\\n  text-decoration: none;\\r\\n  background: #00b233;\\r\\n  color: #ffffff;\\r\\n  font-family: sans-serif;\\r\\n  font-size: 2rem;\\r\\n  white-space: nowrap;\\r\\n  line-height: 1;\\r\\n  cursor: pointer;\\r\\n  text-align: center;\\r\\n  transition: background 250ms ease-in-out, transform 150ms ease;\\r\\n  -webkit-appearance: none;\\r\\n  -moz-appearance: none;\\r\\n\\r\\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\\r\\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\\r\\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\\r\\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\\r\\n  animation: excalibur-button-fadein 200ms;\\r\\n}\\r\\n\\r\\n/*\\r\\nbutton#excalibur-play {\\r\\n  display: none;\\r\\n}*/\\r\\n\\r\\nbutton#excalibur-play:after {\\r\\n  position: absolute;\\r\\n  content: '';\\r\\n  border: 8px solid;\\r\\n  border-color: transparent transparent transparent white;\\r\\n  left: 35px;\\r\\n  top: 24px;\\r\\n  width: 0;\\r\\n  height: 0;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:before {\\r\\n  position: absolute;\\r\\n  content: '';\\r\\n  border: 3px solid;\\r\\n  left: 19px;\\r\\n  top: 14px;\\r\\n  border-radius: 20px;\\r\\n  width: 30px;\\r\\n  height: 30px;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:hover,\\r\\nbutton#excalibur-play:focus {\\r\\n  background: #00982c;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:focus {\\r\\n  outline: 1px solid #fff;\\r\\n  outline-offset: -4px;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:active {\\r\\n  transform: scale(0.99);\\r\\n}\\r\\n\\r\\n@keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Firefox < 16 */\\r\\n@-moz-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Safari, Chrome and Opera > 12.1 */\\r\\n@-webkit-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Internet Explorer */\\r\\n@-ms-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Opera < 12.1 */\\r\\n@-o-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./Loader.css\"],\"names\":[],\"mappings\":\"AAAA,yBAAyB;;AAEzB;EACE,qBAAqB;EACrB,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,YAAY;EACZ;;+BAE6B;EAC7B,8BAA8B;EAC9B,SAAS;EACT,qBAAqB;EACrB,mBAAmB;EACnB,cAAc;EACd,uBAAuB;EACvB,eAAe;EACf,mBAAmB;EACnB,cAAc;EACd,eAAe;EACf,kBAAkB;EAClB,8DAA8D;EAC9D,wBAAwB;EACxB,qBAAqB;;EAErB,gDAAgD,EAAE,oCAAoC;EACtF,6CAA6C,EAAE,iBAAiB;EAChE,4CAA4C,EAAE,sBAAsB;EACpE,2CAA2C,EAAE,iBAAiB;EAC9D,wCAAwC;AAC1C;;AAEA;;;EAGE;;AAEF;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,uDAAuD;EACvD,UAAU;EACV,SAAS;EACT,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,UAAU;EACV,SAAS;EACT,mBAAmB;EACnB,WAAW;EACX,YAAY;AACd;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;EACvB,oBAAoB;AACtB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,oCAAoC;AACpC;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,sBAAsB;AACtB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF\",\"sourcesContent\":[\"/* Buttons styles start */\\r\\n\\r\\nbutton#excalibur-play {\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  z-index: 999;\\r\\n  border-radius: 6px;\\r\\n  border: none;\\r\\n  /*border: 3px solid;\\r\\n    border-color: white;\\r\\n    box-shadow: 0 0 10px #ccc;*/\\r\\n  padding: 1rem 1.5rem 1rem 4rem;\\r\\n  margin: 0;\\r\\n  text-decoration: none;\\r\\n  background: #00b233;\\r\\n  color: #ffffff;\\r\\n  font-family: sans-serif;\\r\\n  font-size: 2rem;\\r\\n  white-space: nowrap;\\r\\n  line-height: 1;\\r\\n  cursor: pointer;\\r\\n  text-align: center;\\r\\n  transition: background 250ms ease-in-out, transform 150ms ease;\\r\\n  -webkit-appearance: none;\\r\\n  -moz-appearance: none;\\r\\n\\r\\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\\r\\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\\r\\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\\r\\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\\r\\n  animation: excalibur-button-fadein 200ms;\\r\\n}\\r\\n\\r\\n/*\\r\\nbutton#excalibur-play {\\r\\n  display: none;\\r\\n}*/\\r\\n\\r\\nbutton#excalibur-play:after {\\r\\n  position: absolute;\\r\\n  content: '';\\r\\n  border: 8px solid;\\r\\n  border-color: transparent transparent transparent white;\\r\\n  left: 35px;\\r\\n  top: 24px;\\r\\n  width: 0;\\r\\n  height: 0;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:before {\\r\\n  position: absolute;\\r\\n  content: '';\\r\\n  border: 3px solid;\\r\\n  left: 19px;\\r\\n  top: 14px;\\r\\n  border-radius: 20px;\\r\\n  width: 30px;\\r\\n  height: 30px;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:hover,\\r\\nbutton#excalibur-play:focus {\\r\\n  background: #00982c;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:focus {\\r\\n  outline: 1px solid #fff;\\r\\n  outline-offset: -4px;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:active {\\r\\n  transform: scale(0.99);\\r\\n}\\r\\n\\r\\n@keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Firefox < 16 */\\r\\n@-moz-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Safari, Chrome and Opera > 12.1 */\\r\\n@-webkit-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Internet Explorer */\\r\\n@-ms-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Opera < 12.1 */\\r\\n@-o-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ 2609:\n/***/ ((module) => {\n\n\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var _i = 0; _i < this.length; _i++) {\n        var id = this[_i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i2 = 0; _i2 < modules.length; _i2++) {\n      var item = [].concat(modules[_i2]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\n/***/ }),\n\n/***/ 272:\n/***/ ((module) => {\n\n\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};\n\n/***/ })\n\n/******/ });\n/************************************************************************/\n/******/ // The module cache\n/******/ var __webpack_module_cache__ = {};\n/******/ \n/******/ // The require function\n/******/ function __webpack_require__(moduleId) {\n/******/ \t// Check if module is in cache\n/******/ \tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \tif (cachedModule !== undefined) {\n/******/ \t\treturn cachedModule.exports;\n/******/ \t}\n/******/ \t// Create a new module (and put it into the cache)\n/******/ \tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\tid: moduleId,\n/******/ \t\t// no module.loaded needed\n/******/ \t\texports: {}\n/******/ \t};\n/******/ \n/******/ \t// Execute the module function\n/******/ \t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \n/******/ \t// Return the exports of the module\n/******/ \treturn module.exports;\n/******/ }\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/compat get default export */\n/******/ (() => {\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = (module) => {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t() => (module['default']) :\n/******/ \t\t\t() => (module);\n/******/ \t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\treturn getter;\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/global */\n/******/ (() => {\n/******/ \t__webpack_require__.g = (function() {\n/******/ \t\tif (typeof globalThis === 'object') return globalThis;\n/******/ \t\ttry {\n/******/ \t\t\treturn this || new Function('return this')();\n/******/ \t\t} catch (e) {\n/******/ \t\t\tif (typeof window === 'object') return window;\n/******/ \t\t}\n/******/ \t})();\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/make namespace object */\n/******/ (() => {\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = (exports) => {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/ })();\n/******/ \n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n(() => {\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"fWn\": () => (/* reexport */ ActionContext),\n  \"Ia8\": () => (/* reexport */ ActionQueue),\n  \"hLI\": () => (/* reexport */ ActionsComponent),\n  \"yyv\": () => (/* reexport */ ActionsSystem),\n  \"tX5\": () => (/* reexport */ ActivateEvent),\n  \"vtX\": () => (/* reexport */ Actor),\n  \"r7K\": () => (/* reexport */ AddedComponent),\n  \"lCh\": () => (/* reexport */ AddedEntity),\n  \"fwF\": () => (/* reexport */ Animation),\n  \"sce\": () => (/* reexport */ AnimationDirection),\n  \"_c7\": () => (/* reexport */ AnimationStrategy),\n  \"KUs\": () => (/* reexport */ ArcadeSolver),\n  \"Ajp\": () => (/* reexport */ AudioContextFactory),\n  \"RDh\": () => (/* reexport */ Axis),\n  \"_H9\": () => (/* reexport */ BaseAlign),\n  \"Ulf\": () => (/* reexport */ BinaryTreeNode),\n  \"mxs\": () => (/* reexport */ Blink),\n  \"OmD\": () => (/* reexport */ BodyComponent),\n  \"kBf\": () => (/* reexport */ BoundingBox),\n  \"C4F\": () => (/* reexport */ BroadphaseStrategy),\n  \"NQt\": () => (/* reexport */ BrowserComponent),\n  \"JjN\": () => (/* reexport */ BrowserEvents),\n  \"V1s\": () => (/* reexport */ Camera),\n  \"Xz7\": () => (/* reexport */ Canvas),\n  \"bLd\": () => (/* reexport */ Cell),\n  \"Cdc\": () => (/* reexport */ Circle),\n  \"FKn\": () => (/* reexport */ CircleCollider),\n  \"wTW\": () => (/* reexport */ Class),\n  \"ab2\": () => (/* reexport */ ClosestLine),\n  \"GfZ\": () => (/* reexport */ ClosestLineJumpTable),\n  \"YMS\": () => (/* reexport */ Collider),\n  \"oyv\": () => (/* reexport */ ColliderComponent),\n  \"aUb\": () => (/* reexport */ CollisionContact),\n  \"SdD\": () => (/* reexport */ CollisionEndEvent),\n  \"JUv\": () => (/* reexport */ CollisionGroup),\n  \"jEj\": () => (/* reexport */ CollisionGroupManager),\n  \"TFq\": () => (/* reexport */ CollisionJumpTable),\n  \"HDU\": () => (/* reexport */ CollisionPostSolveEvent),\n  \"R_y\": () => (/* reexport */ CollisionPreSolveEvent),\n  \"ydN\": () => (/* reexport */ CollisionResolutionStrategy),\n  \"_N2\": () => (/* reexport */ CollisionSolver),\n  \"t50\": () => (/* reexport */ CollisionStartEvent),\n  \"s$$\": () => (/* reexport */ CollisionSystem),\n  \"v2G\": () => (/* reexport */ CollisionType),\n  \"Ilk\": () => (/* reexport */ Color),\n  \"H_9\": () => (/* reexport */ ColorBlindCorrector),\n  \"s9i\": () => (/* reexport */ ColorBlindFlags),\n  \"ksl\": () => (/* reexport */ ColorBlindness),\n  \"wA2\": () => (/* reexport */ Component),\n  \"R_p\": () => (/* reexport */ CompositeCollider),\n  \"IQ$\": () => (/* reexport */ Configurable),\n  \"I5F\": () => (/* reexport */ ConsoleAppender),\n  \"X8$\": () => (/* reexport */ ContactConstraintPoint),\n  \"FR6\": () => (/* reexport */ ContactEndEvent),\n  \"U8o\": () => (/* reexport */ ContactStartEvent),\n  \"kbG\": () => (/* reexport */ CoordPlane),\n  \"oeJ\": () => (/* reexport */ CullingBox),\n  \"iS_\": () => (/* reexport */ DeactivateEvent),\n  \"cGG\": () => (/* reexport */ Debug),\n  \"skb\": () => (/* reexport */ DebugSystem),\n  \"SLU\": () => (/* reexport */ DebugText),\n  \"RdJ\": () => (/* reexport */ DegreeOfFreedom),\n  \"gU7\": () => (/* reexport */ Detector),\n  \"LSk\": () => (/* reexport */ Die),\n  \"Nmp\": () => (/* reexport */ Direction),\n  \"d1Y\": () => (/* reexport */ DisplayMode),\n  \"xrL\": () => (/* reexport */ DynamicTree),\n  \"sRW\": () => (/* reexport */ DynamicTreeCollisionProcessor),\n  \"cmV\": () => (/* binding */ EX_VERSION),\n  \"N0Q\": () => (/* reexport */ EaseTo),\n  \"q8b\": () => (/* reexport */ EasingFunctions),\n  \"ynB\": () => (/* reexport */ EdgeCollider),\n  \"jT9\": () => (/* reexport */ ElasticToActorStrategy),\n  \"wAz\": () => (/* reexport */ EmitterType),\n  \"D4V\": () => (/* reexport */ Engine),\n  \"N6H\": () => (/* reexport */ EnterTriggerEvent),\n  \"W1A\": () => (/* reexport */ EnterViewPortEvent),\n  \"JHW\": () => (/* reexport */ Entity),\n  \"v2K\": () => (/* reexport */ EntityManager),\n  \"pBf\": () => (/* reexport */ EventDispatcher),\n  \"GMl\": () => (/* reexport */ EventTypes),\n  \"zW2\": () => (/* reexport */ Events_namespaceObject),\n  \"B0K\": () => (/* reexport */ ExResponse),\n  \"Nv7\": () => (/* reexport */ ExcaliburGraphicsContext2DCanvas),\n  \"C_p\": () => (/* reexport */ ExcaliburGraphicsContextWebGL),\n  \"MUA\": () => (/* reexport */ ExitTriggerEvent),\n  \"xqU\": () => (/* reexport */ ExitViewPortEvent),\n  \"peG\": () => (/* reexport */ Experiments),\n  \"pTp\": () => (/* reexport */ Fade),\n  \"vUK\": () => (/* reexport */ Flags),\n  \"j9l\": () => (/* reexport */ Follow),\n  \"Zxw\": () => (/* reexport */ Font),\n  \"Hdx\": () => (/* reexport */ FontStyle),\n  \"Z$d\": () => (/* reexport */ FontUnit),\n  \"o$7\": () => (/* reexport */ FrameStats),\n  \"Zm$\": () => (/* reexport */ GameEvent),\n  \"$QH\": () => (/* reexport */ GameStartEvent),\n  \"i78\": () => (/* reexport */ GameStopEvent),\n  \"h6u\": () => (/* reexport */ GamepadAxisEvent),\n  \"hts\": () => (/* reexport */ GamepadButtonEvent),\n  \"j88\": () => (/* reexport */ GamepadConnectEvent),\n  \"VME\": () => (/* reexport */ GamepadDisconnectEvent),\n  \"nt\": () => (/* reexport */ Gif),\n  \"Ukr\": () => (/* reexport */ GlobalCoordinates),\n  \"zsu\": () => (/* reexport */ Graphic),\n  \"oA6\": () => (/* reexport */ GraphicsComponent),\n  \"TVh\": () => (/* reexport */ GraphicsGroup),\n  \"TwZ\": () => (/* reexport */ GraphicsLayer),\n  \"GTT\": () => (/* reexport */ GraphicsLayers),\n  \"xxj\": () => (/* reexport */ GraphicsSystem),\n  \"XdK\": () => (/* reexport */ HiddenEvent),\n  \"cXo\": () => (/* reexport */ ImageSource),\n  \"Dm5\": () => (/* reexport */ InitializeEvent),\n  \"IIB\": () => (/* reexport */ Input_Index_namespaceObject),\n  \"zI0\": () => (/* reexport */ Integrator),\n  \"SKZ\": () => (/* reexport */ KillEvent),\n  \"__J\": () => (/* reexport */ Label_Label),\n  \"Dvr\": () => (/* reexport */ Legacy),\n  \"Tf9\": () => (/* reexport */ Drawing_Index_namespaceObject),\n  \"RI$\": () => (/* reexport */ LimitCameraBoundsStrategy),\n  \"x12\": () => (/* reexport */ Line),\n  \"aNw\": () => (/* reexport */ Loader),\n  \"xwn\": () => (/* reexport */ LockCameraToActorAxisStrategy),\n  \"dNK\": () => (/* reexport */ LockCameraToActorStrategy),\n  \"ini\": () => (/* reexport */ LogLevel),\n  \"YdH\": () => (/* reexport */ Logger),\n  \"y3G\": () => (/* reexport */ Matrix),\n  \"l57\": () => (/* reexport */ MatrixLocations),\n  \"xn0\": () => (/* reexport */ MediaEvent),\n  \"t2V\": () => (/* reexport */ Meet),\n  \"ZyS\": () => (/* reexport */ MockedElement),\n  \"uxB\": () => (/* reexport */ MotionComponent),\n  \"cpd\": () => (/* reexport */ MotionSystem),\n  \"fiy\": () => (/* reexport */ MoveBy),\n  \"$XZ\": () => (/* reexport */ MoveTo),\n  \"uqK\": () => (/* reexport */ NativeSoundEvent),\n  \"STE\": () => (/* reexport */ NativeSoundProcessedEvent),\n  \"y$z\": () => (/* reexport */ Observable),\n  \"sOq\": () => (/* reexport */ Pair),\n  \"Sqs\": () => (/* reexport */ ParseGif),\n  \"hpZ\": () => (/* reexport */ Particle),\n  \"Vol\": () => (/* reexport */ ParticleEmitter),\n  \"wIZ\": () => (/* reexport */ Physics),\n  \"cBi\": () => (/* reexport */ PhysicsStats),\n  \"mgq\": () => (/* reexport */ Polygon_Polygon),\n  \"YVA\": () => (/* reexport */ PolygonCollider),\n  \"Kgp\": () => (/* reexport */ Pool),\n  \"HH$\": () => (/* reexport */ PostCollisionEvent),\n  \"M_d\": () => (/* reexport */ PostDebugDrawEvent),\n  \"rgh\": () => (/* reexport */ PostDrawEvent),\n  \"Ra6\": () => (/* reexport */ PostFrameEvent),\n  \"KhR\": () => (/* reexport */ PostKillEvent),\n  \"BS5\": () => (/* reexport */ PostUpdateEvent),\n  \"xhz\": () => (/* reexport */ PreCollisionEvent),\n  \"xOq\": () => (/* reexport */ PreDebugDrawEvent),\n  \"a9j\": () => (/* reexport */ PreDrawEvent),\n  \"bHk\": () => (/* reexport */ PreFrameEvent),\n  \"CgK\": () => (/* reexport */ PreKillEvent),\n  \"cuY\": () => (/* reexport */ PreUpdateEvent),\n  \"kvE\": () => (/* reexport */ Projection),\n  \"JDb\": () => (/* reexport */ Promises_Promise),\n  \"Cbi\": () => (/* reexport */ PromiseState),\n  \"AE_\": () => (/* reexport */ Query),\n  \"ctO\": () => (/* reexport */ QueryManager),\n  \"OLH\": () => (/* reexport */ RadiusAroundActorStrategy),\n  \"kky\": () => (/* reexport */ Random),\n  \"nSF\": () => (/* reexport */ Raster),\n  \"zHn\": () => (/* reexport */ Ray),\n  \"zwx\": () => (/* reexport */ RealisticSolver),\n  \"AeJ\": () => (/* reexport */ Rectangle),\n  \"hLz\": () => (/* reexport */ RemovedComponent),\n  \"D9g\": () => (/* reexport */ RemovedEntity),\n  \"wA\": () => (/* reexport */ Repeat),\n  \"jhr\": () => (/* reexport */ RepeatForever),\n  \"GVs\": () => (/* reexport */ Resolution),\n  \"_zO\": () => (/* reexport */ Resource),\n  \"w6$\": () => (/* reexport */ RotateBy),\n  \"mhV\": () => (/* reexport */ RotateTo),\n  \"MOD\": () => (/* reexport */ RotationType),\n  \"kwd\": () => (/* reexport */ ScaleBy),\n  \"Lmr\": () => (/* reexport */ ScaleTo),\n  \"xsS\": () => (/* reexport */ Scene),\n  \"lLr\": () => (/* reexport */ Screen),\n  \"Z$r\": () => (/* reexport */ ScreenAppender),\n  \"IXb\": () => (/* reexport */ ScreenElement_ScreenElement),\n  \"SMj\": () => (/* reexport */ ScrollPreventionMode),\n  \"bnF\": () => (/* reexport */ Shape),\n  \"MFA\": () => (/* reexport */ Side),\n  \"$XC\": () => (/* reexport */ SortedList),\n  \"$uU\": () => (/* reexport */ Sound),\n  \"jyi\": () => (/* reexport */ Sprite),\n  \"E03\": () => (/* reexport */ SpriteFont_SpriteFont),\n  \"V6q\": () => (/* reexport */ SpriteSheet),\n  \"nVo\": () => (/* reexport */ StrategyContainer),\n  \"F6N\": () => (/* reexport */ Stream),\n  \"ad3\": () => (/* reexport */ SubscribeEvent),\n  \"xP7\": () => (/* reexport */ System),\n  \"Odq\": () => (/* reexport */ SystemManager),\n  \"Zif\": () => (/* reexport */ SystemType),\n  \"ZGJ\": () => (/* reexport */ TagComponent),\n  \"xvT\": () => (/* reexport */ Text),\n  \"PHM\": () => (/* reexport */ TextAlign),\n  \"KwO\": () => (/* reexport */ TileMap),\n  \"B7y\": () => (/* reexport */ Timer),\n  \"SFp\": () => (/* reexport */ Traits_Index_namespaceObject),\n  \"Uvn\": () => (/* reexport */ TransformComponent),\n  \"OFT\": () => (/* reexport */ TreeNode),\n  \"xzN\": () => (/* reexport */ Trigger_Trigger),\n  \"H6j\": () => (/* reexport */ UnsubscribeEvent),\n  \"ZrN\": () => (/* reexport */ Util_Index_namespaceObject),\n  \"OWs\": () => (/* reexport */ Vector),\n  \"dF9\": () => (/* reexport */ VectorView),\n  \"VHo\": () => (/* reexport */ VisibleEvent),\n  \"R$E\": () => (/* reexport */ WebAudioInstance),\n  \"q3I\": () => (/* reexport */ World),\n  \"Pab\": () => (/* reexport */ canonicalizeAngle),\n  \"uZ5\": () => (/* reexport */ clamp),\n  \"McK\": () => (/* reexport */ createId),\n  \"k0b\": () => (/* reexport */ hasGraphicsTick),\n  \"hnT\": () => (/* reexport */ hasOnInitialize),\n  \"RSJ\": () => (/* reexport */ hasOnPostUpdate),\n  \"Mku\": () => (/* reexport */ hasOnPreUpdate),\n  \"h90\": () => (/* reexport */ hasPostDraw),\n  \"rms\": () => (/* reexport */ hasPreDraw),\n  \"ErP\": () => (/* reexport */ has_initialize),\n  \"aVg\": () => (/* reexport */ has_postupdate),\n  \"lPc\": () => (/* reexport */ has_preupdate),\n  \"Z8E\": () => (/* reexport */ isAddedComponent),\n  \"NNA\": () => (/* reexport */ isAddedSystemEntity),\n  \"yFn\": () => (/* reexport */ isRemoveSystemEntity),\n  \"lNv\": () => (/* reexport */ isRemovedComponent),\n  \"MZQ\": () => (/* reexport */ maxMessages),\n  \"FUM\": () => (/* reexport */ obsolete),\n  \"vdf\": () => (/* reexport */ randomInRange),\n  \"iaL\": () => (/* reexport */ randomIntInRange),\n  \"w6H\": () => (/* reexport */ range),\n  \"Q4c\": () => (/* reexport */ resetObsoleteCounter),\n  \"Uxb\": () => (/* reexport */ toDegrees),\n  \"Yr5\": () => (/* reexport */ toRadians),\n  \"Bhw\": () => (/* reexport */ vec)\n});\n\n// NAMESPACE OBJECT: ./Events.ts\nvar Events_namespaceObject = {};\n__webpack_require__.r(Events_namespaceObject);\n__webpack_require__.d(Events_namespaceObject, {\n  \"ActivateEvent\": () => (ActivateEvent),\n  \"CollisionEndEvent\": () => (CollisionEndEvent),\n  \"CollisionPostSolveEvent\": () => (CollisionPostSolveEvent),\n  \"CollisionPreSolveEvent\": () => (CollisionPreSolveEvent),\n  \"CollisionStartEvent\": () => (CollisionStartEvent),\n  \"ContactEndEvent\": () => (ContactEndEvent),\n  \"ContactStartEvent\": () => (ContactStartEvent),\n  \"DeactivateEvent\": () => (DeactivateEvent),\n  \"EnterTriggerEvent\": () => (EnterTriggerEvent),\n  \"EnterViewPortEvent\": () => (EnterViewPortEvent),\n  \"EventTypes\": () => (EventTypes),\n  \"ExitTriggerEvent\": () => (ExitTriggerEvent),\n  \"ExitViewPortEvent\": () => (ExitViewPortEvent),\n  \"GameEvent\": () => (GameEvent),\n  \"GameStartEvent\": () => (GameStartEvent),\n  \"GameStopEvent\": () => (GameStopEvent),\n  \"GamepadAxisEvent\": () => (GamepadAxisEvent),\n  \"GamepadButtonEvent\": () => (GamepadButtonEvent),\n  \"GamepadConnectEvent\": () => (GamepadConnectEvent),\n  \"GamepadDisconnectEvent\": () => (GamepadDisconnectEvent),\n  \"HiddenEvent\": () => (HiddenEvent),\n  \"InitializeEvent\": () => (InitializeEvent),\n  \"KillEvent\": () => (KillEvent),\n  \"PostCollisionEvent\": () => (PostCollisionEvent),\n  \"PostDebugDrawEvent\": () => (PostDebugDrawEvent),\n  \"PostDrawEvent\": () => (PostDrawEvent),\n  \"PostFrameEvent\": () => (PostFrameEvent),\n  \"PostKillEvent\": () => (PostKillEvent),\n  \"PostUpdateEvent\": () => (PostUpdateEvent),\n  \"PreCollisionEvent\": () => (PreCollisionEvent),\n  \"PreDebugDrawEvent\": () => (PreDebugDrawEvent),\n  \"PreDrawEvent\": () => (PreDrawEvent),\n  \"PreFrameEvent\": () => (PreFrameEvent),\n  \"PreKillEvent\": () => (PreKillEvent),\n  \"PreUpdateEvent\": () => (PreUpdateEvent),\n  \"SubscribeEvent\": () => (SubscribeEvent),\n  \"UnsubscribeEvent\": () => (UnsubscribeEvent),\n  \"VisibleEvent\": () => (VisibleEvent)\n});\n\n// NAMESPACE OBJECT: ./Drawing/SpriteEffects.ts\nvar SpriteEffects_namespaceObject = {};\n__webpack_require__.r(SpriteEffects_namespaceObject);\n__webpack_require__.d(SpriteEffects_namespaceObject, {\n  \"Colorize\": () => (Colorize),\n  \"Darken\": () => (Darken),\n  \"Desaturate\": () => (Desaturate),\n  \"Fill\": () => (Fill),\n  \"Grayscale\": () => (Grayscale),\n  \"Invert\": () => (Invert),\n  \"Lighten\": () => (Lighten),\n  \"Opacity\": () => (Opacity),\n  \"Saturate\": () => (Saturate)\n});\n\n// NAMESPACE OBJECT: ./Util/DrawUtil.ts\nvar DrawUtil_namespaceObject = {};\n__webpack_require__.r(DrawUtil_namespaceObject);\n__webpack_require__.d(DrawUtil_namespaceObject, {\n  \"circle\": () => (circle),\n  \"line\": () => (line),\n  \"point\": () => (point),\n  \"roundRect\": () => (roundRect),\n  \"vector\": () => (vector)\n});\n\n// NAMESPACE OBJECT: ./Drawing/Index.ts\nvar Drawing_Index_namespaceObject = {};\n__webpack_require__.r(Drawing_Index_namespaceObject);\n__webpack_require__.d(Drawing_Index_namespaceObject, {\n  \"Animation\": () => (Animation_Animation),\n  \"CanvasDrawComponent\": () => (CanvasDrawComponent),\n  \"CanvasDrawingSystem\": () => (CanvasDrawingSystem),\n  \"Effects\": () => (SpriteEffects_namespaceObject),\n  \"Polygon\": () => (Polygon),\n  \"Sprite\": () => (Sprite_Sprite),\n  \"SpriteFont\": () => (SpriteFont),\n  \"SpriteSheet\": () => (SpriteSheet_SpriteSheet),\n  \"Texture\": () => (Texture)\n});\n\n// NAMESPACE OBJECT: ./Input/Index.ts\nvar Input_Index_namespaceObject = {};\n__webpack_require__.r(Input_Index_namespaceObject);\n__webpack_require__.d(Input_Index_namespaceObject, {\n  \"Axes\": () => (Axes),\n  \"Buttons\": () => (Buttons),\n  \"Gamepad\": () => (Gamepad),\n  \"Gamepads\": () => (Gamepads),\n  \"KeyEvent\": () => (KeyEvent),\n  \"Keyboard\": () => (Keyboard),\n  \"Keys\": () => (Keys),\n  \"NativePointerButton\": () => (NativePointerButton),\n  \"Pointer\": () => (Pointer),\n  \"PointerButton\": () => (PointerButton),\n  \"PointerCancelEvent\": () => (PointerCancelEvent),\n  \"PointerDownEvent\": () => (PointerDownEvent),\n  \"PointerDragEvent\": () => (PointerDragEvent),\n  \"PointerEnterEvent\": () => (PointerEnterEvent),\n  \"PointerEvent\": () => (PointerEvent),\n  \"PointerEventFactory\": () => (PointerEventFactory),\n  \"PointerLeaveEvent\": () => (PointerLeaveEvent),\n  \"PointerMoveEvent\": () => (PointerMoveEvent),\n  \"PointerScope\": () => (PointerScope),\n  \"PointerType\": () => (PointerType),\n  \"PointerUpEvent\": () => (PointerUpEvent),\n  \"Pointers\": () => (Pointers),\n  \"WheelDeltaMode\": () => (WheelDeltaMode),\n  \"WheelEvent\": () => (WheelEvent),\n  \"createPointerEventByName\": () => (createPointerEventByName)\n});\n\n// NAMESPACE OBJECT: ./Traits/Index.ts\nvar Traits_Index_namespaceObject = {};\n__webpack_require__.r(Traits_Index_namespaceObject);\n__webpack_require__.d(Traits_Index_namespaceObject, {\n  \"CapturePointer\": () => (CapturePointer),\n  \"OffscreenCulling\": () => (OffscreenCulling)\n});\n\n// NAMESPACE OBJECT: ./Util/Index.ts\nvar Util_Index_namespaceObject = {};\n__webpack_require__.r(Util_Index_namespaceObject);\n__webpack_require__.d(Util_Index_namespaceObject, {\n  \"Collection\": () => (Collection),\n  \"ConsoleAppender\": () => (ConsoleAppender),\n  \"DrawUtil\": () => (DrawUtil_namespaceObject),\n  \"EasingFunctions\": () => (EasingFunctions),\n  \"LogLevel\": () => (LogLevel),\n  \"Logger\": () => (Logger),\n  \"Observable\": () => (Observable),\n  \"ScreenAppender\": () => (ScreenAppender),\n  \"TwoPI\": () => (TwoPI),\n  \"addItemToArray\": () => (addItemToArray),\n  \"base64Encode\": () => (base64Encode),\n  \"canonicalizeAngle\": () => (canonicalizeAngle),\n  \"clamp\": () => (clamp),\n  \"contains\": () => (contains),\n  \"delay\": () => (delay),\n  \"extend\": () => (extend),\n  \"fail\": () => (fail),\n  \"getOppositeSide\": () => (getOppositeSide),\n  \"getPosition\": () => (getPosition),\n  \"getSideFromDirection\": () => (getSideFromDirection),\n  \"nullish\": () => (nullish),\n  \"randomInRange\": () => (randomInRange),\n  \"randomIntInRange\": () => (randomIntInRange),\n  \"range\": () => (range),\n  \"removeItemFromArray\": () => (removeItemFromArray),\n  \"toDegrees\": () => (toDegrees),\n  \"toRadians\": () => (toRadians)\n});\n\n// EXTERNAL MODULE: ../../node_modules/core-js/es/array/sort.js\nvar sort = __webpack_require__(4662);\n// EXTERNAL MODULE: ../../node_modules/core-js/es/object/keys.js\nvar keys = __webpack_require__(8343);\n;// CONCATENATED MODULE: ./Polyfill.ts\n\r\n\r\n/**\r\n * Polyfill adding function\r\n */\r\nfunction polyfill() {\r\n    /* istanbul ignore next */\r\n    if (typeof window === 'undefined') {\r\n        window = {\r\n            audioContext: function () {\r\n                return;\r\n            }\r\n        };\r\n    }\r\n    /* istanbul ignore next */\r\n    if (typeof window !== 'undefined' && !window.requestAnimationFrame) {\r\n        window.requestAnimationFrame =\r\n            window.webkitRequestAnimationFrame ||\r\n                window.mozRequestAnimationFrame ||\r\n                function (callback) {\r\n                    window.setInterval(callback, 1000 / 60);\r\n                };\r\n    }\r\n    /* istanbul ignore next */\r\n    if (typeof window !== 'undefined' && !window.cancelAnimationFrame) {\r\n        window.cancelAnimationFrame =\r\n            window.webkitCancelAnimationFrame ||\r\n                window.mozCancelAnimationFrame ||\r\n                function () {\r\n                    return;\r\n                };\r\n    }\r\n    /* istanbul ignore next */\r\n    if (typeof window !== 'undefined' && !window.AudioContext) {\r\n        if (window.webkitAudioContext) {\r\n            const ctx = window.webkitAudioContext;\r\n            const replaceMe = ctx.prototype.decodeAudioData;\r\n            window.webkitAudioContext.prototype.decodeAudioData = function (arrayBuffer) {\r\n                return new Promise((resolve, reject) => {\r\n                    replaceMe.call(this, arrayBuffer, resolve, reject);\r\n                });\r\n            };\r\n        }\r\n        window.AudioContext =\r\n            window.AudioContext ||\r\n                window.webkitAudioContext ||\r\n                window.mozAudioContext ||\r\n                window.msAudioContext ||\r\n                window.oAudioContext;\r\n    }\r\n    /* istanbul ignore next */\r\n    if (typeof window !== 'undefined' && !window.devicePixelRatio) {\r\n        window.devicePixelRatio = window.devicePixelRatio || 1;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Flags.ts\n/**\r\n * Features in preview\r\n */\r\nvar Experiments;\r\n(function (Experiments) {\r\n    Experiments[\"WebGL\"] = \"use-webgl\";\r\n})(Experiments || (Experiments = {}));\r\n/**\r\n * Legacy features that will go away\r\n */\r\nvar Legacy;\r\n(function (Legacy) {\r\n    Legacy[\"Canvas\"] = \"use-canvas-context\";\r\n    Legacy[\"LegacyDrawing\"] = \"use-legacy-drawing\";\r\n})(Legacy || (Legacy = {}));\r\n/**\r\n * Flags is a feature flag implementation for Excalibur. They can only be operated **before [[Engine]] construction**\r\n * after which they are frozen and are read-only.\r\n *\r\n * Flags are used to enable experimental or preview features in Excalibur.\r\n */\r\nclass Flags {\r\n    /**\r\n     * Freeze all flag modifications making them readonly\r\n     */\r\n    static freeze() {\r\n        Flags._FROZEN = true;\r\n    }\r\n    /**\r\n     * Resets internal flag state, not meant to be called by users. Only used for testing.\r\n     *\r\n     * Calling this in your game is UNSUPPORTED\r\n     * @internal\r\n     */\r\n    static _reset() {\r\n        Flags._FROZEN = false;\r\n        Flags._FLAGS = {};\r\n    }\r\n    /**\r\n     * Turn on webgl support\r\n     */\r\n    static useWebGL() {\r\n        Flags.enable(Experiments.WebGL);\r\n    }\r\n    static useCanvasGraphicsContext() {\r\n        Flags.enable(Legacy.Canvas);\r\n    }\r\n    /**\r\n     * @deprecated Recommended not to use legacy drawing, going away in v0.26.0\r\n     */\r\n    static useLegacyDrawing() {\r\n        Flags.enable(Legacy.LegacyDrawing);\r\n    }\r\n    /**\r\n     * Enable a specific feature flag by name. **Note: can only be set before [[Engine]] constructor time**\r\n     * @param flagName\r\n     */\r\n    static enable(flagName) {\r\n        if (this._FROZEN) {\r\n            throw Error('Feature flags can only be enabled before Engine constructor time');\r\n        }\r\n        Flags._FLAGS[flagName] = true;\r\n    }\r\n    /**\r\n     * Disable a specific feature flag by name. **Note: can only be set before [[Engine]] constructor time**\r\n     * @param flagName\r\n     */\r\n    static disable(flagName) {\r\n        if (this._FROZEN) {\r\n            throw Error('Feature flags can only be disabled before Engine constructor time');\r\n        }\r\n        Flags._FLAGS[flagName] = false;\r\n    }\r\n    /**\r\n     * Check if a flag is enabled. If the flag is disabled or does not exist `false` is returned\r\n     * @param flagName\r\n     */\r\n    static isEnabled(flagName) {\r\n        return !!Flags._FLAGS[flagName];\r\n    }\r\n    /**\r\n     * Show a list of currently known flags\r\n     */\r\n    static show() {\r\n        return Object.keys(Flags._FLAGS);\r\n    }\r\n}\r\nFlags._FROZEN = false;\r\nFlags._FLAGS = {};\r\n\n;// CONCATENATED MODULE: ./Id.ts\n/**\r\n *\r\n */\r\nfunction createId(type, value) {\r\n    return { type, value };\r\n}\r\n;\r\n\n;// CONCATENATED MODULE: ./Util/Log.ts\n/* eslint-disable no-console */\r\n/**\r\n * Logging level that Excalibur will tag\r\n */\r\nvar LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"Debug\"] = 0] = \"Debug\";\r\n    LogLevel[LogLevel[\"Info\"] = 1] = \"Info\";\r\n    LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\r\n    LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\r\n    LogLevel[LogLevel[\"Fatal\"] = 4] = \"Fatal\";\r\n})(LogLevel || (LogLevel = {}));\r\n/**\r\n * Static singleton that represents the logging facility for Excalibur.\r\n * Excalibur comes built-in with a [[ConsoleAppender]] and [[ScreenAppender]].\r\n * Derive from [[Appender]] to create your own logging appenders.\r\n */\r\nclass Logger {\r\n    constructor() {\r\n        this._appenders = [];\r\n        /**\r\n         * Gets or sets the default logging level. Excalibur will only log\r\n         * messages if equal to or above this level. Default: [[LogLevel.Info]]\r\n         */\r\n        this.defaultLevel = LogLevel.Info;\r\n        if (Logger._INSTANCE) {\r\n            throw new Error('Logger is a singleton');\r\n        }\r\n        Logger._INSTANCE = this;\r\n        // Default console appender\r\n        Logger._INSTANCE.addAppender(new ConsoleAppender());\r\n        return Logger._INSTANCE;\r\n    }\r\n    /**\r\n     * Gets the current static instance of Logger\r\n     */\r\n    static getInstance() {\r\n        if (Logger._INSTANCE == null) {\r\n            Logger._INSTANCE = new Logger();\r\n        }\r\n        return Logger._INSTANCE;\r\n    }\r\n    /**\r\n     * Adds a new [[Appender]] to the list of appenders to write to\r\n     */\r\n    addAppender(appender) {\r\n        this._appenders.push(appender);\r\n    }\r\n    /**\r\n     * Clears all appenders from the logger\r\n     */\r\n    clearAppenders() {\r\n        this._appenders.length = 0;\r\n    }\r\n    /**\r\n     * Logs a message at a given LogLevel\r\n     * @param level  The LogLevel`to log the message at\r\n     * @param args   An array of arguments to write to an appender\r\n     */\r\n    _log(level, args) {\r\n        if (level == null) {\r\n            level = this.defaultLevel;\r\n        }\r\n        const len = this._appenders.length;\r\n        for (let i = 0; i < len; i++) {\r\n            if (level >= this.defaultLevel) {\r\n                this._appenders[i].log(level, args);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Writes a log message at the [[LogLevel.Debug]] level\r\n     * @param args  Accepts any number of arguments\r\n     */\r\n    debug(...args) {\r\n        this._log(LogLevel.Debug, args);\r\n    }\r\n    /**\r\n     * Writes a log message at the [[LogLevel.Info]] level\r\n     * @param args  Accepts any number of arguments\r\n     */\r\n    info(...args) {\r\n        this._log(LogLevel.Info, args);\r\n    }\r\n    /**\r\n     * Writes a log message at the [[LogLevel.Warn]] level\r\n     * @param args  Accepts any number of arguments\r\n     */\r\n    warn(...args) {\r\n        this._log(LogLevel.Warn, args);\r\n    }\r\n    /**\r\n     * Writes a log message at the [[LogLevel.Error]] level\r\n     * @param args  Accepts any number of arguments\r\n     */\r\n    error(...args) {\r\n        this._log(LogLevel.Error, args);\r\n    }\r\n    /**\r\n     * Writes a log message at the [[LogLevel.Fatal]] level\r\n     * @param args  Accepts any number of arguments\r\n     */\r\n    fatal(...args) {\r\n        this._log(LogLevel.Fatal, args);\r\n    }\r\n}\r\nLogger._INSTANCE = null;\r\n/**\r\n * Console appender for browsers (i.e. `console.log`)\r\n */\r\nclass ConsoleAppender {\r\n    /**\r\n     * Logs a message at the given [[LogLevel]]\r\n     * @param level  Level to log at\r\n     * @param args   Arguments to log\r\n     */\r\n    log(level, args) {\r\n        // Check for console support\r\n        if (!console && !console.log && console.warn && console.error) {\r\n            // todo maybe do something better than nothing\r\n            return;\r\n        }\r\n        // Create a new console args array\r\n        const consoleArgs = [];\r\n        consoleArgs.unshift.apply(consoleArgs, args);\r\n        consoleArgs.unshift('[' + LogLevel[level] + '] : ');\r\n        if (level < LogLevel.Warn) {\r\n            // Call .log for Debug/Info\r\n            if (console.log.apply) {\r\n                // this is required on some older browsers that don't support apply on console.log :(\r\n                console.log.apply(console, consoleArgs);\r\n            }\r\n            else {\r\n                console.log(consoleArgs.join(' '));\r\n            }\r\n        }\r\n        else if (level < LogLevel.Error) {\r\n            // Call .warn for Warn\r\n            if (console.warn.apply) {\r\n                console.warn.apply(console, consoleArgs);\r\n            }\r\n            else {\r\n                console.warn(consoleArgs.join(' '));\r\n            }\r\n        }\r\n        else {\r\n            // Call .error for Error/Fatal\r\n            if (console.error.apply) {\r\n                console.error.apply(console, consoleArgs);\r\n            }\r\n            else {\r\n                console.error(consoleArgs.join(' '));\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * On-screen (canvas) appender\r\n */\r\nclass ScreenAppender {\r\n    /**\r\n     * @param width   Width of the screen appender in pixels\r\n     * @param height  Height of the screen appender in pixels\r\n     */\r\n    constructor(width, height) {\r\n        // @todo Clean this up\r\n        this._messages = [];\r\n        this._canvas = document.createElement('canvas');\r\n        this._canvas.width = width || window.innerWidth;\r\n        this._canvas.height = height || window.innerHeight;\r\n        this._canvas.style.position = 'absolute';\r\n        // eslint-disable-next-line\r\n        this._ctx = this._canvas.getContext('2d'); // eslint-disable-line\r\n        document.body.appendChild(this._canvas);\r\n    }\r\n    /**\r\n     * Logs a message at the given [[LogLevel]]\r\n     * @param level  Level to log at\r\n     * @param args   Arguments to log\r\n     */\r\n    log(level, args) {\r\n        const message = args.join(',');\r\n        this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\r\n        this._messages.unshift('[' + LogLevel[level] + '] : ' + message);\r\n        let pos = 10;\r\n        let opacity = 1.0;\r\n        for (let i = 0; i < this._messages.length; i++) {\r\n            this._ctx.fillStyle = 'rgba(255,255,255,' + opacity.toFixed(2) + ')';\r\n            this._ctx.fillText(this._messages[i], 200, pos);\r\n            pos += 10;\r\n            opacity = opacity > 0 ? opacity - 0.05 : 0;\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Math/Random.ts\n/**\r\n * @module\r\n * Pseudo-Random Utility\r\n *\r\n * A pseudo-random utility to add seeded random support for help in\r\n * generating things like terrain or reproducible randomness. Uses the\r\n * [Mersenne Twister](https://en.wikipedia.org/wiki/Mersenne_Twister) algorithm.\r\n */\r\n/**\r\n * 32-bit mask\r\n */\r\nconst BITMASK32 = 0xffffffff;\r\n/**\r\n * Pseudo-random number generator following the Mersenne_Twister algorithm. Given a seed this generator will produce the same sequence\r\n * of numbers each time it is called.\r\n * See https://en.wikipedia.org/wiki/Mersenne_Twister for more details.\r\n * Uses the MT19937-32 (2002) implementation documented here http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/MT2002/emt19937ar.html\r\n *\r\n * Api inspired by http://chancejs.com/# https://github.com/chancejs/chancejs\r\n */\r\nclass Random {\r\n    /**\r\n     * If no seed is specified, the Date.now() is used\r\n     */\r\n    constructor(seed) {\r\n        this.seed = seed;\r\n        // Separation point of one one word, the number of bits in the lower bitmask 0 <= r <= w-1\r\n        this._lowerMask = 0x7fffffff; // 31 bits same as _r\r\n        this._upperMask = 0x80000000; // 34 high bits\r\n        // Word size, 64 bits\r\n        this._w = 32;\r\n        // Degree of recurrence\r\n        this._n = 624;\r\n        // Middle word, an offset used in the recurrence defining the series x, 1<=m<n\r\n        this._m = 397;\r\n        // coefficients of teh rational normal form twist matrix\r\n        this._a = 0x9908b0df;\r\n        // tempering bit shifts and masks\r\n        this._u = 11;\r\n        this._s = 7;\r\n        this._b = 0x9d2c5680;\r\n        this._t = 15;\r\n        this._c = 0xefc60000;\r\n        this._l = 18;\r\n        this._f = 1812433253;\r\n        this._mt = new Array(this._n);\r\n        // need to mask to support higher bit machines\r\n        this._mt[0] = (seed || Date.now()) >>> 0;\r\n        for (let i = 1; i < this._n; i++) {\r\n            const s = this._mt[i - 1] ^ (this._mt[i - 1] >>> (this._w - 2));\r\n            // numbers are bigger than the JS max safe int, add in 16-bit chunks to prevent IEEE rounding errors on high bits\r\n            this._mt[i] = (((this._f * ((s & 0xffff0000) >>> 16)) << 16) + this._f * (s & 0xffff) + i) >>> 0;\r\n        }\r\n        this._index = this._n;\r\n    }\r\n    /**\r\n     * Apply the twist\r\n     */\r\n    _twist() {\r\n        const mag01 = [0x0, this._a];\r\n        let y = 0, i = 0;\r\n        for (; i < this._n - this._m; i++) {\r\n            y = (this._mt[i] & this._upperMask) | (this._mt[i + 1] & this._lowerMask);\r\n            this._mt[i] = this._mt[i + this._m] ^ (y >>> 1) ^ (mag01[y & 0x1] & BITMASK32);\r\n        }\r\n        for (; i < this._n - 1; i++) {\r\n            y = (this._mt[i] & this._upperMask) | (this._mt[i + 1] & this._lowerMask);\r\n            this._mt[i] = this._mt[i + (this._m - this._n)] ^ (y >>> 1) ^ (mag01[y & 0x1] & BITMASK32);\r\n        }\r\n        y = (this._mt[this._n - 1] & this._upperMask) | (this._mt[0] & this._lowerMask);\r\n        this._mt[this._n - 1] = this._mt[this._m - 1] ^ (y >>> 1) ^ (mag01[y & 0x1] & BITMASK32);\r\n        this._index = 0;\r\n    }\r\n    /**\r\n     * Return next 32 bit integer number in sequence\r\n     */\r\n    nextInt() {\r\n        if (this._index >= this._n) {\r\n            this._twist();\r\n        }\r\n        let y = this._mt[this._index++];\r\n        y ^= y >>> this._u;\r\n        y ^= (y << this._s) & this._b;\r\n        y ^= (y << this._t) & this._c;\r\n        y ^= y >>> this._l;\r\n        return y >>> 0;\r\n    }\r\n    /**\r\n     * Return a random floating point number between [0, 1)\r\n     */\r\n    next() {\r\n        return this.nextInt() * (1.0 / 4294967296.0); // divided by 2^32\r\n    }\r\n    /**\r\n     * Return a random floating point in range [min, max) min is included, max is not included\r\n     */\r\n    floating(min, max) {\r\n        return (max - min) * this.next() + min;\r\n    }\r\n    /**\r\n     * Return a random integer in range [min, max] min is included, max is included.\r\n     * Implemented with rejection sampling, see https://medium.com/@betable/tifu-by-using-math-random-f1c308c4fd9d#.i13tdiu5a\r\n     */\r\n    integer(min, max) {\r\n        return Math.floor((max - min + 1) * this.next() + min);\r\n    }\r\n    /**\r\n     * Returns true or false randomly with 50/50 odds by default.\r\n     * By default the likelihood of returning a true is .5 (50%).\r\n     * @param likelihood takes values between [0, 1]\r\n     */\r\n    bool(likelihood = 0.5) {\r\n        return this.next() <= likelihood;\r\n    }\r\n    /**\r\n     * Returns one element from an array at random\r\n     */\r\n    pickOne(array) {\r\n        return array[this.integer(0, array.length - 1)];\r\n    }\r\n    /**\r\n     * Returns a new array random picking elements from the original\r\n     * @param array Original array to pick from\r\n     * @param numPicks can be any positive number\r\n     * @param allowDuplicates indicates whether the returned set is allowed duplicates (it does not mean there will always be duplicates\r\n     * just that it is possible)\r\n     */\r\n    pickSet(array, numPicks, allowDuplicates = false) {\r\n        if (allowDuplicates) {\r\n            return this._pickSetWithDuplicates(array, numPicks);\r\n        }\r\n        else {\r\n            return this._pickSetWithoutDuplicates(array, numPicks);\r\n        }\r\n    }\r\n    /**\r\n     * Returns a new array randomly picking elements in the original (not reused)\r\n     * @param array Array to pick elements out of\r\n     * @param numPicks must be less than or equal to the number of elements in the array.\r\n     */\r\n    _pickSetWithoutDuplicates(array, numPicks) {\r\n        if (numPicks > array.length || numPicks < 0) {\r\n            throw new Error('Invalid number of elements to pick, must pick a value 0 < n <= length');\r\n        }\r\n        if (numPicks === array.length) {\r\n            return array;\r\n        }\r\n        const result = new Array(numPicks);\r\n        let currentPick = 0;\r\n        const tempArray = array.slice(0);\r\n        while (currentPick < numPicks) {\r\n            const index = this.integer(0, tempArray.length - 1);\r\n            result[currentPick++] = tempArray[index];\r\n            tempArray.splice(index, 1);\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Returns a new array random picking elements from the original allowing duplicates\r\n     * @param array Array to pick elements out of\r\n     * @param numPicks can be any positive number\r\n     */\r\n    _pickSetWithDuplicates(array, numPicks) {\r\n        // Typescript numbers are all floating point, so do we add check for int? (or floor the input?)\r\n        if (numPicks < 0) {\r\n            throw new Error('Invalid number of elements to pick, must pick a value 0 <= n < MAX_INT');\r\n        }\r\n        const result = new Array(numPicks);\r\n        for (let i = 0; i < numPicks; i++) {\r\n            result[i] = this.pickOne(array);\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Returns a new array that has its elements shuffled. Using the Fisher/Yates method\r\n     * https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\r\n     */\r\n    shuffle(array) {\r\n        const tempArray = array.slice(0);\r\n        let swap = null;\r\n        for (let i = 0; i < tempArray.length - 2; i++) {\r\n            const randomIndex = this.integer(i, tempArray.length - 1);\r\n            swap = tempArray[i];\r\n            tempArray[i] = tempArray[randomIndex];\r\n            tempArray[randomIndex] = swap;\r\n        }\r\n        return tempArray;\r\n    }\r\n    /**\r\n     * Generate a list of random integer numbers\r\n     * @param length the length of the final array\r\n     * @param min the minimum integer number to generate inclusive\r\n     * @param max the maximum integer number to generate inclusive\r\n     */\r\n    range(length, min, max) {\r\n        const result = new Array(length);\r\n        for (let i = 0; i < length; i++) {\r\n            result[i] = this.integer(min, max);\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Returns the result of a d4 dice roll\r\n     */\r\n    d4() {\r\n        return this.integer(1, 4);\r\n    }\r\n    /**\r\n     * Returns the result of a d6 dice roll\r\n     */\r\n    d6() {\r\n        return this.integer(1, 6);\r\n    }\r\n    /**\r\n     * Returns the result of a d8 dice roll\r\n     */\r\n    d8() {\r\n        return this.integer(1, 8);\r\n    }\r\n    /**\r\n     * Returns the result of a d10 dice roll\r\n     */\r\n    d10() {\r\n        return this.integer(1, 10);\r\n    }\r\n    /**\r\n     * Returns the result of a d12 dice roll\r\n     */\r\n    d12() {\r\n        return this.integer(1, 12);\r\n    }\r\n    /**\r\n     * Returns the result of a d20 dice roll\r\n     */\r\n    d20() {\r\n        return this.integer(1, 20);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Side.ts\n\r\n/**\r\n * An enum that describes the sides of an axis aligned box for collision\r\n */\r\nvar Side;\r\n(function (Side) {\r\n    Side[\"None\"] = \"None\";\r\n    Side[\"Top\"] = \"Top\";\r\n    Side[\"Bottom\"] = \"Bottom\";\r\n    Side[\"Left\"] = \"Left\";\r\n    Side[\"Right\"] = \"Right\";\r\n})(Side || (Side = {}));\r\n(function (Side) {\r\n    /**\r\n     * Returns the opposite side from the current\r\n     */\r\n    function getOpposite(side) {\r\n        if (side === Side.Top) {\r\n            return Side.Bottom;\r\n        }\r\n        if (side === Side.Bottom) {\r\n            return Side.Top;\r\n        }\r\n        if (side === Side.Left) {\r\n            return Side.Right;\r\n        }\r\n        if (side === Side.Right) {\r\n            return Side.Left;\r\n        }\r\n        return Side.None;\r\n    }\r\n    Side.getOpposite = getOpposite;\r\n    /**\r\n     * Given a vector, return the Side most in that direction (via dot product)\r\n     */\r\n    function fromDirection(direction) {\r\n        const directions = [Vector.Left, Vector.Right, Vector.Up, Vector.Down];\r\n        const directionEnum = [Side.Left, Side.Right, Side.Top, Side.Bottom];\r\n        let max = -Number.MAX_VALUE;\r\n        let maxIndex = -1;\r\n        for (let i = 0; i < directions.length; i++) {\r\n            if (directions[i].dot(direction) > max) {\r\n                max = directions[i].dot(direction);\r\n                maxIndex = i;\r\n            }\r\n        }\r\n        return directionEnum[maxIndex];\r\n    }\r\n    Side.fromDirection = fromDirection;\r\n})(Side || (Side = {}));\r\n\n;// CONCATENATED MODULE: ./Util/Util.ts\n\r\n\r\n\r\n/**\r\n * Two PI constant\r\n */\r\nconst TwoPI = Math.PI * 2;\r\n/**\r\n * Merges one or more objects into a single target object\r\n *\r\n * @returns Merged object with properties from other objects\r\n * @credit https://gomakethings.com/vanilla-javascript-version-of-jquery-extend/\r\n */\r\nfunction extend() {\r\n    const extended = {};\r\n    let deep = false;\r\n    let i = 0;\r\n    const length = arguments.length;\r\n    // Check if a deep merge\r\n    if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\r\n        deep = arguments[0];\r\n        i++;\r\n    }\r\n    // Merge the object into the extended object\r\n    const assignExists = typeof Object.assign === 'function';\r\n    let merge = null;\r\n    if (!assignExists) {\r\n        merge = function (obj) {\r\n            for (const prop in obj) {\r\n                if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n                    // If deep merge and property is an object, merge properties\r\n                    if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\r\n                        extended[prop] = extend(true, extended[prop], obj[prop]);\r\n                    }\r\n                    else {\r\n                        extended[prop] = obj[prop];\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n    else {\r\n        merge = Object.assign;\r\n    }\r\n    // Loop through each object and conduct a merge\r\n    for (; i < length; i++) {\r\n        const obj = arguments[i];\r\n        if (!assignExists) {\r\n            merge(obj);\r\n        }\r\n        else {\r\n            merge(extended, obj);\r\n        }\r\n    }\r\n    return extended;\r\n}\r\n/**\r\n * Encode a string in base64\r\n * @deprecated This will be removed in v0.26.0\r\n */\r\nfunction base64Encode(inputStr) {\r\n    const b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n    let outputStr = '';\r\n    let i = 0;\r\n    while (i < inputStr.length) {\r\n        //all three \"& 0xff\" added below are there to fix a known bug\r\n        //with bytes returned by xhr.responseText\r\n        const byte1 = inputStr.charCodeAt(i++) & 0xff;\r\n        const byte2 = inputStr.charCodeAt(i++) & 0xff;\r\n        const byte3 = inputStr.charCodeAt(i++) & 0xff;\r\n        const enc1 = byte1 >> 2;\r\n        const enc2 = ((byte1 & 3) << 4) | (byte2 >> 4);\r\n        let enc3, enc4;\r\n        if (isNaN(byte2)) {\r\n            enc3 = enc4 = 64;\r\n        }\r\n        else {\r\n            enc3 = ((byte2 & 15) << 2) | (byte3 >> 6);\r\n            if (isNaN(byte3)) {\r\n                enc4 = 64;\r\n            }\r\n            else {\r\n                enc4 = byte3 & 63;\r\n            }\r\n        }\r\n        outputStr += b64.charAt(enc1) + b64.charAt(enc2) + b64.charAt(enc3) + b64.charAt(enc4);\r\n    }\r\n    return outputStr;\r\n}\r\n/**\r\n * Sugar that will use `nullishVal` if it's not null or undefined. Simulates the `??` operator\r\n * @param nullishVal\r\n * @param defaultVal\r\n */\r\nfunction nullish(nullishVal, defaultVal) {\r\n    return nullishVal !== null && nullishVal !== undefined ? nullishVal : defaultVal;\r\n}\r\n/**\r\n * Clamps a value between a min and max inclusive\r\n */\r\nfunction clamp(val, min, max) {\r\n    return Math.min(Math.max(min, val), max);\r\n}\r\n/**\r\n * Find a random floating point number in range\r\n */\r\nfunction randomInRange(min, max, random = new Random()) {\r\n    return random ? random.floating(min, max) : min + Math.random() * (max - min);\r\n}\r\n/**\r\n * Find a random integer in a range\r\n */\r\nfunction randomIntInRange(min, max, random = new Random()) {\r\n    return random ? random.integer(min, max) : Math.round(randomInRange(min, max));\r\n}\r\n/**\r\n * Convert an angle to be the equivalent in the range [0, 2PI]\r\n */\r\nfunction canonicalizeAngle(angle) {\r\n    let tmpAngle = angle;\r\n    if (angle > TwoPI) {\r\n        while (tmpAngle > TwoPI) {\r\n            tmpAngle -= TwoPI;\r\n        }\r\n    }\r\n    if (angle < 0) {\r\n        while (tmpAngle < 0) {\r\n            tmpAngle += TwoPI;\r\n        }\r\n    }\r\n    return tmpAngle;\r\n}\r\n/**\r\n * Convert radians to degrees\r\n */\r\nfunction toDegrees(radians) {\r\n    return (180 / Math.PI) * radians;\r\n}\r\n/**\r\n * Convert degrees to radians\r\n */\r\nfunction toRadians(degrees) {\r\n    return (degrees / 180) * Math.PI;\r\n}\r\n/**\r\n * Find the screen position of an HTML element\r\n */\r\nfunction getPosition(el) {\r\n    let oLeft = 0, oTop = 0;\r\n    const calcOffsetLeft = (parent) => {\r\n        oLeft += parent.offsetLeft;\r\n        if (parent.offsetParent) {\r\n            calcOffsetLeft(parent.offsetParent);\r\n        }\r\n    };\r\n    const calcOffsetTop = (parent) => {\r\n        oTop += parent.offsetTop;\r\n        if (parent.offsetParent) {\r\n            calcOffsetTop(parent.offsetParent);\r\n        }\r\n    };\r\n    calcOffsetLeft(el);\r\n    calcOffsetTop(el);\r\n    return new Vector(oLeft, oTop);\r\n}\r\n/**\r\n * Add an item to an array list if it doesn't already exist. Returns true if added, false if not and already exists in the array.\r\n * @deprecated Will be removed in v0.26.0\r\n */\r\nfunction addItemToArray(item, array) {\r\n    if (array.indexOf(item) === -1) {\r\n        array.push(item);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Remove an item from an list\r\n * @deprecated Will be removed in v0.26.0\r\n */\r\nfunction removeItemFromArray(item, array) {\r\n    let index = -1;\r\n    if ((index = array.indexOf(item)) > -1) {\r\n        array.splice(index, 1);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * See if an array contains something\r\n */\r\nfunction contains(array, obj) {\r\n    for (let i = 0; i < array.length; i++) {\r\n        if (array[i] === obj) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Get the opposit side\r\n * TODO: Move to Side type\r\n * @deprecated Will be removed in v0.26.0\r\n */\r\nfunction getOppositeSide(side) {\r\n    if (side === Side.Top) {\r\n        return Side.Bottom;\r\n    }\r\n    if (side === Side.Bottom) {\r\n        return Side.Top;\r\n    }\r\n    if (side === Side.Left) {\r\n        return Side.Right;\r\n    }\r\n    if (side === Side.Right) {\r\n        return Side.Left;\r\n    }\r\n    return Side.None;\r\n}\r\n/**\r\n * Returns the side in the direction of the vector supplied\r\n * @param direction Vector to check\r\n * @deprecated\r\n * TODO: Move to Side type\r\n */\r\nfunction getSideFromDirection(direction) {\r\n    const directions = [Vector.Left, Vector.Right, Vector.Up, Vector.Down];\r\n    const directionEnum = [Side.Left, Side.Right, Side.Top, Side.Bottom];\r\n    let max = -Number.MAX_VALUE;\r\n    let maxIndex = -1;\r\n    for (let i = 0; i < directions.length; i++) {\r\n        if (directions[i].dot(direction) > max) {\r\n            max = directions[i].dot(direction);\r\n            maxIndex = i;\r\n        }\r\n    }\r\n    return directionEnum[maxIndex];\r\n}\r\n/**\r\n * Excalibur's dynamically resizing collection\r\n * @deprecated Will be removed v0.26.0\r\n */\r\nclass Collection {\r\n    /**\r\n     * @param initialSize  Initial size of the internal backing array\r\n     */\r\n    constructor(initialSize = Collection.DefaultSize) {\r\n        this._internalArray = null;\r\n        this._endPointer = 0;\r\n        this._internalArray = new Array(initialSize);\r\n    }\r\n    _resize() {\r\n        const newSize = this._internalArray.length * 2;\r\n        const newArray = new Array(newSize);\r\n        const count = this.count();\r\n        for (let i = 0; i < count; i++) {\r\n            newArray[i] = this._internalArray[i];\r\n        }\r\n        delete this._internalArray;\r\n        this._internalArray = newArray;\r\n    }\r\n    /**\r\n     * Push elements to the end of the collection\r\n     */\r\n    push(element) {\r\n        if (this._endPointer === this._internalArray.length) {\r\n            this._resize();\r\n        }\r\n        return (this._internalArray[this._endPointer++] = element);\r\n    }\r\n    /**\r\n     * Removes elements from the end of the collection\r\n     */\r\n    pop() {\r\n        this._endPointer = this._endPointer - 1 < 0 ? 0 : this._endPointer - 1;\r\n        return this._internalArray[this._endPointer];\r\n    }\r\n    /**\r\n     * Returns the count of the collection\r\n     */\r\n    count() {\r\n        return this._endPointer;\r\n    }\r\n    /**\r\n     * Empties the collection\r\n     */\r\n    clear() {\r\n        this._endPointer = 0;\r\n    }\r\n    /**\r\n     * Returns the size of the internal backing array\r\n     */\r\n    internalSize() {\r\n        return this._internalArray.length;\r\n    }\r\n    /**\r\n     * Returns an element at a specific index\r\n     * @param index  Index of element to retrieve\r\n     */\r\n    elementAt(index) {\r\n        if (index >= this.count()) {\r\n            //Logger.getInstance().error('Invalid parameter: ' + index);\r\n            throw new Error('Invalid index ' + index);\r\n        }\r\n        return this._internalArray[index];\r\n    }\r\n    /**\r\n     * Inserts an element at a specific index\r\n     * @param index  Index to insert the element\r\n     * @param value  Element to insert\r\n     */\r\n    insert(index, value) {\r\n        if (index >= this.count()) {\r\n            this._resize();\r\n        }\r\n        return (this._internalArray[index] = value);\r\n    }\r\n    /**\r\n     * Removes an element at a specific index\r\n     * @param index  Index of element to remove\r\n     */\r\n    remove(index) {\r\n        const count = this.count();\r\n        if (count === 0) {\r\n            //Logger.getInstance().error('Invalid parameter: ' + index);\r\n            throw new Error('Invalid parameter ' + index);\r\n        }\r\n        // O(n) Shift\r\n        const removed = this._internalArray[index];\r\n        for (let i = index; i < count; i++) {\r\n            this._internalArray[i] = this._internalArray[i + 1];\r\n        }\r\n        this._endPointer--;\r\n        return removed;\r\n    }\r\n    /**\r\n     * Removes an element by reference\r\n     * @param element  Element to retrieve\r\n     */\r\n    removeElement(element) {\r\n        const index = this._internalArray.indexOf(element);\r\n        this.remove(index);\r\n    }\r\n    /**\r\n     * Returns a array representing the collection\r\n     */\r\n    toArray() {\r\n        return this._internalArray.slice(0, this._endPointer);\r\n    }\r\n    /**\r\n     * Iterate over every element in the collection\r\n     * @param func  Callback to call for each element passing a reference to the element and its index, returned values are ignored\r\n     */\r\n    forEach(func) {\r\n        let i = 0;\r\n        const count = this.count();\r\n        for (i; i < count; i++) {\r\n            func.call(this, this._internalArray[i], i);\r\n        }\r\n    }\r\n    /**\r\n     * Mutate every element in the collection\r\n     * @param func  Callback to call for each element passing a reference to the element and its index, any values returned mutate\r\n     * the collection\r\n     */\r\n    map(func) {\r\n        const count = this.count();\r\n        for (let i = 0; i < count; i++) {\r\n            this._internalArray[i] = func.call(this, this._internalArray[i], i);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Default collection size\r\n */\r\nCollection.DefaultSize = 200;\r\n/**\r\n * Used for exhaustive checks at compile time\r\n */\r\nfunction fail(message) {\r\n    throw new Error(message);\r\n}\r\n/**\r\n * Generate a range of numbers\r\n * For example: range(0, 5) -> [0, 1, 2, 3, 4, 5]\r\n * @param from inclusive\r\n * @param to inclusive\r\n */\r\nconst range = (from, to) => Array.from(new Array(to - from + 1), (_x, i) => i + from);\r\n/**\r\n * Create a promise that resolves after a certain number of milliseconds\r\n * @param milliseconds\r\n */\r\nfunction delay(milliseconds) {\r\n    return new Promise((resolve) => {\r\n        setTimeout(() => {\r\n            resolve();\r\n        }, milliseconds);\r\n    });\r\n}\r\n\n;// CONCATENATED MODULE: ./Util/Decorators.ts\n\r\n\r\n\r\nconst maxMessages = 5;\r\nconst obsoleteMessage = {};\r\nconst resetObsoleteCounter = () => {\r\n    for (const message in obsoleteMessage) {\r\n        obsoleteMessage[message] = 0;\r\n    }\r\n};\r\nconst logMessage = (message, options) => {\r\n    const suppressObsoleteMessages = Flags.isEnabled('suppress-obsolete-message');\r\n    if (obsoleteMessage[message] < maxMessages && !suppressObsoleteMessages) {\r\n        Logger.getInstance().warn(message);\r\n        // tslint:disable-next-line: no-console\r\n        if (console.trace && options.showStackTrace) {\r\n            // tslint:disable-next-line: no-console\r\n            console.trace();\r\n        }\r\n    }\r\n    obsoleteMessage[message]++;\r\n};\r\n/**\r\n * Obsolete decorator for marking Excalibur methods obsolete, you can optionally specify a custom message and/or alternate replacement\r\n * method do the deprecated one. Inspired by https://github.com/jayphelps/core-decorators.js\r\n */\r\nfunction obsolete(options) {\r\n    options = extend({}, {\r\n        message: 'This feature will be removed in future versions of Excalibur.',\r\n        alternateMethod: null,\r\n        showStackTrack: false\r\n    }, options);\r\n    return function (target, property, descriptor) {\r\n        if (descriptor &&\r\n            !(typeof descriptor.value === 'function' || typeof descriptor.get === 'function' || typeof descriptor.set === 'function')) {\r\n            throw new SyntaxError('Only classes/functions/getters/setters can be marked as obsolete');\r\n        }\r\n        const methodSignature = `${target.name || ''}${target.name && property ? '.' : ''}${property ? property : ''}`;\r\n        const message = `${methodSignature} is marked obsolete: ${options.message}` +\r\n            (options.alternateMethod ? ` Use ${options.alternateMethod} instead` : '');\r\n        if (!obsoleteMessage[message]) {\r\n            obsoleteMessage[message] = 0;\r\n        }\r\n        // If descriptor is null it is a class\r\n        const method = descriptor ? Object.assign({}, descriptor) : target;\r\n        if (!descriptor) {\r\n            // with es2015 classes we need to change our decoration tactic\r\n            class DecoratedClass extends method {\r\n                constructor(...args) {\r\n                    logMessage(message, options);\r\n                    super(...args);\r\n                }\r\n            }\r\n            return DecoratedClass;\r\n        }\r\n        if (descriptor && descriptor.value) {\r\n            method.value = function () {\r\n                logMessage(message, options);\r\n                return descriptor.value.apply(this, arguments);\r\n            };\r\n            return method;\r\n        }\r\n        if (descriptor && descriptor.get) {\r\n            method.get = function () {\r\n                logMessage(message, options);\r\n                return descriptor.get.apply(this, arguments);\r\n            };\r\n        }\r\n        if (descriptor && descriptor.set) {\r\n            method.set = function () {\r\n                logMessage(message, options);\r\n                return descriptor.set.apply(this, arguments);\r\n            };\r\n        }\r\n        return method;\r\n    };\r\n}\r\n\n;// CONCATENATED MODULE: ./Math/vector.ts\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n/**\r\n * A 2D vector on a plane.\r\n */\r\nclass Vector {\r\n    /**\r\n     * @param x  X component of the Vector\r\n     * @param y  Y component of the Vector\r\n     */\r\n    constructor(x, y) {\r\n        this._x = 0;\r\n        this._y = 0;\r\n        this._x = x;\r\n        this._y = y;\r\n    }\r\n    /**\r\n     * A (0, 0) vector\r\n     */\r\n    static get Zero() {\r\n        return new Vector(0, 0);\r\n    }\r\n    /**\r\n     * A (1, 1) vector\r\n     */\r\n    static get One() {\r\n        return new Vector(1, 1);\r\n    }\r\n    /**\r\n     * A (0.5, 0.5) vector\r\n     */\r\n    static get Half() {\r\n        return new Vector(0.5, 0.5);\r\n    }\r\n    /**\r\n     * A unit vector pointing up (0, -1)\r\n     */\r\n    static get Up() {\r\n        return new Vector(0, -1);\r\n    }\r\n    /**\r\n     * A unit vector pointing down (0, 1)\r\n     */\r\n    static get Down() {\r\n        return new Vector(0, 1);\r\n    }\r\n    /**\r\n     * A unit vector pointing left (-1, 0)\r\n     */\r\n    static get Left() {\r\n        return new Vector(-1, 0);\r\n    }\r\n    /**\r\n     * A unit vector pointing right (1, 0)\r\n     */\r\n    static get Right() {\r\n        return new Vector(1, 0);\r\n    }\r\n    /**\r\n     * Returns a vector of unit length in the direction of the specified angle in Radians.\r\n     * @param angle The angle to generate the vector\r\n     */\r\n    static fromAngle(angle) {\r\n        return new Vector(Math.cos(angle), Math.sin(angle));\r\n    }\r\n    /**\r\n     * Checks if vector is not null, undefined, or if any of its components are NaN or Infinity.\r\n     */\r\n    static isValid(vec) {\r\n        if (vec === null || vec === undefined) {\r\n            return false;\r\n        }\r\n        if (isNaN(vec.x) || isNaN(vec.y)) {\r\n            return false;\r\n        }\r\n        if (vec.x === Infinity || vec.y === Infinity || vec.x === -Infinity || vec.y === -Infinity) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    /**\r\n     * Calculates distance between two Vectors\r\n     * @param vec1\r\n     * @param vec2\r\n     */\r\n    static distance(vec1, vec2) {\r\n        return Math.sqrt(Math.pow(vec1.x - vec2.x, 2) + Math.pow(vec1.y - vec2.y, 2));\r\n    }\r\n    /**\r\n     * Get the x component of the vector\r\n     */\r\n    get x() {\r\n        return this._x;\r\n    }\r\n    /**\r\n     * Set the x component, THIS MUTATES the current vector. It is usually better to create a new vector.\r\n     * @warning **Be very careful setting components on shared vectors, mutating shared vectors can cause hard to find bugs**\r\n     */\r\n    set x(val) {\r\n        this._x = val;\r\n    }\r\n    /**\r\n     * Get the y component of the vector\r\n     */\r\n    get y() {\r\n        return this._y;\r\n    }\r\n    /**\r\n     * Set the y component, THIS MUTATES the current vector. It is usually better to create a new vector.\r\n     * @warning **Be very careful setting components on shared vectors, mutating shared vectors can cause hard to find bugs**\r\n     */\r\n    set y(val) {\r\n        this._y = val;\r\n    }\r\n    /**\r\n     * Sets the x and y components at once, THIS MUTATES the current vector. It is usually better to create a new vector.\r\n     *\r\n     * @warning **Be very careful using this, mutating vectors can cause hard to find bugs**\r\n     */\r\n    setTo(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    /**\r\n     * Compares this point against another and tests for equality\r\n     * @param vector The other point to compare to\r\n     * @param tolerance Amount of euclidean distance off we are willing to tolerate\r\n     */\r\n    equals(vector, tolerance = 0.001) {\r\n        return Math.abs(this.x - vector.x) <= tolerance && Math.abs(this.y - vector.y) <= tolerance;\r\n    }\r\n    /**\r\n     * The distance to another vector. If no other Vector is specified, this will return the [[magnitude]].\r\n     * @param v  The other vector. Leave blank to use origin vector.\r\n     */\r\n    distance(v) {\r\n        if (!v) {\r\n            v = Vector.Zero;\r\n        }\r\n        return Math.sqrt(Math.pow(this.x - v.x, 2) + Math.pow(this.y - v.y, 2));\r\n    }\r\n    squareDistance(v) {\r\n        if (!v) {\r\n            v = Vector.Zero;\r\n        }\r\n        return Math.pow(this.x - v.x, 2) + Math.pow(this.y - v.y, 2);\r\n    }\r\n    /**\r\n     * The magnitude (size) of the Vector\r\n     * @deprecated magnitude will be removed in favour of '.size' in version 0.25.0\r\n     */\r\n    magnitude() {\r\n        return this.distance();\r\n    }\r\n    /**\r\n     * The size (magnitude) of the Vector\r\n     */\r\n    get size() {\r\n        return this.distance();\r\n    }\r\n    /**\r\n     * Setting the size mutates the current vector\r\n     *\r\n     * @warning Can be used to set the size of the vector, **be very careful using this, mutating vectors can cause hard to find bugs**\r\n     */\r\n    set size(newLength) {\r\n        const v = this.normalize().scale(newLength);\r\n        this.setTo(v.x, v.y);\r\n    }\r\n    /**\r\n     * Normalizes a vector to have a magnitude of 1.\r\n     */\r\n    normalize() {\r\n        const d = this.distance();\r\n        if (d > 0) {\r\n            return new Vector(this.x / d, this.y / d);\r\n        }\r\n        else {\r\n            return new Vector(0, 1);\r\n        }\r\n    }\r\n    /**\r\n     * Returns the average (midpoint) between the current point and the specified\r\n     */\r\n    average(vec) {\r\n        return this.add(vec).scale(0.5);\r\n    }\r\n    scale(sizeOrScale) {\r\n        if (sizeOrScale instanceof Vector) {\r\n            return new Vector(this.x * sizeOrScale.x, this.y * sizeOrScale.y);\r\n        }\r\n        else {\r\n            return new Vector(this.x * sizeOrScale, this.y * sizeOrScale);\r\n        }\r\n    }\r\n    /**\r\n     * Adds one vector to another\r\n     * @param v The vector to add\r\n     */\r\n    add(v) {\r\n        return new Vector(this.x + v.x, this.y + v.y);\r\n    }\r\n    /**\r\n     * Subtracts a vector from another, if you subtract vector `B.sub(A)` the resulting vector points from A -> B\r\n     * @param v The vector to subtract\r\n     */\r\n    sub(v) {\r\n        return new Vector(this.x - v.x, this.y - v.y);\r\n    }\r\n    /**\r\n     * Adds one vector to this one modifying the original\r\n     * @param v The vector to add\r\n     * @warning Be very careful using this, mutating vectors can cause hard to find bugs\r\n     */\r\n    addEqual(v) {\r\n        this.setTo(this.x + v.x, this.y + v.y);\r\n        return this;\r\n    }\r\n    /**\r\n     * Subtracts a vector from this one modifying the original\r\n     * @param v The vector to subtract\r\n     * @warning Be very careful using this, mutating vectors can cause hard to find bugs\r\n     */\r\n    subEqual(v) {\r\n        this.setTo(this.x - v.x, this.y - v.y);\r\n        return this;\r\n    }\r\n    /**\r\n     * Scales this vector by a factor of size and modifies the original\r\n     * @warning Be very careful using this, mutating vectors can cause hard to find bugs\r\n     */\r\n    scaleEqual(size) {\r\n        this.setTo(this.x * size, this.y * size);\r\n        return this;\r\n    }\r\n    /**\r\n     * Performs a dot product with another vector\r\n     * @param v  The vector to dot\r\n     */\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y;\r\n    }\r\n    cross(v) {\r\n        if (v instanceof Vector) {\r\n            return this.x * v.y - this.y * v.x;\r\n        }\r\n        else if (typeof v === 'number') {\r\n            return new Vector(v * this.y, -v * this.x);\r\n        }\r\n    }\r\n    static cross(num, vec) {\r\n        return new Vector(-num * vec.y, num * vec.x);\r\n    }\r\n    /**\r\n     * Returns the perpendicular vector to this one\r\n     */\r\n    perpendicular() {\r\n        return new Vector(this.y, -this.x);\r\n    }\r\n    /**\r\n     * Returns the normal vector to this one, same as the perpendicular of length 1\r\n     */\r\n    normal() {\r\n        return this.perpendicular().normalize();\r\n    }\r\n    /**\r\n     * Negate the current vector\r\n     */\r\n    negate() {\r\n        return this.scale(-1);\r\n    }\r\n    /**\r\n     * Returns the angle of this vector.\r\n     */\r\n    toAngle() {\r\n        return Math.atan2(this.y, this.x);\r\n    }\r\n    /**\r\n     * Rotates the current vector around a point by a certain number of\r\n     * degrees in radians\r\n     */\r\n    rotate(angle, anchor) {\r\n        if (!anchor) {\r\n            anchor = new Vector(0, 0);\r\n        }\r\n        const sinAngle = Math.sin(angle);\r\n        const cosAngle = Math.cos(angle);\r\n        const x = cosAngle * (this.x - anchor.x) - sinAngle * (this.y - anchor.y) + anchor.x;\r\n        const y = sinAngle * (this.x - anchor.x) + cosAngle * (this.y - anchor.y) + anchor.y;\r\n        return new Vector(x, y);\r\n    }\r\n    /**\r\n     * Creates new vector that has the same values as the previous.\r\n     */\r\n    clone() {\r\n        return new Vector(this.x, this.y);\r\n    }\r\n    /**\r\n     * Returns a string representation of the vector.\r\n     */\r\n    toString(fixed) {\r\n        if (fixed) {\r\n            return `(${this.x.toFixed(fixed)}, ${this.y.toFixed(fixed)})`;\r\n        }\r\n        return `(${this.x}, ${this.y})`;\r\n    }\r\n}\r\n__decorate([\r\n    obsolete({ message: 'will be removed in favour of `.size` in version 0.25.0' })\r\n], Vector.prototype, \"magnitude\", null);\r\n/**\r\n * Shorthand for creating new Vectors - returns a new Vector instance with the\r\n * provided X and Y components.\r\n *\r\n * @param x  X component of the Vector\r\n * @param y  Y component of the Vector\r\n */\r\nfunction vec(x, y) {\r\n    return new Vector(x, y);\r\n}\r\n\n;// CONCATENATED MODULE: ./Color.ts\nvar Color_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n/**\r\n * Provides standard colors (e.g. [[Color.Black]])\r\n * but you can also create custom colors using RGB, HSL, or Hex. Also provides\r\n * useful color operations like [[Color.lighten]], [[Color.darken]], and more.\r\n */\r\nclass Color {\r\n    /**\r\n     * Creates a new instance of Color from an r, g, b, a\r\n     *\r\n     * @param r  The red component of color (0-255)\r\n     * @param g  The green component of color (0-255)\r\n     * @param b  The blue component of color (0-255)\r\n     * @param a  The alpha component of color (0-1.0)\r\n     */\r\n    constructor(r, g, b, a) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n        this.a = a != null ? a : 1;\r\n    }\r\n    /**\r\n     * Creates a new instance of Color from an r, g, b, a\r\n     *\r\n     * @param r  The red component of color (0-255)\r\n     * @param g  The green component of color (0-255)\r\n     * @param b  The blue component of color (0-255)\r\n     * @param a  The alpha component of color (0-1.0)\r\n     */\r\n    static fromRGB(r, g, b, a) {\r\n        return new Color(r, g, b, a);\r\n    }\r\n    /**\r\n     * Creates a new instance of Color from a rgb string\r\n     *\r\n     * @param string  CSS color string of the form rgba(255, 255, 255, 1) or rgb(255, 255, 255)\r\n     */\r\n    static fromRGBString(string) {\r\n        const rgbaRegEx = /^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)/i;\r\n        let match = null;\r\n        if ((match = string.match(rgbaRegEx))) {\r\n            const r = parseInt(match[1], 10);\r\n            const g = parseInt(match[2], 10);\r\n            const b = parseInt(match[3], 10);\r\n            let a = 1;\r\n            if (match[4]) {\r\n                a = parseFloat(match[4]);\r\n            }\r\n            return new Color(r, g, b, a);\r\n        }\r\n        else {\r\n            throw new Error('Invalid rgb/a string: ' + string);\r\n        }\r\n    }\r\n    /**\r\n     * Creates a new instance of Color from a hex string\r\n     *\r\n     * @param hex  CSS color string of the form #ffffff, the alpha component is optional\r\n     */\r\n    static fromHex(hex) {\r\n        const hexRegEx = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i;\r\n        let match = null;\r\n        if ((match = hex.match(hexRegEx))) {\r\n            const r = parseInt(match[1], 16);\r\n            const g = parseInt(match[2], 16);\r\n            const b = parseInt(match[3], 16);\r\n            let a = 1;\r\n            if (match[4]) {\r\n                a = parseInt(match[4], 16) / 255;\r\n            }\r\n            return new Color(r, g, b, a);\r\n        }\r\n        else {\r\n            throw new Error('Invalid hex string: ' + hex);\r\n        }\r\n    }\r\n    /**\r\n     * Creates a new instance of Color from hsla values\r\n     *\r\n     * @param h  Hue is represented [0-1]\r\n     * @param s  Saturation is represented [0-1]\r\n     * @param l  Luminance is represented [0-1]\r\n     * @param a  Alpha is represented [0-1]\r\n     */\r\n    static fromHSL(h, s, l, a = 1.0) {\r\n        const temp = new HSLColor(h, s, l, a);\r\n        return temp.toRGBA();\r\n    }\r\n    /**\r\n     * Lightens the current color by a specified amount\r\n     *\r\n     * @param factor  The amount to lighten by [0-1]\r\n     */\r\n    lighten(factor = 0.1) {\r\n        const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\r\n        temp.l += (1 - temp.l) * factor;\r\n        return temp.toRGBA();\r\n    }\r\n    /**\r\n     * Darkens the current color by a specified amount\r\n     *\r\n     * @param factor  The amount to darken by [0-1]\r\n     */\r\n    darken(factor = 0.1) {\r\n        const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\r\n        temp.l -= temp.l * factor;\r\n        return temp.toRGBA();\r\n    }\r\n    /**\r\n     * Saturates the current color by a specified amount\r\n     *\r\n     * @param factor  The amount to saturate by [0-1]\r\n     */\r\n    saturate(factor = 0.1) {\r\n        const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\r\n        temp.s += temp.s * factor;\r\n        return temp.toRGBA();\r\n    }\r\n    /**\r\n     * Desaturates the current color by a specified amount\r\n     *\r\n     * @param factor  The amount to desaturate by [0-1]\r\n     */\r\n    desaturate(factor = 0.1) {\r\n        const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\r\n        temp.s -= temp.s * factor;\r\n        return temp.toRGBA();\r\n    }\r\n    /**\r\n     * Multiplies a color by another, results in a darker color\r\n     *\r\n     * @param color  The other color\r\n     */\r\n    multiply(color) {\r\n        const newR = (((color.r / 255) * this.r) / 255) * 255;\r\n        const newG = (((color.g / 255) * this.g) / 255) * 255;\r\n        const newB = (((color.b / 255) * this.b) / 255) * 255;\r\n        const newA = color.a * this.a;\r\n        return new Color(newR, newG, newB, newA);\r\n    }\r\n    /**\r\n     * Multiplies a color by another, results in a darker color\r\n     * @param color\r\n     * @deprecated Alias for incorrect spelling used in older versions, use multiply instead, will be removed in v0.25.0\r\n     */\r\n    mulitiply(color) {\r\n        return this.multiply(color);\r\n    }\r\n    /**\r\n     * Screens a color by another, results in a lighter color\r\n     *\r\n     * @param color  The other color\r\n     */\r\n    screen(color) {\r\n        const color1 = color.invert();\r\n        const color2 = color.invert();\r\n        return color1.multiply(color2).invert();\r\n    }\r\n    /**\r\n     * Inverts the current color\r\n     */\r\n    invert() {\r\n        return new Color(255 - this.r, 255 - this.g, 255 - this.b, 1.0 - this.a);\r\n    }\r\n    /**\r\n     * Averages the current color with another\r\n     *\r\n     * @param color  The other color\r\n     */\r\n    average(color) {\r\n        const newR = (color.r + this.r) / 2;\r\n        const newG = (color.g + this.g) / 2;\r\n        const newB = (color.b + this.b) / 2;\r\n        const newA = (color.a + this.a) / 2;\r\n        return new Color(newR, newG, newB, newA);\r\n    }\r\n    equal(color) {\r\n        return this.toString() === color.toString();\r\n    }\r\n    /**\r\n     * Returns a CSS string representation of a color.\r\n     *\r\n     * @param format Color representation, accepts: rgb, hsl, or hex\r\n     */\r\n    toString(format = 'rgb') {\r\n        switch (format) {\r\n            case 'rgb':\r\n                return this.toRGBA();\r\n            case 'hsl':\r\n                return this.toHSLA();\r\n            case 'hex':\r\n                return this.toHex();\r\n            default:\r\n                throw new Error('Invalid Color format');\r\n        }\r\n    }\r\n    /**\r\n     * Returns Hex Value of a color component\r\n     * @param c color component\r\n     * @see https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\r\n     */\r\n    _componentToHex(c) {\r\n        const hex = c.toString(16);\r\n        return hex.length === 1 ? '0' + hex : hex;\r\n    }\r\n    /**\r\n     * Return Hex representation of a color.\r\n     */\r\n    toHex() {\r\n        return '#' + this._componentToHex(this.r) + this._componentToHex(this.g) + this._componentToHex(this.b);\r\n    }\r\n    /**\r\n     * Return RGBA representation of a color.\r\n     */\r\n    toRGBA() {\r\n        const result = String(this.r.toFixed(0)) + ', ' + String(this.g.toFixed(0)) + ', ' + String(this.b.toFixed(0));\r\n        if (this.a !== undefined || this.a !== null) {\r\n            return 'rgba(' + result + ', ' + String(this.a) + ')';\r\n        }\r\n        return 'rgb(' + result + ')';\r\n    }\r\n    /**\r\n     * Return HSLA representation of a color.\r\n     */\r\n    toHSLA() {\r\n        return HSLColor.fromRGBA(this.r, this.g, this.b, this.a).toString();\r\n    }\r\n    /**\r\n     * Returns a CSS string representation of a color.\r\n     */\r\n    fillStyle() {\r\n        return this.toString();\r\n    }\r\n    /**\r\n     * Returns a clone of the current color.\r\n     */\r\n    clone() {\r\n        return new Color(this.r, this.g, this.b, this.a);\r\n    }\r\n    /**\r\n     * Black (#000000)\r\n     */\r\n    static get Black() {\r\n        return Color.fromHex('#000000');\r\n    }\r\n    /**\r\n     * White (#FFFFFF)\r\n     */\r\n    static get White() {\r\n        return Color.fromHex('#FFFFFF');\r\n    }\r\n    /**\r\n     * Gray (#808080)\r\n     */\r\n    static get Gray() {\r\n        return Color.fromHex('#808080');\r\n    }\r\n    /**\r\n     * Light gray (#D3D3D3)\r\n     */\r\n    static get LightGray() {\r\n        return Color.fromHex('#D3D3D3');\r\n    }\r\n    /**\r\n     * Dark gray (#A9A9A9)\r\n     */\r\n    static get DarkGray() {\r\n        return Color.fromHex('#A9A9A9');\r\n    }\r\n    /**\r\n     * Yellow (#FFFF00)\r\n     */\r\n    static get Yellow() {\r\n        return Color.fromHex('#FFFF00');\r\n    }\r\n    /**\r\n     * Orange (#FFA500)\r\n     */\r\n    static get Orange() {\r\n        return Color.fromHex('#FFA500');\r\n    }\r\n    /**\r\n     * Red (#FF0000)\r\n     */\r\n    static get Red() {\r\n        return Color.fromHex('#FF0000');\r\n    }\r\n    /**\r\n     * Vermilion (#FF5B31)\r\n     */\r\n    static get Vermilion() {\r\n        return Color.fromHex('#FF5B31');\r\n    }\r\n    /**\r\n     * Vermilion (#FF5B31)\r\n     * @deprecated Alias for incorrect spelling used in older versions, use multiply instead, will be removed in v0.25.0\r\n     */\r\n    static get Vermillion() {\r\n        return Color.Vermilion;\r\n    }\r\n    /**\r\n     * Rose (#FF007F)\r\n     */\r\n    static get Rose() {\r\n        return Color.fromHex('#FF007F');\r\n    }\r\n    /**\r\n     * Magenta (#FF00FF)\r\n     */\r\n    static get Magenta() {\r\n        return Color.fromHex('#FF00FF');\r\n    }\r\n    /**\r\n     * Violet (#7F00FF)\r\n     */\r\n    static get Violet() {\r\n        return Color.fromHex('#7F00FF');\r\n    }\r\n    /**\r\n     * Blue (#0000FF)\r\n     */\r\n    static get Blue() {\r\n        return Color.fromHex('#0000FF');\r\n    }\r\n    /**\r\n     * Azure (#007FFF)\r\n     */\r\n    static get Azure() {\r\n        return Color.fromHex('#007FFF');\r\n    }\r\n    /**\r\n     * Cyan (#00FFFF)\r\n     */\r\n    static get Cyan() {\r\n        return Color.fromHex('#00FFFF');\r\n    }\r\n    /**\r\n     * Viridian (#59978F)\r\n     */\r\n    static get Viridian() {\r\n        return Color.fromHex('#59978F');\r\n    }\r\n    /**\r\n     * Green (#00FF00)\r\n     */\r\n    static get Green() {\r\n        return Color.fromHex('#00FF00');\r\n    }\r\n    /**\r\n     * Chartreuse (#7FFF00)\r\n     */\r\n    static get Chartreuse() {\r\n        return Color.fromHex('#7FFF00');\r\n    }\r\n    /**\r\n     * Transparent (#FFFFFF00)\r\n     */\r\n    static get Transparent() {\r\n        return Color.fromHex('#FFFFFF00');\r\n    }\r\n    /**\r\n     * ExcaliburBlue (#176BAA)\r\n     */\r\n    static get ExcaliburBlue() {\r\n        return Color.fromHex('#176BAA');\r\n    }\r\n}\r\nColor_decorate([\r\n    obsolete({ message: 'Alias for incorrect spelling used in older versions, use multiply instead, will be removed in v0.25.0' })\r\n], Color.prototype, \"mulitiply\", null);\r\nColor_decorate([\r\n    obsolete({\r\n        message: 'Alias for incorrect spelling used in older versions',\r\n        alternateMethod: 'Vermilion'\r\n    })\r\n], Color, \"Vermillion\", null);\r\n/**\r\n * Internal HSL Color representation\r\n *\r\n * http://en.wikipedia.org/wiki/HSL_and_HSV\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n */\r\nclass HSLColor {\r\n    constructor(h, s, l, a) {\r\n        this.h = h;\r\n        this.s = s;\r\n        this.l = l;\r\n        this.a = a;\r\n    }\r\n    static hue2rgb(p, q, t) {\r\n        if (t < 0) {\r\n            t += 1;\r\n        }\r\n        if (t > 1) {\r\n            t -= 1;\r\n        }\r\n        if (t < 1 / 6) {\r\n            return p + (q - p) * 6 * t;\r\n        }\r\n        if (t < 1 / 2) {\r\n            return q;\r\n        }\r\n        if (t < 2 / 3) {\r\n            return p + (q - p) * (2 / 3 - t) * 6;\r\n        }\r\n        return p;\r\n    }\r\n    static fromRGBA(r, g, b, a) {\r\n        r /= 255;\r\n        g /= 255;\r\n        b /= 255;\r\n        const max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n        let h, s;\r\n        const l = (max + min) / 2;\r\n        if (max === min) {\r\n            h = s = 0; // achromatic\r\n        }\r\n        else {\r\n            const d = max - min;\r\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n            switch (max) {\r\n                case r:\r\n                    h = (g - b) / d + (g < b ? 6 : 0);\r\n                    break;\r\n                case g:\r\n                    h = (b - r) / d + 2;\r\n                    break;\r\n                case b:\r\n                    h = (r - g) / d + 4;\r\n                    break;\r\n            }\r\n            h /= 6;\r\n        }\r\n        return new HSLColor(h, s, l, a);\r\n    }\r\n    toRGBA() {\r\n        let r, g, b;\r\n        if (this.s === 0) {\r\n            r = g = b = this.l; // achromatic\r\n        }\r\n        else {\r\n            const q = this.l < 0.5 ? this.l * (1 + this.s) : this.l + this.s - this.l * this.s;\r\n            const p = 2 * this.l - q;\r\n            r = HSLColor.hue2rgb(p, q, this.h + 1 / 3);\r\n            g = HSLColor.hue2rgb(p, q, this.h);\r\n            b = HSLColor.hue2rgb(p, q, this.h - 1 / 3);\r\n        }\r\n        return new Color(r * 255, g * 255, b * 255, this.a);\r\n    }\r\n    toString() {\r\n        const h = this.h.toFixed(0), s = this.s.toFixed(0), l = this.l.toFixed(0), a = this.a.toFixed(0);\r\n        return `hsla(${h}, ${s}, ${l}, ${a})`;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/BoundingBox.ts\n\r\n\r\n\r\n/**\r\n * Axis Aligned collision primitive for Excalibur.\r\n */\r\nclass BoundingBox {\r\n    /**\r\n     * Constructor allows passing of either an object with all coordinate components,\r\n     * or the coordinate components passed separately.\r\n     * @param leftOrOptions    Either x coordinate of the left edge or an options object\r\n     * containing the four coordinate components.\r\n     * @param top     y coordinate of the top edge\r\n     * @param right   x coordinate of the right edge\r\n     * @param bottom  y coordinate of the bottom edge\r\n     */\r\n    constructor(leftOrOptions = 0, top = 0, right = 0, bottom = 0) {\r\n        if (typeof leftOrOptions === 'object') {\r\n            this.left = leftOrOptions.left;\r\n            this.top = leftOrOptions.top;\r\n            this.right = leftOrOptions.right;\r\n            this.bottom = leftOrOptions.bottom;\r\n        }\r\n        else if (typeof leftOrOptions === 'number') {\r\n            this.left = leftOrOptions;\r\n            this.top = top;\r\n            this.right = right;\r\n            this.bottom = bottom;\r\n        }\r\n    }\r\n    /**\r\n     * Given bounding box A & B, returns the side relative to A when intersection is performed.\r\n     * @param intersection Intersection vector between 2 bounding boxes\r\n     */\r\n    static getSideFromIntersection(intersection) {\r\n        if (!intersection) {\r\n            return Side.None;\r\n        }\r\n        if (intersection) {\r\n            if (Math.abs(intersection.x) > Math.abs(intersection.y)) {\r\n                if (intersection.x < 0) {\r\n                    return Side.Right;\r\n                }\r\n                return Side.Left;\r\n            }\r\n            else {\r\n                if (intersection.y < 0) {\r\n                    return Side.Bottom;\r\n                }\r\n                return Side.Top;\r\n            }\r\n        }\r\n        return Side.None;\r\n    }\r\n    static fromPoints(points) {\r\n        let minX = Infinity;\r\n        let minY = Infinity;\r\n        let maxX = -Infinity;\r\n        let maxY = -Infinity;\r\n        for (let i = 0; i < points.length; i++) {\r\n            if (points[i].x < minX) {\r\n                minX = points[i].x;\r\n            }\r\n            if (points[i].x > maxX) {\r\n                maxX = points[i].x;\r\n            }\r\n            if (points[i].y < minY) {\r\n                minY = points[i].y;\r\n            }\r\n            if (points[i].y > maxY) {\r\n                maxY = points[i].y;\r\n            }\r\n        }\r\n        return new BoundingBox(minX, minY, maxX, maxY);\r\n    }\r\n    static fromDimension(width, height, anchor = Vector.Half, pos = Vector.Zero) {\r\n        return new BoundingBox(-width * anchor.x + pos.x, -height * anchor.y + pos.y, width - width * anchor.x + pos.x, height - height * anchor.y + pos.y);\r\n    }\r\n    /**\r\n     * Returns the calculated width of the bounding box\r\n     */\r\n    get width() {\r\n        return this.right - this.left;\r\n    }\r\n    /**\r\n     * Returns the calculated height of the bounding box\r\n     */\r\n    get height() {\r\n        return this.bottom - this.top;\r\n    }\r\n    /**\r\n     * Return whether the bounding box has zero dimensions in height,width or both\r\n     */\r\n    hasZeroDimensions() {\r\n        return this.width === 0 || this.height === 0;\r\n    }\r\n    /**\r\n     * Returns the center of the bounding box\r\n     */\r\n    get center() {\r\n        return new Vector((this.left + this.right) / 2, (this.top + this.bottom) / 2);\r\n    }\r\n    translate(pos) {\r\n        return new BoundingBox(this.left + pos.x, this.top + pos.y, this.right + pos.x, this.bottom + pos.y);\r\n    }\r\n    /**\r\n     * Rotates a bounding box by and angle and around a point, if no point is specified (0, 0) is used by default. The resulting bounding\r\n     * box is also axis-align. This is useful when a new axis-aligned bounding box is needed for rotated geometry.\r\n     */\r\n    rotate(angle, point = Vector.Zero) {\r\n        const points = this.getPoints().map((p) => p.rotate(angle, point));\r\n        return BoundingBox.fromPoints(points);\r\n    }\r\n    scale(scale, point = Vector.Zero) {\r\n        const shifted = this.translate(point);\r\n        return new BoundingBox(shifted.left * scale.x, shifted.top * scale.y, shifted.right * scale.x, shifted.bottom * scale.y);\r\n    }\r\n    transform(matrix) {\r\n        const points = this.getPoints().map((p) => matrix.multv(p));\r\n        return BoundingBox.fromPoints(points);\r\n    }\r\n    /**\r\n     * Returns the perimeter of the bounding box\r\n     */\r\n    getPerimeter() {\r\n        const wx = this.width;\r\n        const wy = this.height;\r\n        return 2 * (wx + wy);\r\n    }\r\n    getPoints() {\r\n        const results = [];\r\n        results.push(new Vector(this.left, this.top));\r\n        results.push(new Vector(this.right, this.top));\r\n        results.push(new Vector(this.right, this.bottom));\r\n        results.push(new Vector(this.left, this.bottom));\r\n        return results;\r\n    }\r\n    /**\r\n     * Determines whether a ray intersects with a bounding box\r\n     */\r\n    rayCast(ray, farClipDistance = Infinity) {\r\n        // algorithm from https://tavianator.com/fast-branchless-raybounding-box-intersections/\r\n        let tmin = -Infinity;\r\n        let tmax = +Infinity;\r\n        const xinv = ray.dir.x === 0 ? Number.MAX_VALUE : 1 / ray.dir.x;\r\n        const yinv = ray.dir.y === 0 ? Number.MAX_VALUE : 1 / ray.dir.y;\r\n        const tx1 = (this.left - ray.pos.x) * xinv;\r\n        const tx2 = (this.right - ray.pos.x) * xinv;\r\n        tmin = Math.min(tx1, tx2);\r\n        tmax = Math.max(tx1, tx2);\r\n        const ty1 = (this.top - ray.pos.y) * yinv;\r\n        const ty2 = (this.bottom - ray.pos.y) * yinv;\r\n        tmin = Math.max(tmin, Math.min(ty1, ty2));\r\n        tmax = Math.min(tmax, Math.max(ty1, ty2));\r\n        return tmax >= Math.max(0, tmin) && tmin < farClipDistance;\r\n    }\r\n    rayCastTime(ray, farClipDistance = Infinity) {\r\n        // algorithm from https://tavianator.com/fast-branchless-raybounding-box-intersections/\r\n        let tmin = -Infinity;\r\n        let tmax = +Infinity;\r\n        const xinv = ray.dir.x === 0 ? Number.MAX_VALUE : 1 / ray.dir.x;\r\n        const yinv = ray.dir.y === 0 ? Number.MAX_VALUE : 1 / ray.dir.y;\r\n        const tx1 = (this.left - ray.pos.x) * xinv;\r\n        const tx2 = (this.right - ray.pos.x) * xinv;\r\n        tmin = Math.min(tx1, tx2);\r\n        tmax = Math.max(tx1, tx2);\r\n        const ty1 = (this.top - ray.pos.y) * yinv;\r\n        const ty2 = (this.bottom - ray.pos.y) * yinv;\r\n        tmin = Math.max(tmin, Math.min(ty1, ty2));\r\n        tmax = Math.min(tmax, Math.max(ty1, ty2));\r\n        if (tmax >= Math.max(0, tmin) && tmin < farClipDistance) {\r\n            return tmin;\r\n        }\r\n        return -1;\r\n    }\r\n    contains(val) {\r\n        if (val instanceof Vector) {\r\n            return this.left <= val.x && this.top <= val.y && this.bottom >= val.y && this.right >= val.x;\r\n        }\r\n        else if (val instanceof BoundingBox) {\r\n            if (this.left < val.left && this.top < val.top && val.bottom < this.bottom && val.right < this.right) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Combines this bounding box and another together returning a new bounding box\r\n     * @param other  The bounding box to combine\r\n     */\r\n    combine(other) {\r\n        const compositeBB = new BoundingBox(Math.min(this.left, other.left), Math.min(this.top, other.top), Math.max(this.right, other.right), Math.max(this.bottom, other.bottom));\r\n        return compositeBB;\r\n    }\r\n    get dimensions() {\r\n        return new Vector(this.width, this.height);\r\n    }\r\n    /**\r\n     * Test wether this bounding box intersects with another returning\r\n     * the intersection vector that can be used to resolve the collision. If there\r\n     * is no intersection null is returned.\r\n     *\r\n     * @param other  Other [[BoundingBox]] to test intersection with\r\n     * @returns A Vector in the direction of the current BoundingBox, this <- other\r\n     */\r\n    intersect(other) {\r\n        const totalBoundingBox = this.combine(other);\r\n        // If the total bounding box is less than or equal the sum of the 2 bounds then there is collision\r\n        if (totalBoundingBox.width < other.width + this.width &&\r\n            totalBoundingBox.height < other.height + this.height &&\r\n            !totalBoundingBox.dimensions.equals(other.dimensions) &&\r\n            !totalBoundingBox.dimensions.equals(this.dimensions)) {\r\n            // collision\r\n            let overlapX = 0;\r\n            // right edge is between the other's left and right edge\r\n            /**\r\n             *     +-this-+\r\n             *     |      |\r\n             *     |    +-other-+\r\n             *     +----|-+     |\r\n             *          |       |\r\n             *          +-------+\r\n             *         <---\r\n             *          ^ overlap\r\n             */\r\n            if (this.right >= other.left && this.right <= other.right) {\r\n                overlapX = other.left - this.right;\r\n                // right edge is past the other's right edge\r\n                /**\r\n                 *     +-other-+\r\n                 *     |       |\r\n                 *     |    +-this-+\r\n                 *     +----|--+   |\r\n                 *          |      |\r\n                 *          +------+\r\n                 *          --->\r\n                 *          ^ overlap\r\n                 */\r\n            }\r\n            else {\r\n                overlapX = other.right - this.left;\r\n            }\r\n            let overlapY = 0;\r\n            // top edge is between the other's top and bottom edge\r\n            /**\r\n             *     +-other-+\r\n             *     |       |\r\n             *     |    +-this-+   | <- overlap\r\n             *     +----|--+   |   |\r\n             *          |      |  \\ /\r\n             *          +------+   '\r\n             */\r\n            if (this.top <= other.bottom && this.top >= other.top) {\r\n                overlapY = other.bottom - this.top;\r\n                // top edge is above the other top edge\r\n                /**\r\n                 *     +-this-+         .\r\n                 *     |      |        / \\\r\n                 *     |    +-other-+   | <- overlap\r\n                 *     +----|-+     |   |\r\n                 *          |       |\r\n                 *          +-------+\r\n                 */\r\n            }\r\n            else {\r\n                overlapY = other.top - this.bottom;\r\n            }\r\n            if (Math.abs(overlapX) < Math.abs(overlapY)) {\r\n                return new Vector(overlapX, 0);\r\n            }\r\n            else {\r\n                return new Vector(0, overlapY);\r\n            }\r\n            // Case of total containment of one bounding box by another\r\n        }\r\n        else if (totalBoundingBox.dimensions.equals(other.dimensions) || totalBoundingBox.dimensions.equals(this.dimensions)) {\r\n            let overlapX = 0;\r\n            // this is wider than the other\r\n            if (this.width - other.width >= 0) {\r\n                // This right edge is closest to the others right edge\r\n                if (this.right - other.right <= other.left - this.left) {\r\n                    overlapX = other.left - this.right;\r\n                    // This left edge is closest to the others left edge\r\n                }\r\n                else {\r\n                    overlapX = other.right - this.left;\r\n                }\r\n                // other is wider than this\r\n            }\r\n            else {\r\n                // This right edge is closest to the others right edge\r\n                if (other.right - this.right <= this.left - other.left) {\r\n                    overlapX = this.left - other.right;\r\n                    // This left edge is closest to the others left edge\r\n                }\r\n                else {\r\n                    overlapX = this.right - other.left;\r\n                }\r\n            }\r\n            let overlapY = 0;\r\n            // this is taller than other\r\n            if (this.height - other.height >= 0) {\r\n                // The bottom edge is closest to the others bottom edge\r\n                if (this.bottom - other.bottom <= other.top - this.top) {\r\n                    overlapY = other.top - this.bottom;\r\n                }\r\n                else {\r\n                    overlapY = other.bottom - this.top;\r\n                }\r\n                // other is taller than this\r\n            }\r\n            else {\r\n                // The bottom edge is closest to the others bottom edge\r\n                if (other.bottom - this.bottom <= this.top - other.top) {\r\n                    overlapY = this.top - other.bottom;\r\n                }\r\n                else {\r\n                    overlapY = this.bottom - other.top;\r\n                }\r\n            }\r\n            if (Math.abs(overlapX) < Math.abs(overlapY)) {\r\n                return new Vector(overlapX, 0);\r\n            }\r\n            else {\r\n                return new Vector(0, overlapY);\r\n            }\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    /**\r\n     * Test whether the bounding box has intersected with another bounding box, returns the side of the current bb that intersected.\r\n     * @param bb The other actor to test\r\n     */\r\n    intersectWithSide(bb) {\r\n        const intersect = this.intersect(bb);\r\n        return BoundingBox.getSideFromIntersection(intersect);\r\n    }\r\n    /* istanbul ignore next */\r\n    debugDraw(ctx, color = Color.Yellow) {\r\n        ctx.strokeStyle = color.toString();\r\n        ctx.strokeRect(this.left, this.top, this.width, this.height);\r\n    }\r\n    /**\r\n     * Draw a debug bounding box\r\n     * @param ex\r\n     * @param color\r\n     */\r\n    draw(ex, color = Color.Yellow) {\r\n        ex.debug.drawRect(this.left, this.top, this.width, this.height, { color });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Math/matrix.ts\n\r\n\r\n\r\nvar MatrixLocations;\r\n(function (MatrixLocations) {\r\n    MatrixLocations[MatrixLocations[\"X\"] = 12] = \"X\";\r\n    MatrixLocations[MatrixLocations[\"Y\"] = 13] = \"Y\";\r\n})(MatrixLocations || (MatrixLocations = {}));\r\nconst sign = (val) => {\r\n    if (val === 0) {\r\n        return 0;\r\n    }\r\n    return val < 0 ? -1 : 1;\r\n};\r\n// const multMatch = (a: number, b: number) => {\r\n//   if (sign(a) < 0 && sign(b) < 0) {\r\n//     return -Math.abs(a * b);\r\n//   }\r\n//   return a * b;\r\n// }\r\n// const epsilon = (val: number) => {\r\n//   if (val * val < .0001) {\r\n//     return 0;\r\n//   }\r\n//   return val;\r\n// }\r\n/**\r\n * Excalibur Matrix helper for 4x4 matrices\r\n *\r\n * Useful for webgl 4x4 matrices\r\n */\r\nclass Matrix {\r\n    constructor() {\r\n        /**\r\n         *  4x4 matrix in column major order\r\n         *\r\n         * |         |         |          |          |\r\n         * | ------- | ------- | -------- |          |\r\n         * | data[0] | data[4] | data[8]  | data[12] |\r\n         * | data[1] | data[5] | data[9]  | data[13] |\r\n         * | data[2] | data[6] | data[10] | data[14] |\r\n         * | data[3] | data[7] | data[11] | data[15] |\r\n         *\r\n         */\r\n        this.data = new Float32Array(16);\r\n        this._scaleSignX = 1;\r\n        this._scaleSignY = 1;\r\n    }\r\n    /**\r\n     * Creates an orthographic (flat non-perspective) projection\r\n     * https://en.wikipedia.org/wiki/Orthographic_projection\r\n     * @param left\r\n     * @param right\r\n     * @param bottom\r\n     * @param top\r\n     * @param near\r\n     * @param far\r\n     */\r\n    static ortho(left, right, bottom, top, near, far) {\r\n        const mat = new Matrix();\r\n        mat.data[0] = 2 / (right - left);\r\n        mat.data[1] = 0;\r\n        mat.data[2] = 0;\r\n        mat.data[3] = 0;\r\n        mat.data[4] = 0;\r\n        mat.data[5] = 2 / (top - bottom);\r\n        mat.data[6] = 0;\r\n        mat.data[7] = 0;\r\n        mat.data[8] = 0;\r\n        mat.data[9] = 0;\r\n        mat.data[10] = -2 / (far - near);\r\n        mat.data[11] = 0;\r\n        mat.data[12] = -(right + left) / (right - left);\r\n        mat.data[13] = -(top + bottom) / (top - bottom);\r\n        mat.data[14] = -(far + near) / (far - near);\r\n        mat.data[15] = 1;\r\n        return mat;\r\n    }\r\n    /**\r\n     * Creates a new Matrix with the same data as the current 4x4\r\n     */\r\n    clone() {\r\n        const mat = new Matrix();\r\n        mat.data[0] = this.data[0];\r\n        mat.data[1] = this.data[1];\r\n        mat.data[2] = this.data[2];\r\n        mat.data[3] = this.data[3];\r\n        mat.data[4] = this.data[4];\r\n        mat.data[5] = this.data[5];\r\n        mat.data[6] = this.data[6];\r\n        mat.data[7] = this.data[7];\r\n        mat.data[8] = this.data[8];\r\n        mat.data[9] = this.data[9];\r\n        mat.data[10] = this.data[10];\r\n        mat.data[11] = this.data[11];\r\n        mat.data[12] = this.data[12];\r\n        mat.data[13] = this.data[13];\r\n        mat.data[14] = this.data[14];\r\n        mat.data[15] = this.data[15];\r\n        return mat;\r\n    }\r\n    /**\r\n     * Creates a new identity matrix (a matrix that when applied does nothing)\r\n     */\r\n    static identity() {\r\n        const mat = new Matrix();\r\n        mat.data[0] = 1;\r\n        mat.data[1] = 0;\r\n        mat.data[2] = 0;\r\n        mat.data[3] = 0;\r\n        mat.data[4] = 0;\r\n        mat.data[5] = 1;\r\n        mat.data[6] = 0;\r\n        mat.data[7] = 0;\r\n        mat.data[8] = 0;\r\n        mat.data[9] = 0;\r\n        mat.data[10] = 1;\r\n        mat.data[11] = 0;\r\n        mat.data[12] = 0;\r\n        mat.data[13] = 0;\r\n        mat.data[14] = 0;\r\n        mat.data[15] = 1;\r\n        return mat;\r\n    }\r\n    /**\r\n     * Creates a brand new translation matrix at the specified 3d point\r\n     * @param x\r\n     * @param y\r\n     */\r\n    static translation(x, y) {\r\n        const mat = Matrix.identity();\r\n        mat.data[12] = x;\r\n        mat.data[13] = y;\r\n        return mat;\r\n    }\r\n    /**\r\n     * Creates a brand new scaling matrix with the specified scaling factor\r\n     * @param sx\r\n     * @param sy\r\n     */\r\n    static scale(sx, sy) {\r\n        const mat = Matrix.identity();\r\n        mat.data[0] = sx;\r\n        mat.data[5] = sy;\r\n        mat.data[10] = 1;\r\n        mat.data[15] = 1;\r\n        return mat;\r\n    }\r\n    /**\r\n     * Creates a brand new rotation matrix with the specified angle\r\n     * @param angleRadians\r\n     */\r\n    static rotation(angleRadians) {\r\n        const mat = Matrix.identity();\r\n        mat.data[0] = Math.cos(angleRadians);\r\n        mat.data[4] = -Math.sin(angleRadians);\r\n        mat.data[1] = Math.sin(angleRadians);\r\n        mat.data[5] = Math.cos(angleRadians);\r\n        return mat;\r\n    }\r\n    multv(other) {\r\n        const z = 0;\r\n        if (other instanceof Vector) {\r\n            return new Vector(other.x * this.data[0] + other.y * this.data[4] + z * this.data[6] + 1 * this.data[12], other.x * this.data[1] + other.y * this.data[5] + z * this.data[9] + 1 * this.data[13]);\r\n        }\r\n        else {\r\n            const dest = [\r\n                other[0] * this.data[0] + other[1] * this.data[4] + z * this.data[6] + 1 * this.data[12],\r\n                other[0] * this.data[1] + other[1] * this.data[5] + z * this.data[9] + 1 * this.data[13]\r\n            ];\r\n            return dest;\r\n        }\r\n    }\r\n    /**\r\n     * Multiplies the current matrix by another and returns the resulting matrix\r\n     * @param other\r\n     */\r\n    multm(other) {\r\n        const dest = new Matrix();\r\n        const a11 = this.data[0];\r\n        const a21 = this.data[1];\r\n        const a31 = this.data[2];\r\n        const a41 = this.data[3];\r\n        const a12 = this.data[4];\r\n        const a22 = this.data[5];\r\n        const a32 = this.data[6];\r\n        const a42 = this.data[7];\r\n        const a13 = this.data[8];\r\n        const a23 = this.data[9];\r\n        const a33 = this.data[10];\r\n        const a43 = this.data[11];\r\n        const a14 = this.data[12];\r\n        const a24 = this.data[13];\r\n        const a34 = this.data[14];\r\n        const a44 = this.data[15];\r\n        const b11 = other.data[0];\r\n        const b21 = other.data[1];\r\n        const b31 = other.data[2];\r\n        const b41 = other.data[3];\r\n        const b12 = other.data[4];\r\n        const b22 = other.data[5];\r\n        const b32 = other.data[6];\r\n        const b42 = other.data[7];\r\n        const b13 = other.data[8];\r\n        const b23 = other.data[9];\r\n        const b33 = other.data[10];\r\n        const b43 = other.data[11];\r\n        const b14 = other.data[12];\r\n        const b24 = other.data[13];\r\n        const b34 = other.data[14];\r\n        const b44 = other.data[15];\r\n        dest.data[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\r\n        dest.data[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\r\n        dest.data[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\r\n        dest.data[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\r\n        dest.data[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\r\n        dest.data[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\r\n        dest.data[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\r\n        dest.data[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\r\n        dest.data[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\r\n        dest.data[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\r\n        dest.data[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\r\n        dest.data[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\r\n        dest.data[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\r\n        dest.data[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\r\n        dest.data[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\r\n        dest.data[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\r\n        const s = this.getScale();\r\n        dest._scaleSignX = sign(s.x) * sign(dest._scaleSignX);\r\n        dest._scaleSignY = sign(s.y) * sign(dest._scaleSignY);\r\n        return dest;\r\n    }\r\n    /**\r\n     * Applies translation to the current matrix mutating it\r\n     * @param x\r\n     * @param y\r\n     */\r\n    translate(x, y) {\r\n        const a11 = this.data[0];\r\n        const a21 = this.data[1];\r\n        const a31 = this.data[2];\r\n        const a41 = this.data[3];\r\n        const a12 = this.data[4];\r\n        const a22 = this.data[5];\r\n        const a32 = this.data[6];\r\n        const a42 = this.data[7];\r\n        const a13 = this.data[8];\r\n        const a23 = this.data[9];\r\n        const a33 = this.data[10];\r\n        const a43 = this.data[11];\r\n        const a14 = this.data[12];\r\n        const a24 = this.data[13];\r\n        const a34 = this.data[14];\r\n        const a44 = this.data[15];\r\n        // Doesn't change z\r\n        const z = 0;\r\n        const w = 1;\r\n        this.data[12] = a11 * x + a12 * y + a13 * z + a14 * w;\r\n        this.data[13] = a21 * x + a22 * y + a23 * z + a24 * w;\r\n        this.data[14] = a31 * x + a32 * y + a33 * z + a34 * w;\r\n        this.data[15] = a41 * x + a42 * y + a43 * z + a44 * w;\r\n        return this;\r\n    }\r\n    setPosition(x, y) {\r\n        this.data[12] = x;\r\n        this.data[13] = y;\r\n    }\r\n    getPosition() {\r\n        return vec(this.data[12], this.data[13]);\r\n    }\r\n    /**\r\n     * Applies rotation to the current matrix mutating it\r\n     * @param angle in Radians\r\n     */\r\n    rotate(angle) {\r\n        const a11 = this.data[0];\r\n        const a21 = this.data[1];\r\n        const a31 = this.data[2];\r\n        const a41 = this.data[3];\r\n        const a12 = this.data[4];\r\n        const a22 = this.data[5];\r\n        const a32 = this.data[6];\r\n        const a42 = this.data[7];\r\n        const sine = Math.sin(angle);\r\n        const cosine = Math.cos(angle);\r\n        this.data[0] = cosine * a11 + sine * a12;\r\n        this.data[1] = cosine * a21 + sine * a22;\r\n        this.data[2] = cosine * a31 + sine * a32;\r\n        this.data[3] = cosine * a41 + sine * a42;\r\n        this.data[4] = cosine * a12 - sine * a11;\r\n        this.data[5] = cosine * a22 - sine * a21;\r\n        this.data[6] = cosine * a32 - sine * a31;\r\n        this.data[7] = cosine * a42 - sine * a41;\r\n        return this;\r\n    }\r\n    /**\r\n     * Applies scaling to the current matrix mutating it\r\n     * @param x\r\n     * @param y\r\n     */\r\n    scale(x, y) {\r\n        const a11 = this.data[0];\r\n        const a21 = this.data[1];\r\n        const a31 = this.data[2];\r\n        const a41 = this.data[3];\r\n        const a12 = this.data[4];\r\n        const a22 = this.data[5];\r\n        const a32 = this.data[6];\r\n        const a42 = this.data[7];\r\n        this.data[0] = a11 * x;\r\n        this.data[1] = a21 * x;\r\n        this.data[2] = a31 * x;\r\n        this.data[3] = a41 * x;\r\n        this.data[4] = a12 * y;\r\n        this.data[5] = a22 * y;\r\n        this.data[6] = a32 * y;\r\n        this.data[7] = a42 * y;\r\n        return this;\r\n    }\r\n    setRotation(angle) {\r\n        const currentScale = this.getScale();\r\n        const sine = Math.sin(angle);\r\n        const cosine = Math.cos(angle);\r\n        this.data[0] = cosine * currentScale.x;\r\n        this.data[1] = sine * currentScale.y;\r\n        this.data[4] = -sine * currentScale.x;\r\n        this.data[5] = cosine * currentScale.y;\r\n    }\r\n    getRotation() {\r\n        const angle = Math.atan2(this.data[1] / this.getScaleY(), this.data[0] / this.getScaleX());\r\n        return canonicalizeAngle(angle);\r\n    }\r\n    getScaleX() {\r\n        // absolute scale of the matrix (we lose sign so need to add it back)\r\n        const xscale = vec(this.data[0], this.data[4]).size;\r\n        return this._scaleSignX * xscale;\r\n    }\r\n    getScaleY() {\r\n        // absolute scale of the matrix (we lose sign so need to add it back)\r\n        const yscale = vec(this.data[1], this.data[5]).size;\r\n        return this._scaleSignY * yscale;\r\n    }\r\n    /**\r\n     * Get the scale of the matrix\r\n     */\r\n    getScale() {\r\n        return vec(this.getScaleX(), this.getScaleY());\r\n    }\r\n    setScaleX(val) {\r\n        this._scaleSignX = sign(val);\r\n        // negative scale acts like a 180 rotation, so flip\r\n        const xscale = vec(this.data[0] * this._scaleSignX, this.data[4] * this._scaleSignX).normalize();\r\n        this.data[0] = xscale.x * val;\r\n        this.data[4] = xscale.y * val;\r\n    }\r\n    setScaleY(val) {\r\n        this._scaleSignY = sign(val);\r\n        // negative scale acts like a 180 rotation, so flip\r\n        const yscale = vec(this.data[1] * this._scaleSignY, this.data[5] * this._scaleSignY).normalize();\r\n        this.data[1] = yscale.x * val;\r\n        this.data[5] = yscale.y * val;\r\n    }\r\n    setScale(scale) {\r\n        this.setScaleX(scale.x);\r\n        this.setScaleY(scale.y);\r\n    }\r\n    /**\r\n     * Determinant of the upper left 2x2 matrix\r\n     */\r\n    getBasisDeterminant() {\r\n        return this.data[0] * this.data[5] - this.data[1] * this.data[4];\r\n    }\r\n    getAffineInverse() {\r\n        // See http://negativeprobability.blogspot.com/2011/11/affine-transformations-and-their.html\r\n        // See https://www.mathsisfun.com/algebra/matrix-inverse.html\r\n        // Since we are actually only doing 2D transformations we can use this hack\r\n        // We don't actually use the 3rd or 4th dimension\r\n        const det = this.getBasisDeterminant();\r\n        const inverseDet = 1 / det; // todo zero check\r\n        const a = this.data[0];\r\n        const b = this.data[4];\r\n        const c = this.data[1];\r\n        const d = this.data[5];\r\n        const m = Matrix.identity();\r\n        // inverts rotation and scale\r\n        m.data[0] = d * inverseDet;\r\n        m.data[1] = -c * inverseDet;\r\n        m.data[4] = -b * inverseDet;\r\n        m.data[5] = a * inverseDet;\r\n        const tx = this.data[12];\r\n        const ty = this.data[13];\r\n        // invert translation\r\n        // transform translation into the matrix basis created by rot/scale\r\n        m.data[12] = -(tx * m.data[0] + ty * m.data[4]);\r\n        m.data[13] = -(tx * m.data[1] + ty * m.data[5]);\r\n        return m;\r\n    }\r\n    isIdentity() {\r\n        return (this.data[0] === 1 &&\r\n            this.data[1] === 0 &&\r\n            this.data[2] === 0 &&\r\n            this.data[3] === 0 &&\r\n            this.data[4] === 0 &&\r\n            this.data[5] === 1 &&\r\n            this.data[6] === 0 &&\r\n            this.data[7] === 0 &&\r\n            this.data[8] === 0 &&\r\n            this.data[9] === 0 &&\r\n            this.data[10] === 1 &&\r\n            this.data[11] === 0 &&\r\n            this.data[12] === 0 &&\r\n            this.data[13] === 0 &&\r\n            this.data[14] === 0 &&\r\n            this.data[15] === 1);\r\n    }\r\n    toString() {\r\n        return `\n[${this.data[0]} ${this.data[4]} ${this.data[8]} ${this.data[12]}]\n[${this.data[1]} ${this.data[5]} ${this.data[9]} ${this.data[13]}]\n[${this.data[2]} ${this.data[6]} ${this.data[10]} ${this.data[14]}]\n[${this.data[3]} ${this.data[7]} ${this.data[11]} ${this.data[15]}]\n`;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/transform-stack.ts\n\r\nclass TransformStack {\r\n    constructor() {\r\n        this._transforms = [];\r\n        this._currentTransform = Matrix.identity();\r\n    }\r\n    save() {\r\n        this._transforms.push(this._currentTransform);\r\n        this._currentTransform = this._currentTransform.clone();\r\n    }\r\n    restore() {\r\n        this._currentTransform = this._transforms.pop();\r\n    }\r\n    translate(x, y) {\r\n        return this._currentTransform.translate(x, y);\r\n    }\r\n    rotate(angle) {\r\n        return this._currentTransform.rotate(angle);\r\n    }\r\n    scale(x, y) {\r\n        return this._currentTransform.scale(x, y);\r\n    }\r\n    set current(matrix) {\r\n        this._currentTransform = matrix;\r\n    }\r\n    get current() {\r\n        return this._currentTransform;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/state-stack.ts\nclass StateStack {\r\n    constructor() {\r\n        this._states = [];\r\n        this._currentState = this._getDefaultState();\r\n    }\r\n    _getDefaultState() {\r\n        return {\r\n            opacity: 1\r\n        };\r\n    }\r\n    _cloneState() {\r\n        return {\r\n            opacity: this._currentState.opacity\r\n        };\r\n    }\r\n    save() {\r\n        this._states.push(this._currentState);\r\n        this._currentState = this._cloneState();\r\n    }\r\n    restore() {\r\n        this._currentState = this._states.pop();\r\n    }\r\n    get current() {\r\n        return this._currentState;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/shader.ts\n/**\r\n * Create a shader program for the Excalibur WebGL Graphics Context\r\n */\r\nclass Shader {\r\n    /**\r\n     * Create a shader program in excalibur\r\n     * @param _gl WebGL graphics context\r\n     * @param _vertexSource Vertex shader source as a string\r\n     * @param _fragmentSource Fragment shader source as a string\r\n     */\r\n    constructor(_gl, _vertexSource, _fragmentSource) {\r\n        this._gl = _gl;\r\n        this._vertexSource = _vertexSource;\r\n        this._fragmentSource = _fragmentSource;\r\n        this.program = null;\r\n        this.uniforms = {};\r\n        this.attributes = {};\r\n        this.layout = [];\r\n        this.compile(_gl);\r\n    }\r\n    _createProgram(gl, vertexShader, fragmentShader) {\r\n        const program = gl.createProgram();\r\n        if (program === null) {\r\n            throw Error('Could not create graphics shader program');\r\n        }\r\n        // attach the shaders.\r\n        gl.attachShader(program, vertexShader);\r\n        gl.attachShader(program, fragmentShader);\r\n        // link the program.\r\n        gl.linkProgram(program);\r\n        const success = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n        if (!success) {\r\n            throw Error(`Could not link the program: [${gl.getProgramInfoLog(program)}]`);\r\n        }\r\n        return program;\r\n    }\r\n    _compileShader(gl, source, type) {\r\n        const shader = gl.createShader(type);\r\n        if (shader === null) {\r\n            throw Error(`Could not build shader: [${source}]`);\r\n        }\r\n        gl.shaderSource(shader, source);\r\n        gl.compileShader(shader);\r\n        const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n        if (!success) {\r\n            throw Error(`Could not compile shader [${gl.getShaderInfoLog(shader)}]`);\r\n        }\r\n        return shader;\r\n    }\r\n    /**\r\n     * Compile the current shader against a webgl context\r\n     * @param gl WebGL context\r\n     */\r\n    compile(gl) {\r\n        const vertexShader = this._compileShader(gl, this._vertexSource, gl.VERTEX_SHADER);\r\n        const fragmentShader = this._compileShader(gl, this._fragmentSource, gl.FRAGMENT_SHADER);\r\n        const program = this._createProgram(gl, vertexShader, fragmentShader);\r\n        return (this.program = program);\r\n    }\r\n    /**\r\n     * Add a uniform [[Matrix]] to the shader\r\n     * @param name Name of the uniform in the shader source\r\n     * @param data (4x4) matrix in column major order\r\n     */\r\n    addUniformMatrix(name, data) {\r\n        if (!data) {\r\n            throw Error(`Shader Uniform Matrix '${name}' was set to null or undefined`);\r\n        }\r\n        const gl = this._gl;\r\n        this.uniforms[name] = {\r\n            name,\r\n            type: 'matrix',\r\n            location: gl.getUniformLocation(this.program, name),\r\n            data: data\r\n        };\r\n    }\r\n    /**\r\n     * Add a uniform array of numbers to the shader\r\n     * @param name Name of the uniform in the shader source\r\n     * @param data List of numbers\r\n     */\r\n    addUniformIntegerArray(name, data) {\r\n        if (!data) {\r\n            throw Error(`Shader Uniform Integery Array '${name}' was set to null or undefined`);\r\n        }\r\n        const gl = this._gl;\r\n        this.uniforms[name] = {\r\n            name,\r\n            type: 'numbers',\r\n            location: gl.getUniformLocation(this.program, name),\r\n            data: data\r\n        };\r\n    }\r\n    /**\r\n     * Add attributes in the order they appear in the VBO\r\n     * @param name Name of the attribute in the shader source\r\n     * @param size The size of the attribute in gl.Type units, for example `vec2 a_pos` would be 2 gl.FLOAT\r\n     * @param glType The gl.Type of the attribute\r\n     */\r\n    addAttribute(name, size, glType, normalized = false) {\r\n        const gl = this._gl;\r\n        // TODO needs to be compiled first\r\n        const location = gl.getAttribLocation(this.program, name);\r\n        this.attributes[name] = {\r\n            name,\r\n            size,\r\n            glType,\r\n            normalized,\r\n            location\r\n        };\r\n        this.layout.push(this.attributes[name]);\r\n    }\r\n    /**\r\n     * Number of javascript floats a vertex will take up\r\n     */\r\n    get vertexAttributeSize() {\r\n        let vertexSize = 0;\r\n        for (const vert of this.layout) {\r\n            vertexSize += vert.size;\r\n        }\r\n        return vertexSize;\r\n    }\r\n    /**\r\n     * Total number of bytes that the vertex will take up\r\n     */\r\n    get totalVertexSizeBytes() {\r\n        let vertexSize = 0;\r\n        for (const vert of this.layout) {\r\n            let typeSize = 1;\r\n            switch (vert.glType) {\r\n                case this._gl.FLOAT: {\r\n                    typeSize = 4;\r\n                    break;\r\n                }\r\n                default: {\r\n                    typeSize = 1;\r\n                }\r\n            }\r\n            vertexSize += typeSize * vert.size;\r\n        }\r\n        return vertexSize;\r\n    }\r\n    /**\r\n     * Get a previously defined attribute size in bytes\r\n     * @param name\r\n     */\r\n    getAttributeSize(name) {\r\n        let typeSize = 1;\r\n        switch (this.attributes[name].glType) {\r\n            case this._gl.FLOAT: {\r\n                typeSize = 4;\r\n                break;\r\n            }\r\n            default: {\r\n                typeSize = 1;\r\n            }\r\n        }\r\n        return typeSize * this.attributes[name].size;\r\n    }\r\n    /**\r\n     * Sets this shader program as the current in the underlying webgl context\r\n     *\r\n     * **Must** specify all attributes and uniforms before calling this\r\n     */\r\n    use() {\r\n        const gl = this._gl;\r\n        gl.useProgram(this.program);\r\n        let offset = 0;\r\n        for (const vert of this.layout) {\r\n            gl.vertexAttribPointer(vert.location, vert.size, vert.glType, vert.normalized, this.totalVertexSizeBytes, offset);\r\n            gl.enableVertexAttribArray(vert.location);\r\n            offset += this.getAttributeSize(vert.name);\r\n        }\r\n        for (const key in this.uniforms) {\r\n            const uniform = this.uniforms[key];\r\n            switch (uniform.type) {\r\n                case 'matrix': {\r\n                    gl.uniformMatrix4fv(uniform.location, false, uniform.data);\r\n                    break;\r\n                }\r\n                case 'numbers': {\r\n                    gl.uniform1iv(uniform.location, uniform.data);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/shaders/line-vertex.glsl\n/* harmony default export */ const line_vertex = (\"attribute vec4 a_position;\\r\\nattribute vec4 a_color;\\r\\n\\r\\nvarying lowp vec4 v_color;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\n\\r\\nvoid main() {\\r\\n   // Set the vertex position using the ortho transform matrix\\r\\n   gl_Position = u_matrix * a_position;\\r\\n\\r\\n   // Passthrough the color\\r\\n   v_color = a_color;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/shaders/line-fragment.glsl\n/* harmony default export */ const line_fragment = (\"precision mediump float;\\r\\n\\r\\n// Color\\r\\nvarying lowp vec4 v_color;\\r\\n\\r\\n\\r\\nvoid main() {\\r\\n  gl_FragColor = v_color;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/batch.ts\nclass BatchCommand {\r\n    constructor(max) {\r\n        this.max = max;\r\n        this._pool = undefined;\r\n        this.commands = [];\r\n    }\r\n    isFull() {\r\n        if (this.commands.length >= this.max) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    canAdd() {\r\n        return !this.isFull();\r\n    }\r\n    add(cmd) {\r\n        this.commands.push(cmd);\r\n    }\r\n    dispose() {\r\n        this.commands.length = 0;\r\n        return this;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/GraphicsDiagnostics.ts\nclass GraphicsDiagnostics {\r\n    static clear() {\r\n        GraphicsDiagnostics.DrawCallCount = 0;\r\n        GraphicsDiagnostics.DrawnImagesCount = 0;\r\n    }\r\n}\r\nGraphicsDiagnostics.DrawCallCount = 0;\r\nGraphicsDiagnostics.DrawnImagesCount = 0;\r\n\n;// CONCATENATED MODULE: ./Util/Pool.ts\n\r\nclass Pool {\r\n    constructor(builder, recycler, maxObjects = 100) {\r\n        this.builder = builder;\r\n        this.recycler = recycler;\r\n        this.maxObjects = maxObjects;\r\n        this.totalAllocations = 0;\r\n        this.index = 0;\r\n        this.objects = [];\r\n        this._logger = Logger.getInstance();\r\n    }\r\n    /**\r\n     * Use many instances out of the in the context and return all to the pool.\r\n     *\r\n     * By returning values out of the contex they will be un-hooked from the pool and are free to be passed to consumers\r\n     * @param context\r\n     */\r\n    using(context) {\r\n        const result = context(this);\r\n        if (result) {\r\n            return this.done(...result);\r\n        }\r\n        return this.done();\r\n    }\r\n    /**\r\n     * Use a single instance out of th pool and immediately return it to the pool\r\n     * @param context\r\n     */\r\n    borrow(context) {\r\n        const object = this.get();\r\n        context(object);\r\n        this.index--;\r\n    }\r\n    /**\r\n     * Retrieve a value from the pool, will allocate a new instance if necessary or recycle from the pool\r\n     * @param args\r\n     */\r\n    get(...args) {\r\n        if (this.index === this.maxObjects) {\r\n            // TODO implement hard or soft cap\r\n            this._logger.warn('Max pooled objects reached, possible memory leak? Doubling');\r\n            this.maxObjects = this.maxObjects * 2;\r\n            // throw new Error('Max pooled objects reached, possible memory leak?');\r\n        }\r\n        if (this.objects[this.index]) {\r\n            // Pool has an available object already constructed\r\n            return this.recycler(this.objects[this.index++], ...args);\r\n        }\r\n        else {\r\n            // New allocation\r\n            this.totalAllocations++;\r\n            const object = (this.objects[this.index++] = this.builder(...args));\r\n            object._pool = this;\r\n            return object;\r\n        }\r\n    }\r\n    done(...objects) {\r\n        // All objects in pool now considered \"free\"\r\n        this.index = 0;\r\n        for (const object of objects) {\r\n            const poolIndex = this.objects.indexOf(object);\r\n            // Build a new object to take the pool place\r\n            this.objects[poolIndex] = this.builder(); // TODO problematic 0-arg only support\r\n            this.objects[poolIndex]._pool = this;\r\n            this.totalAllocations++;\r\n            // Unhook object from the pool\r\n            object._pool = undefined;\r\n        }\r\n        return objects;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/renderer.ts\n\r\n// import { Pool, Poolable } from './pool';\r\n\r\n\r\nclass BatchRenderer {\r\n    constructor(options) {\r\n        var _a, _b, _c;\r\n        this.priority = 0;\r\n        this._buffer = null;\r\n        this._maxCommandsPerBatch = 2000;\r\n        this._batches = [];\r\n        this._gl = options.gl;\r\n        const command = options.command;\r\n        this._verticesPerCommand = (_a = options === null || options === void 0 ? void 0 : options.verticesPerCommand) !== null && _a !== void 0 ? _a : 1;\r\n        this._maxCommandsPerBatch = (_b = options === null || options === void 0 ? void 0 : options.maxCommandsPerBatch) !== null && _b !== void 0 ? _b : this._maxCommandsPerBatch;\r\n        const batchFactory = (_c = options === null || options === void 0 ? void 0 : options.batchFactory) !== null && _c !== void 0 ? _c : (() => new BatchCommand(this._maxCommandsPerBatch));\r\n        this.commands = new Pool(() => new command(), (c) => c.dispose(), this._maxCommandsPerBatch);\r\n        this._batchPool = new Pool(batchFactory, (b) => b.dispose(), 100);\r\n    }\r\n    /**\r\n     * Initialize render, builds shader and initialized webgl buffers\r\n     */\r\n    init() {\r\n        const gl = this._gl;\r\n        this.shader = this.buildShader(gl);\r\n        // Initialize VBO\r\n        // https://groups.google.com/forum/#!topic/webgl-dev-list/vMNXSNRAg8M\r\n        this._vertices = new Float32Array(this.shader.vertexAttributeSize * this._verticesPerCommand * this._maxCommandsPerBatch);\r\n        this._buffer = gl.createBuffer();\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._buffer);\r\n        gl.bufferData(gl.ARRAY_BUFFER, this._vertices, gl.DYNAMIC_DRAW);\r\n    }\r\n    get vertexSize() {\r\n        return this.shader.vertexAttributeSize;\r\n    }\r\n    addCommand(cmd) {\r\n        if (this._batches.length === 0) {\r\n            this._batches.push(this._batchPool.get());\r\n        }\r\n        const lastBatch = this._batches[this._batches.length - 1];\r\n        if (lastBatch.canAdd()) {\r\n            lastBatch.add(cmd);\r\n        }\r\n        else {\r\n            const newBatch = this._batchPool.get();\r\n            newBatch.add(cmd);\r\n            this._batches.push(newBatch);\r\n        }\r\n    }\r\n    /**\r\n     * Build batch geometry, submit to the gpu, and issue draw command to underlying webgl\r\n     */\r\n    render() {\r\n        const gl = this._gl;\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._buffer);\r\n        this.shader.use();\r\n        let drawCallCount = 0;\r\n        let drawnImagesCount = 0;\r\n        for (const batch of this._batches) {\r\n            // Build all geometry and ship to GPU\r\n            // interleave VBOs https://goharsha.com/lwjgl-tutorial-series/interleaving-buffer-objects/\r\n            const vertexCount = this.buildBatchVertices(this._vertices, batch);\r\n            gl.bufferSubData(gl.ARRAY_BUFFER, 0, this._vertices);\r\n            this.renderBatch(gl, batch, vertexCount);\r\n            drawnImagesCount += batch.commands.length;\r\n            drawCallCount++;\r\n        }\r\n        this.commands.done();\r\n        this._batchPool.done();\r\n        this._batches.length = 0;\r\n        GraphicsDiagnostics.DrawCallCount += drawCallCount;\r\n        GraphicsDiagnostics.DrawnImagesCount += drawnImagesCount;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/line-renderer.ts\n\r\n\r\n\r\n\r\n\r\n\r\nclass DrawLine {\r\n    constructor() {\r\n        this.color = Color.Black;\r\n        this.start = Vector.Zero;\r\n        this.end = Vector.Zero;\r\n    }\r\n    dispose() {\r\n        this.color.r = 0;\r\n        this.color.g = 0;\r\n        this.color.b = 0;\r\n        this.color.a = 1;\r\n        this.start.setTo(0, 0);\r\n        this.end.setTo(0, 0);\r\n        return this;\r\n    }\r\n}\r\nclass LineRenderer extends BatchRenderer {\r\n    constructor(gl, _contextInfo) {\r\n        super({ gl, command: DrawLine, verticesPerCommand: 2 });\r\n        this._contextInfo = _contextInfo;\r\n        this.init();\r\n    }\r\n    buildShader(gl) {\r\n        const shader = new Shader(gl, line_vertex, line_fragment);\r\n        shader.addAttribute('a_position', 2, gl.FLOAT);\r\n        shader.addAttribute('a_color', 4, gl.FLOAT);\r\n        shader.addUniformMatrix('u_matrix', this._contextInfo.matrix.data);\r\n        return shader;\r\n    }\r\n    addLine(start, end, color) {\r\n        const cmd = this.commands.get();\r\n        cmd.start = this._contextInfo.transform.current.multv(start);\r\n        cmd.end = this._contextInfo.transform.current.multv(end);\r\n        cmd.color.r = color.r;\r\n        cmd.color.g = color.g;\r\n        cmd.color.b = color.b;\r\n        cmd.color.a = cmd.color.a * this._contextInfo.state.current.opacity;\r\n        this.addCommand(cmd);\r\n    }\r\n    buildBatchVertices(vertexBuffer, batch) {\r\n        let index = 0;\r\n        for (const command of batch.commands) {\r\n            // Start\r\n            vertexBuffer[index++] = command.start.x;\r\n            vertexBuffer[index++] = command.start.y;\r\n            vertexBuffer[index++] = command.color.r / 255;\r\n            vertexBuffer[index++] = command.color.g / 255;\r\n            vertexBuffer[index++] = command.color.b / 255;\r\n            vertexBuffer[index++] = command.color.a;\r\n            // End\r\n            vertexBuffer[index++] = command.end.x;\r\n            vertexBuffer[index++] = command.end.y;\r\n            vertexBuffer[index++] = command.color.r / 255;\r\n            vertexBuffer[index++] = command.color.g / 255;\r\n            vertexBuffer[index++] = command.color.b / 255;\r\n            vertexBuffer[index++] = command.color.a;\r\n        }\r\n        return index / this.vertexSize;\r\n    }\r\n    renderBatch(gl, _batch, vertexCount) {\r\n        gl.drawArrays(gl.LINES, 0, vertexCount);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/shaders/image-vertex.glsl\n/* harmony default export */ const image_vertex = (\"attribute vec4 a_position;\\r\\n\\r\\n// Opacity \\r\\nattribute float a_opacity;\\r\\nvarying float v_opacity;\\r\\n\\r\\nattribute vec4 a_color;\\r\\nvarying vec4 v_color;\\r\\n\\r\\n// UV coordinate\\r\\nattribute vec2 a_texcoord;\\r\\nvarying vec2 v_texcoord;\\r\\n\\r\\n// Texture number\\r\\nattribute lowp float a_textureIndex;\\r\\nvarying lowp float v_textureIndex;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\n\\r\\nvoid main() {\\r\\n   // Set the vertex position using the ortho transform matrix\\r\\n   gl_Position = u_matrix * a_position;\\r\\n\\r\\n   // Pass through the Opacity to the fragment shader\\r\\n   v_opacity = a_opacity;\\r\\n   // Pass through the UV coord to the fragment shader\\r\\n   v_texcoord = a_texcoord;\\r\\n   // Pass through the texture number to the fragment shader\\r\\n   v_textureIndex = a_textureIndex;\\r\\n   // Pass through the color to the fragment shader\\r\\n   v_color = a_color;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/shaders/image-fragment.glsl\n/* harmony default export */ const image_fragment = (\"#ifdef GL_OES_standard_derivatives\\r\\n#extension GL_OES_standard_derivatives : enable\\r\\n#endif\\r\\nprecision mediump float;\\r\\n\\r\\n// UV coord\\r\\nvarying vec2 v_texcoord;\\r\\n\\r\\n// Texture index\\r\\nvarying lowp float v_textureIndex;\\r\\n\\r\\n// Color coord to blend with image\\r\\nvarying lowp vec4 v_color;\\r\\n\\r\\n// Opacity\\r\\nvarying float v_opacity;\\r\\n\\r\\nuniform sampler2D u_textures[%%count%%];\\r\\n\\r\\nfloat circle(in vec2 st, in float radius) {\\r\\n  vec2 dist = st - vec2(0.5);\\r\\n  float r = dot(dist, dist) * 4.0;\\r\\n  float delta = fwidth(r);\\r\\n  return 1.0 - smoothstep(radius - delta, radius + delta, r);\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n  float r = 0.0, delta = 0.0, alpha = 1.0;\\r\\n   // In order to support the most efficient sprite batching, we have multiple\\r\\n   // textures loaded into the gpu (usually 8) this picker logic skips over textures\\r\\n   // that do not apply to a particular sprite.\\r\\n\\r\\n   vec4 color;\\r\\n   // -1 If there is no texture to sample we are drawing a solid geometry (rectangles)\\r\\n   if (v_textureIndex == -1.0) {\\r\\n     color = v_color;\\r\\n     color.w = color.w * v_opacity;\\r\\n   // -2 If there is no texture we are drawing a circle\\r\\n   } else if (v_textureIndex == -2.0) {\\r\\n     color = v_color;\\r\\n     color.a = color.a * circle(v_texcoord, .95);\\r\\n   } else {\\r\\n     // GLSL is templated out to pick the right texture and set the vec4 color\\r\\n      %%texture_picker%%\\r\\n   }\\r\\n   color.w = color.w * v_opacity;\\r\\n   gl_FragColor = color;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/draw-image-command.ts\n\r\nvar DrawCommandType;\r\n(function (DrawCommandType) {\r\n    DrawCommandType[\"Image\"] = \"image\";\r\n    DrawCommandType[\"Line\"] = \"line\";\r\n    DrawCommandType[\"Rectangle\"] = \"rectangle\";\r\n    DrawCommandType[\"Circle\"] = \"circle\";\r\n})(DrawCommandType || (DrawCommandType = {}));\r\nclass DrawImageCommand {\r\n    constructor(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\r\n        this._pool = undefined;\r\n        this.snapToPixel = true;\r\n        this.type = DrawCommandType.Image;\r\n        this.opacity = 1;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.dest = [0, 0]; // x, y\r\n        this.view = [0, 0, 0, 0]; // sx, sy, sw, sh\r\n        this._geom = [\r\n            [0, 0],\r\n            [0, 0],\r\n            [0, 0],\r\n            [0, 0],\r\n            [0, 0],\r\n            [0, 0]\r\n        ];\r\n        this.init(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight);\r\n    }\r\n    init(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\r\n        this.type = DrawCommandType.Image;\r\n        this.image = image;\r\n        this.width = (image === null || image === void 0 ? void 0 : image.width) || swidth || 0;\r\n        this.height = (image === null || image === void 0 ? void 0 : image.height) || sheight || 0;\r\n        this.view = [0, 0, swidth !== null && swidth !== void 0 ? swidth : image === null || image === void 0 ? void 0 : image.width, sheight !== null && sheight !== void 0 ? sheight : image === null || image === void 0 ? void 0 : image.height];\r\n        this.dest = [sx, sy];\r\n        // If destination is specified, update view and dest\r\n        if (dx !== undefined && dy !== undefined && dwidth !== undefined && dheight !== undefined) {\r\n            this.view = [sx, sy, swidth !== null && swidth !== void 0 ? swidth : image === null || image === void 0 ? void 0 : image.width, sheight !== null && sheight !== void 0 ? sheight : image === null || image === void 0 ? void 0 : image.height];\r\n            this.dest = [dx, dy];\r\n            this.width = dwidth;\r\n            this.height = dheight;\r\n        }\r\n        let index = 0;\r\n        this._geom[index++] = [this.dest[0], this.dest[1]];\r\n        this._geom[index++] = [this.dest[0], this.dest[1] + this.height];\r\n        this._geom[index++] = [this.dest[0] + this.width, this.dest[1]];\r\n        this._geom[index++] = [this.dest[0] + this.width, this.dest[1]];\r\n        this._geom[index++] = [this.dest[0], this.dest[1] + this.height];\r\n        this._geom[index++] = [this.dest[0] + this.width, this.dest[1] + this.height];\r\n        if (this.snapToPixel) {\r\n            for (const point of this._geom) {\r\n                point[0] = ~~point[0];\r\n                point[1] = ~~point[1];\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    initRect(color, start, width, height) {\r\n        this.type = DrawCommandType.Rectangle;\r\n        this.color = color;\r\n        this.width = width;\r\n        this.height = height;\r\n        let index = 0;\r\n        this._geom[index++] = [start.x, start.y];\r\n        this._geom[index++] = [start.x, start.y + this.height];\r\n        this._geom[index++] = [start.x + this.width, start.y];\r\n        this._geom[index++] = [start.x + this.width, start.y];\r\n        this._geom[index++] = [start.x, start.y + this.height];\r\n        this._geom[index++] = [start.x + this.width, start.y + this.height];\r\n        if (this.snapToPixel) {\r\n            for (const point of this._geom) {\r\n                point[0] = ~~point[0];\r\n                point[1] = ~~point[1];\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    initLine(color, start, end, thickness) {\r\n        this.type = DrawCommandType.Line;\r\n        this.color = color;\r\n        const dir = end.sub(start).normalize();\r\n        const normal = dir.perpendicular();\r\n        const halfThick = thickness / 2;\r\n        const startTop = normal.scale(halfThick).add(start);\r\n        const startBottom = normal.scale(-halfThick).add(start);\r\n        const endTop = normal.scale(halfThick).add(end);\r\n        const endBottom = normal.scale(-halfThick).add(end);\r\n        /**\r\n         *    +---------------------^----------------------+\r\n         *    |                     | (normal)             |\r\n         *   (startx, starty)------------------>(endx, endy)\r\n         *    |                                            |\r\n         *    + -------------------------------------------+\r\n         */\r\n        let index = 0;\r\n        this._geom[index++] = [startTop.x, startTop.y];\r\n        this._geom[index++] = [endTop.x, endTop.y];\r\n        this._geom[index++] = [startBottom.x, startBottom.y];\r\n        this._geom[index++] = [startBottom.x, startBottom.y];\r\n        this._geom[index++] = [endTop.x, endTop.y];\r\n        this._geom[index++] = [endBottom.x, endBottom.y];\r\n        if (this.snapToPixel) {\r\n            for (const point of this._geom) {\r\n                point[0] = ~~point[0];\r\n                point[1] = ~~point[1];\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    initCircle(pos, radius, color) {\r\n        this.type = DrawCommandType.Circle;\r\n        this.color = color;\r\n        const topLeft = pos.add(vec(-radius, -radius));\r\n        const topRight = pos.add(vec(radius, -radius));\r\n        const bottomRight = pos.add(vec(radius, radius));\r\n        const bottomLeft = pos.add(vec(-radius, radius));\r\n        let index = 0;\r\n        this._geom[index++] = [topLeft.x, topLeft.y];\r\n        this._geom[index++] = [topRight.x, topRight.y];\r\n        this._geom[index++] = [bottomLeft.x, bottomLeft.y];\r\n        this._geom[index++] = [bottomLeft.x, bottomLeft.y];\r\n        this._geom[index++] = [topRight.x, topRight.y];\r\n        this._geom[index++] = [bottomRight.x, bottomRight.y];\r\n        if (this.snapToPixel) {\r\n            for (const point of this._geom) {\r\n                point[0] = ~~point[0];\r\n                point[1] = ~~point[1];\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    dispose() {\r\n        this.image = null;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.view = [0, 0, 0, 0];\r\n        this.dest = [0, 0];\r\n        let index = 0;\r\n        this._geom[index++] = [this.dest[0], this.dest[1]];\r\n        this._geom[index++] = [this.dest[0], this.dest[1] + this.height];\r\n        this._geom[index++] = [this.dest[0] + this.width, this.dest[1]];\r\n        this._geom[index++] = [this.dest[0] + this.width, this.dest[1]];\r\n        this._geom[index++] = [this.dest[0], this.dest[1] + this.height];\r\n        this._geom[index++] = [this.dest[0] + this.width, this.dest[1] + this.height];\r\n        return this;\r\n    }\r\n    // todo weird\r\n    applyTransform(transform, opacity) {\r\n        if (transform) {\r\n            for (let i = 0; i < this._geom.length; i++) {\r\n                this._geom[i] = transform.multv(this._geom[i]);\r\n                if (this.snapToPixel) {\r\n                    this._geom[i] = [~~this._geom[i][0], ~~this._geom[i][1]];\r\n                }\r\n            }\r\n        }\r\n        this.opacity = opacity;\r\n    }\r\n    get geometry() {\r\n        return this._geom;\r\n    }\r\n}\r\nclass DrawRectCommand {\r\n    constructor(x, y, width, height) {\r\n        this.dest = [0, 0];\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.dest = [x, y];\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n}\r\nclass DrawDebugRectCommand {\r\n    constructor(bounds, color) {\r\n        this.bounds = bounds;\r\n        this.color = color;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/webgl-util.ts\n/**\r\n * Checks if the current number is a power of two\r\n */\r\nfunction isPowerOfTwo(x) {\r\n    return (x & (x - 1)) === 0;\r\n}\r\n/**\r\n * Returns the next highest power of two\r\n */\r\nfunction nextHighestPowerOfTwo(x) {\r\n    --x;\r\n    for (let i = 1; i < 32; i <<= 1) {\r\n        x = x | (x >> i);\r\n    }\r\n    return x + 1;\r\n}\r\n/**\r\n * Returns the input number if a power of two, otherwise the next highest power of two\r\n */\r\nfunction ensurePowerOfTwo(x) {\r\n    if (!isPowerOfTwo(x)) {\r\n        return nextHighestPowerOfTwo(x);\r\n    }\r\n    return x;\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/texture-loader.ts\n\r\n/**\r\n * Manages loading image sources into webgl textures, a unique id is associated with all sources\r\n */\r\nclass TextureLoader {\r\n    static registerContext(context) {\r\n        TextureLoader._GL = context;\r\n    }\r\n    /**\r\n     * Get the WebGL Texture from a source image\r\n     * @param image\r\n     */\r\n    static get(image) {\r\n        return TextureLoader._TEXTURE_MAP.get(image);\r\n    }\r\n    /**\r\n     * Returns whether a source image has been loaded as a texture\r\n     * @param image\r\n     */\r\n    static has(image) {\r\n        return TextureLoader._TEXTURE_MAP.has(image);\r\n    }\r\n    /**\r\n     * Loads a graphic into webgl and returns it's texture info, a webgl context must be previously registered\r\n     * @param image Source graphic\r\n     * @param forceUpdate Optionally force a texture to be reloaded, useful if the source graphic has changed\r\n     */\r\n    static load(image, forceUpdate = false) {\r\n        // Ignore loading if webgl is not registered\r\n        const gl = TextureLoader._GL;\r\n        if (!gl) {\r\n            return null;\r\n        }\r\n        let tex = null;\r\n        // If reuse the texture if it's from the same source\r\n        if (TextureLoader.has(image)) {\r\n            tex = TextureLoader.get(image);\r\n        }\r\n        // Update existing webgl texture and return early\r\n        if (tex) {\r\n            if (forceUpdate) {\r\n                gl.bindTexture(gl.TEXTURE_2D, tex);\r\n                const source = TextureLoader.toPowerOfTwoImage(image);\r\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\r\n            }\r\n            return tex;\r\n        }\r\n        // No texture exists create a new one\r\n        tex = gl.createTexture();\r\n        const source = TextureLoader.toPowerOfTwoImage(image);\r\n        gl.bindTexture(gl.TEXTURE_2D, tex);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        // NEAREST for pixels\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\r\n        TextureLoader._TEXTURE_MAP.set(image, tex);\r\n        return tex;\r\n    }\r\n    /**\r\n     * Converts source images into power of two images, WebGL only supports POT images\r\n     * https://www.khronos.org/webgl/wiki/WebGL_and_OpenGL_Differences#Non-Power_of_Two_Texture_Support\r\n     * @param image\r\n     */\r\n    static toPowerOfTwoImage(image) {\r\n        const potCanvas = TextureLoader._POT_CANVAS;\r\n        const potCtx = TextureLoader._POT_CTX;\r\n        if (!isPowerOfTwo(image.width) || !isPowerOfTwo(image.height)) {\r\n            // Scale up the texture to the next highest power of two dimensions.\r\n            potCanvas.width = ensurePowerOfTwo(image.width);\r\n            potCanvas.height = ensurePowerOfTwo(image.height);\r\n            potCtx.imageSmoothingEnabled = false;\r\n            potCtx.clearRect(0, 0, potCanvas.width, potCanvas.height);\r\n            potCtx.drawImage(image, 0, 0, image.width, image.height);\r\n            image = potCanvas;\r\n        }\r\n        return image;\r\n    }\r\n}\r\nTextureLoader._POT_CANVAS = document.createElement('canvas');\r\nTextureLoader._POT_CTX = TextureLoader._POT_CANVAS.getContext('2d');\r\nTextureLoader._TEXTURE_MAP = new Map();\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/image-renderer.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass BatchImage extends BatchCommand {\r\n    constructor(maxDraws, maxTextures) {\r\n        super(maxDraws);\r\n        this.maxDraws = maxDraws;\r\n        this.maxTextures = maxTextures;\r\n        this.textures = [];\r\n        this.commands = [];\r\n        this._graphicMap = {};\r\n    }\r\n    isFull() {\r\n        if (this.commands.length >= this.maxDraws) {\r\n            return true;\r\n        }\r\n        if (this.textures.length >= this.maxTextures) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    canAdd() {\r\n        if (this.commands.length >= this.maxDraws) {\r\n            return false;\r\n        }\r\n        if (this.textures.length < this.maxTextures) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    _isCommandFull() {\r\n        return this.commands.length >= this.maxDraws;\r\n    }\r\n    _isTextureFull() {\r\n        return this.textures.length >= this.maxTextures;\r\n    }\r\n    _wouldAddTexture(command) {\r\n        return !this._graphicMap[command.image.id];\r\n    }\r\n    maybeAdd(command) {\r\n        if ((this._isCommandFull() || this._isTextureFull()) && this._wouldAddTexture(command)) {\r\n            return false;\r\n        }\r\n        this.add(command);\r\n        return true;\r\n    }\r\n    add(command) {\r\n        if (command.type === DrawCommandType.Image) {\r\n            const texture = TextureLoader.load(command.image);\r\n            if (this.textures.indexOf(texture) === -1) {\r\n                this.textures.push(texture);\r\n            }\r\n        }\r\n        this.commands.push(command);\r\n    }\r\n    bindTextures(gl) {\r\n        // Bind textures in the correct order\r\n        for (let i = 0; i < this.maxTextures; i++) {\r\n            gl.activeTexture(gl.TEXTURE0 + i);\r\n            gl.bindTexture(gl.TEXTURE_2D, this.textures[i] || this.textures[0]);\r\n        }\r\n    }\r\n    getBatchTextureId(command) {\r\n        if (command.image) {\r\n            return this.textures.indexOf(TextureLoader.get(command.image));\r\n        }\r\n        return -1;\r\n    }\r\n    dispose() {\r\n        this.clear();\r\n        return this;\r\n    }\r\n    clear() {\r\n        this.commands.length = 0;\r\n        this.textures.length = 0;\r\n        this._graphicMap = {};\r\n    }\r\n}\r\nclass ImageRenderer extends BatchRenderer {\r\n    constructor(gl, _contextInfo) {\r\n        super({\r\n            gl,\r\n            command: DrawImageCommand,\r\n            // 6 verts per quad\r\n            verticesPerCommand: 6,\r\n            maxCommandsPerBatch: 2000,\r\n            batchFactory: () => new BatchImage(2000, gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS))\r\n        });\r\n        this._contextInfo = _contextInfo;\r\n        TextureLoader.registerContext(gl);\r\n        this.init();\r\n    }\r\n    buildShader(gl) {\r\n        // Initialilze default batch rendering shader\r\n        const maxGPUTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\r\n        const shader = new Shader(gl, image_vertex, this._transformFragmentSource(image_fragment, maxGPUTextures));\r\n        shader.addAttribute('a_position', 3, gl.FLOAT);\r\n        shader.addAttribute('a_texcoord', 2, gl.FLOAT);\r\n        shader.addAttribute('a_textureIndex', 1, gl.FLOAT);\r\n        shader.addAttribute('a_opacity', 1, gl.FLOAT);\r\n        shader.addAttribute('a_color', 4, gl.FLOAT);\r\n        shader.addUniformMatrix('u_matrix', this._contextInfo.matrix.data);\r\n        // Initialize texture slots to [0, 1, 2, 3, 4, .... maxGPUTextures]\r\n        shader.addUniformIntegerArray('u_textures', [...Array(maxGPUTextures)].map((_, i) => i));\r\n        return shader;\r\n    }\r\n    _transformFragmentSource(source, maxTextures) {\r\n        let newSource = source.replace('%%count%%', maxTextures.toString());\r\n        let texturePickerBuilder = '';\r\n        for (let i = 0; i < maxTextures; i++) {\r\n            if (i === 0) {\r\n                texturePickerBuilder += `if (v_textureIndex <= ${i}.5) {\\n`;\r\n            }\r\n            else {\r\n                texturePickerBuilder += `   else if (v_textureIndex <= ${i}.5) {\\n`;\r\n            }\r\n            texturePickerBuilder += `      color = texture2D(u_textures[${i}], v_texcoord);\\n`;\r\n            texturePickerBuilder += `   }\\n`;\r\n        }\r\n        newSource = newSource.replace('%%texture_picker%%', texturePickerBuilder);\r\n        return newSource;\r\n    }\r\n    addCircle(pos, radius, color) {\r\n        const command = this.commands.get().initCircle(pos, radius, color);\r\n        command.applyTransform(this._contextInfo.transform.current, this._contextInfo.state.current.opacity);\r\n        this.addCommand(command);\r\n    }\r\n    addRectangle(color, pos, width, height) {\r\n        const command = this.commands.get().initRect(color, pos, width, height);\r\n        command.applyTransform(this._contextInfo.transform.current, this._contextInfo.state.current.opacity);\r\n        this.addCommand(command);\r\n    }\r\n    addLine(color, start, end, thickness = 1) {\r\n        const command = this.commands.get().initLine(color, start, end, thickness);\r\n        command.applyTransform(this._contextInfo.transform.current, this._contextInfo.state.current.opacity);\r\n        this.addCommand(command);\r\n    }\r\n    addImage(graphic, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\r\n        const command = this.commands.get().init(graphic, sx, sy, swidth, sheight, dx, dy, dwidth, dheight);\r\n        command.applyTransform(this._contextInfo.transform.current, this._contextInfo.state.current.opacity);\r\n        this.addCommand(command);\r\n    }\r\n    renderBatch(gl, batch, vertexCount) {\r\n        // Bind textures in the correct order\r\n        batch.bindTextures(gl);\r\n        // draw the quads\r\n        gl.drawArrays(gl.TRIANGLES, 0, vertexCount);\r\n    }\r\n    buildBatchVertices(vertexBuffer, batch) {\r\n        var _a, _b;\r\n        let vertIndex = 0;\r\n        let sx = 0;\r\n        let sy = 0;\r\n        let sw = 0;\r\n        let sh = 0;\r\n        let potWidth = 1;\r\n        let potHeight = 1;\r\n        let textureId = 0;\r\n        let commandColor = Color.Transparent;\r\n        for (const command of batch.commands) {\r\n            sx = command.view[0];\r\n            sy = command.view[1];\r\n            sw = command.view[2];\r\n            sh = command.view[3];\r\n            potWidth = ensurePowerOfTwo(((_a = command.image) === null || _a === void 0 ? void 0 : _a.width) || command.width);\r\n            potHeight = ensurePowerOfTwo(((_b = command.image) === null || _b === void 0 ? void 0 : _b.height) || command.height);\r\n            textureId = batch.getBatchTextureId(command);\r\n            if (command.type === DrawCommandType.Line || command.type === DrawCommandType.Rectangle) {\r\n                textureId = -1; // sentinel for no image rect\r\n                commandColor = command.color;\r\n            }\r\n            if (command.type === DrawCommandType.Circle) {\r\n                textureId = -2; // sentinel for circle\r\n                commandColor = command.color;\r\n            }\r\n            // potential optimization when divding by 2 (bitshift)\r\n            // Modifying the images to poweroftwo images warp the UV coordinates\r\n            let uvx0 = sx / potWidth;\r\n            let uvy0 = sy / potHeight;\r\n            let uvx1 = (sx + sw) / potWidth;\r\n            let uvy1 = (sy + sh) / potHeight;\r\n            if (textureId === -2) {\r\n                uvx0 = 0;\r\n                uvy0 = 0;\r\n                uvx1 = 1;\r\n                uvy1 = 1;\r\n            }\r\n            // Quad update\r\n            // (0, 0, z) z-index doesn't work in batch rendering between batches\r\n            vertexBuffer[vertIndex++] = command.geometry[0][0]; // x + 0 * width;\r\n            vertexBuffer[vertIndex++] = command.geometry[0][1]; //y + 0 * height;\r\n            vertexBuffer[vertIndex++] = 0;\r\n            // UV coords\r\n            vertexBuffer[vertIndex++] = uvx0; // 0;\r\n            vertexBuffer[vertIndex++] = uvy0; // 0;\r\n            // texture id\r\n            vertexBuffer[vertIndex++] = textureId;\r\n            // opacity\r\n            vertexBuffer[vertIndex++] = command.opacity;\r\n            // color\r\n            vertexBuffer[vertIndex++] = commandColor.r / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.g / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.b / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.a;\r\n            // (0, 1)\r\n            vertexBuffer[vertIndex++] = command.geometry[1][0]; // x + 0 * width;\r\n            vertexBuffer[vertIndex++] = command.geometry[1][1]; // y + 1 * height;\r\n            vertexBuffer[vertIndex++] = 0;\r\n            // UV coords\r\n            vertexBuffer[vertIndex++] = uvx0; // 0;\r\n            vertexBuffer[vertIndex++] = uvy1; // 1;\r\n            // texture id\r\n            vertexBuffer[vertIndex++] = textureId;\r\n            // opacity\r\n            vertexBuffer[vertIndex++] = command.opacity;\r\n            // color\r\n            vertexBuffer[vertIndex++] = commandColor.r / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.g / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.b / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.a;\r\n            // (1, 0)\r\n            vertexBuffer[vertIndex++] = command.geometry[2][0]; // x + 1 * width;\r\n            vertexBuffer[vertIndex++] = command.geometry[2][1]; // y + 0 * height;\r\n            vertexBuffer[vertIndex++] = 0;\r\n            // UV coords\r\n            vertexBuffer[vertIndex++] = uvx1; //1;\r\n            vertexBuffer[vertIndex++] = uvy0; //0;\r\n            // texture id\r\n            vertexBuffer[vertIndex++] = textureId;\r\n            // opacity\r\n            vertexBuffer[vertIndex++] = command.opacity;\r\n            // color\r\n            vertexBuffer[vertIndex++] = commandColor.r / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.g / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.b / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.a;\r\n            // (1, 0)\r\n            vertexBuffer[vertIndex++] = command.geometry[3][0]; // x + 1 * width;\r\n            vertexBuffer[vertIndex++] = command.geometry[3][1]; // y + 0 * height;\r\n            vertexBuffer[vertIndex++] = 0;\r\n            // UV coords\r\n            vertexBuffer[vertIndex++] = uvx1; //1;\r\n            vertexBuffer[vertIndex++] = uvy0; //0;\r\n            // texture id\r\n            vertexBuffer[vertIndex++] = textureId;\r\n            // opacity\r\n            vertexBuffer[vertIndex++] = command.opacity;\r\n            // color\r\n            vertexBuffer[vertIndex++] = commandColor.r / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.g / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.b / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.a;\r\n            // (0, 1)\r\n            vertexBuffer[vertIndex++] = command.geometry[4][0]; // x + 0 * width;\r\n            vertexBuffer[vertIndex++] = command.geometry[4][1]; // y + 1 * height\r\n            vertexBuffer[vertIndex++] = 0;\r\n            // UV coords\r\n            vertexBuffer[vertIndex++] = uvx0; // 0;\r\n            vertexBuffer[vertIndex++] = uvy1; // 1;\r\n            // texture id\r\n            vertexBuffer[vertIndex++] = textureId;\r\n            // opacity\r\n            vertexBuffer[vertIndex++] = command.opacity;\r\n            // color\r\n            vertexBuffer[vertIndex++] = commandColor.r / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.g / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.b / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.a;\r\n            // (1, 1)\r\n            vertexBuffer[vertIndex++] = command.geometry[5][0]; // x + 1 * width;\r\n            vertexBuffer[vertIndex++] = command.geometry[5][1]; // y + 1 * height;\r\n            vertexBuffer[vertIndex++] = 0;\r\n            // UV coords\r\n            vertexBuffer[vertIndex++] = uvx1; // 1;\r\n            vertexBuffer[vertIndex++] = uvy1; // 1;\r\n            // texture id\r\n            vertexBuffer[vertIndex++] = textureId;\r\n            // opacity\r\n            vertexBuffer[vertIndex++] = command.opacity;\r\n            // color\r\n            vertexBuffer[vertIndex++] = commandColor.r / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.g / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.b / 255;\r\n            vertexBuffer[vertIndex++] = commandColor.a;\r\n        }\r\n        return vertIndex / this.vertexSize;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/shaders/point-vertex.glsl\n/* harmony default export */ const point_vertex = (\"attribute vec4 a_position;\\r\\nattribute vec4 a_color;\\r\\nattribute float a_size;\\r\\nvarying lowp vec4 v_color;\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\nvoid main() {\\r\\n  gl_Position = u_matrix * a_position;\\r\\n  gl_PointSize = a_size * 2.0;\\r\\n  v_color = a_color;\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/shaders/point-fragment.glsl\n/* harmony default export */ const point_fragment = (\"#ifdef GL_OES_standard_derivatives\\r\\n#extension GL_OES_standard_derivatives : enable\\r\\n#endif\\r\\n\\r\\nprecision mediump float;\\r\\nvarying lowp vec4 v_color;\\r\\n\\r\\nvoid main() {\\r\\n  float r = 0.0, delta = 0.0, alpha = 1.0;\\r\\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\\r\\n  r = dot(cxy, cxy);\\r\\n  \\r\\n#ifdef GL_OES_standard_derivatives\\r\\n  delta = fwidth(r);\\r\\n  alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\\r\\n#else\\r\\n  if (r > 1.0) {\\r\\n    discard;\\r\\n  }\\r\\n#endif\\r\\n  gl_FragColor = vec4(v_color.rgb, v_color.a * alpha);\\r\\n}\");\n;// CONCATENATED MODULE: ./Graphics/Context/point-renderer.ts\n\r\n\r\n\r\n\r\n\r\n\r\n// import { Random } from '../../Math/Index';\r\nclass DrawPoint {\r\n    constructor() {\r\n        this.point = Vector.Zero;\r\n        this.color = Color.Black;\r\n        this.size = 1;\r\n    }\r\n    dispose() {\r\n        this.point.setTo(0, 0);\r\n        this.color.r = 0;\r\n        this.color.g = 0;\r\n        this.color.b = 0;\r\n        this.color.a = 1;\r\n        this.size = 1;\r\n        return this;\r\n    }\r\n}\r\nclass PointRenderer extends BatchRenderer {\r\n    constructor(gl, _contextInfo) {\r\n        super({ gl, command: DrawPoint, verticesPerCommand: 1 });\r\n        this._contextInfo = _contextInfo;\r\n        this.init();\r\n    }\r\n    buildShader(gl) {\r\n        gl.getExtension('OES_standard_derivatives');\r\n        const shader = new Shader(gl, point_vertex, point_fragment);\r\n        shader.addAttribute('a_position', 2, gl.FLOAT);\r\n        shader.addAttribute('a_color', 4, gl.FLOAT);\r\n        shader.addAttribute('a_size', 1, gl.FLOAT);\r\n        shader.addUniformMatrix('u_matrix', this._contextInfo.matrix.data);\r\n        return shader;\r\n    }\r\n    addPoint(point, color, size) {\r\n        const cmd = this.commands.get();\r\n        cmd.point = this._contextInfo.transform.current.multv(point);\r\n        cmd.color.r = color.r;\r\n        cmd.color.g = color.g;\r\n        cmd.color.b = color.b;\r\n        cmd.color.a = color.a * this._contextInfo.state.current.opacity;\r\n        cmd.size = size * Math.max(this._contextInfo.transform.current.getScaleX(), this._contextInfo.transform.current.getScaleY());\r\n        this.addCommand(cmd);\r\n    }\r\n    buildBatchVertices(vertexBuffer, batch) {\r\n        let index = 0;\r\n        for (const command of batch.commands) {\r\n            vertexBuffer[index++] = command.point.x;\r\n            vertexBuffer[index++] = command.point.y;\r\n            // normalize to [0, 1] for webgl\r\n            vertexBuffer[index++] = command.color.r / 255;\r\n            vertexBuffer[index++] = command.color.g / 255;\r\n            vertexBuffer[index++] = command.color.b / 255;\r\n            vertexBuffer[index++] = command.color.a;\r\n            vertexBuffer[index++] = command.size;\r\n        }\r\n        return index / this.vertexSize;\r\n    }\r\n    renderBatch(gl, _batch, vertexCount) {\r\n        gl.drawArrays(gl.POINTS, 0, vertexCount);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Graphic.ts\n\r\n\r\n/**\r\n * A Graphic is the base Excalibur primitive for something that can be drawn to the [[ExcaliburGraphicsContext]].\r\n * [[Sprite]], [[Animation]], [[GraphicsGroup]], [[Canvas]], [[Rectangle]], [[Circle]], and [[Polygon]] all derive from the\r\n * [[Graphic]] abstract class.\r\n *\r\n * Implementors of a Graphic must override the abstract [[Graphic._drawImage]] method to render an image to the graphics context. Graphic\r\n * handles all the position, rotation, and scale transformations in [[Graphic._preDraw]] and [[Graphic._postDraw]]\r\n */\r\nclass Graphic {\r\n    constructor(options) {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        this.id = Graphic._ID++;\r\n        /**\r\n         * Gets or sets wether to show debug information about the graphic\r\n         */\r\n        this.showDebug = false;\r\n        /**\r\n         * Gets or sets the flipHorizontal, which will flip the graphic horizontally (across the y axis)\r\n         */\r\n        this.flipHorizontal = false;\r\n        /**\r\n         * Gets or sets the flipVertical, which will flip the graphic vertically (across the x axis)\r\n         */\r\n        this.flipVertical = false;\r\n        /**\r\n         * Gets or sets the rotation of the graphic\r\n         */\r\n        this.rotation = 0;\r\n        /**\r\n         * Gets or sets the opacity of the graphic, 0 is transparent, 1 is solid (opaque).\r\n         */\r\n        this.opacity = 1;\r\n        /**\r\n         * Gets or sets the scale of the graphic, this affects the width and\r\n         */\r\n        this.scale = Vector.One;\r\n        /**\r\n         * Gets or sets the origin of the graphic, if not set the center of the graphic is the origin\r\n         */\r\n        this.origin = null;\r\n        this._width = 0;\r\n        this._height = 0;\r\n        if (options) {\r\n            this.origin = (_a = options.origin) !== null && _a !== void 0 ? _a : this.origin;\r\n            this.flipHorizontal = (_b = options.flipHorizontal) !== null && _b !== void 0 ? _b : this.flipHorizontal;\r\n            this.flipVertical = (_c = options.flipVertical) !== null && _c !== void 0 ? _c : this.flipVertical;\r\n            this.rotation = (_d = options.rotation) !== null && _d !== void 0 ? _d : this.rotation;\r\n            this.opacity = (_e = options.opacity) !== null && _e !== void 0 ? _e : this.opacity;\r\n            this.scale = (_f = options.scale) !== null && _f !== void 0 ? _f : this.scale;\r\n        }\r\n    }\r\n    cloneGraphicOptions() {\r\n        return {\r\n            origin: this.origin ? this.origin.clone() : null,\r\n            flipHorizontal: this.flipHorizontal,\r\n            flipVertical: this.flipVertical,\r\n            rotation: this.rotation,\r\n            opacity: this.opacity,\r\n            scale: this.scale ? this.scale.clone() : null\r\n        };\r\n    }\r\n    /**\r\n     * Gets or sets the width of the graphic (always positive)\r\n     */\r\n    get width() {\r\n        return Math.abs(this._width * this.scale.x);\r\n    }\r\n    /**\r\n     * Gets or sets the height of the graphic (always positive)\r\n     */\r\n    get height() {\r\n        return Math.abs(this._height * this.scale.y);\r\n    }\r\n    set width(value) {\r\n        this._width = value;\r\n    }\r\n    set height(value) {\r\n        this._height = value;\r\n    }\r\n    /**\r\n     * Gets a copy of the bounds in pixels occupied by the graphic on the the screen. This includes scale.\r\n     */\r\n    get localBounds() {\r\n        return BoundingBox.fromDimension(this.width, this.height, Vector.Zero);\r\n    }\r\n    /**\r\n     * Draw the whole graphic to the context including transform\r\n     * @param ex The excalibur graphics context\r\n     * @param x\r\n     * @param y\r\n     */\r\n    draw(ex, x, y) {\r\n        this._preDraw(ex, x, y);\r\n        this._drawImage(ex, 0, 0);\r\n        this._postDraw(ex);\r\n    }\r\n    /**\r\n     * Apply affine transformations to the graphics context to manipulate the graphic before [[Graphic._drawImage]]\r\n     * @param ex\r\n     * @param x\r\n     * @param y\r\n     */\r\n    _preDraw(ex, x, y) {\r\n        ex.save();\r\n        ex.translate(x, y);\r\n        ex.scale(Math.abs(this.scale.x), Math.abs(this.scale.y));\r\n        this._rotate(ex);\r\n        this._flip(ex);\r\n        // it is important to multiply alphas so graphics respect the current context\r\n        ex.opacity = ex.opacity * this.opacity;\r\n    }\r\n    _rotate(ex) {\r\n        var _a;\r\n        const scaleDirX = this.scale.x > 0 ? 1 : -1;\r\n        const scaleDirY = this.scale.y > 0 ? 1 : -1;\r\n        const origin = (_a = this.origin) !== null && _a !== void 0 ? _a : vec(this.width / 2, this.height / 2);\r\n        ex.translate(origin.x, origin.y);\r\n        ex.rotate(this.rotation);\r\n        // This is for handling direction changes 1 or -1, that way we don't have mismatched translates()\r\n        ex.scale(scaleDirX, scaleDirY);\r\n        ex.translate(-origin.x, -origin.y);\r\n    }\r\n    _flip(ex) {\r\n        if (this.flipHorizontal) {\r\n            ex.translate(this.width / this.scale.x, 0);\r\n            ex.scale(-1, 1);\r\n        }\r\n        if (this.flipVertical) {\r\n            ex.translate(0, this.height / this.scale.y);\r\n            ex.scale(1, -1);\r\n        }\r\n    }\r\n    /**\r\n     * Apply any addtional work after [[Graphic._drawImage]] and restore the context state.\r\n     * @param ex\r\n     */\r\n    _postDraw(ex) {\r\n        if (this.showDebug) {\r\n            ex.debug.drawRect(0, 0, this.width, this.height);\r\n        }\r\n        ex.restore();\r\n    }\r\n}\r\nGraphic._ID = 0;\r\n\n;// CONCATENATED MODULE: ./Util/Watch.ts\n/**\r\n * Watch an object with a proxy, only fires if property value is different\r\n */\r\nfunction watch(type, change) {\r\n    if (!type) {\r\n        return type;\r\n    }\r\n    if (type.__isProxy === undefined) {\r\n        // expando hack to mark a proxy\r\n        return new Proxy(type, {\r\n            set: (obj, prop, value) => {\r\n                // The default behavior to store the value\r\n                if (obj[prop] !== value) {\r\n                    obj[prop] = value;\r\n                    // Avoid watching private junk\r\n                    if (typeof prop === 'string') {\r\n                        if (prop[0] !== '_') {\r\n                            change(obj);\r\n                        }\r\n                    }\r\n                }\r\n                // Indicate success\r\n                return true;\r\n            },\r\n            get: (obj, prop) => {\r\n                if (prop !== '__isProxy') {\r\n                    return obj[prop];\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n    return type;\r\n}\r\n/**\r\n * Watch an object with a proxy, fires change on any property value change\r\n */\r\nfunction watchAny(type, change) {\r\n    if (!type) {\r\n        return type;\r\n    }\r\n    if (type.__isProxy === undefined) {\r\n        // expando hack to mark a proxy\r\n        return new Proxy(type, {\r\n            set: (obj, prop, value) => {\r\n                // The default behavior to store the value\r\n                obj[prop] = value;\r\n                // Avoid watching private junk\r\n                if (typeof prop === 'string') {\r\n                    if (prop[0] !== '_') {\r\n                        change(obj);\r\n                    }\r\n                }\r\n                // Indicate success\r\n                return true;\r\n            },\r\n            get: (obj, prop) => {\r\n                if (prop !== '__isProxy') {\r\n                    return obj[prop];\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n    return type;\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Raster.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A Raster is a Graphic that needs to be first painted to a HTMLCanvasElement before it can be drawn to the\r\n * [[ExcaliburGraphicsContext]]. This is useful for generating custom images using the 2D canvas api.\r\n *\r\n * Implementors must implemenet the [[Raster.execute]] method to rasterize their drawing.\r\n */\r\nclass Raster extends Graphic {\r\n    constructor(options) {\r\n        var _a, _b, _c, _d, _e, _f, _g;\r\n        super(options);\r\n        this._dirty = true;\r\n        this._smoothing = false;\r\n        this._color = watch(Color.Black, () => this.flagDirty());\r\n        this._lineWidth = 1;\r\n        this._lineDash = [];\r\n        this._padding = 0;\r\n        if (options) {\r\n            this.color = (_a = options.color) !== null && _a !== void 0 ? _a : Color.Black;\r\n            this.strokeColor = options === null || options === void 0 ? void 0 : options.strokeColor;\r\n            this.smoothing = (_b = options.smoothing) !== null && _b !== void 0 ? _b : this.smoothing;\r\n            this.lineWidth = (_c = options.lineWidth) !== null && _c !== void 0 ? _c : this.lineWidth;\r\n            this.lineDash = (_d = options.lineDash) !== null && _d !== void 0 ? _d : this.lineDash;\r\n            this.padding = (_e = options.padding) !== null && _e !== void 0 ? _e : this.padding;\r\n        }\r\n        this._bitmap = document.createElement('canvas');\r\n        // get the default canvas width/height as a fallback\r\n        const bitmapWidth = (_f = options === null || options === void 0 ? void 0 : options.width) !== null && _f !== void 0 ? _f : this._bitmap.width;\r\n        const bitmapHeight = (_g = options === null || options === void 0 ? void 0 : options.height) !== null && _g !== void 0 ? _g : this._bitmap.height;\r\n        // Rasters use power of two images as an optimization for webgl\r\n        this.width = ensurePowerOfTwo(bitmapWidth);\r\n        this.height = ensurePowerOfTwo(bitmapHeight);\r\n        const maybeCtx = this._bitmap.getContext('2d');\r\n        if (!maybeCtx) {\r\n            /* istanbul ignore next */\r\n            throw new Error('Browser does not support 2d canvas drawing, cannot create Raster graphic');\r\n        }\r\n        else {\r\n            this._ctx = maybeCtx;\r\n        }\r\n    }\r\n    cloneRasterOptions() {\r\n        return {\r\n            color: this.color ? this.color.clone() : null,\r\n            strokeColor: this.strokeColor ? this.strokeColor.clone() : null,\r\n            smoothing: this.smoothing,\r\n            lineWidth: this.lineWidth,\r\n            lineDash: this.lineDash,\r\n            padding: this.padding\r\n        };\r\n    }\r\n    /**\r\n     * Gets whether the graphic is dirty, this means there are changes that haven't been re-rasterized\r\n     */\r\n    get dirty() {\r\n        return this._dirty;\r\n    }\r\n    /**\r\n     * Flags the graphic as dirty, meaning it must be re-rasterized before draw.\r\n     * This should be called any time the graphics state changes such that it affects the outputed drawing\r\n     */\r\n    flagDirty() {\r\n        this._dirty = true;\r\n    }\r\n    /**\r\n     * Gets or sets the current width of the Raster graphic. Setting the width will cause the raster\r\n     * to be flagged dirty causing a re-raster on the next draw.\r\n     *\r\n     * Any `padding`s set will be factored into the width\r\n     */\r\n    get width() {\r\n        return this._getTotalWidth();\r\n    }\r\n    set width(value) {\r\n        this._bitmap.width = value;\r\n        this._originalWidth = value;\r\n        this.flagDirty();\r\n    }\r\n    /**\r\n     * Gets or sets the current height of the Raster graphic. Setting the height will cause the raster\r\n     * to be flagged dirty causing a re-raster on the next draw.\r\n     *\r\n     * Any `padding` set will be factored into the height\r\n     */\r\n    get height() {\r\n        return this._getTotalHeight();\r\n    }\r\n    set height(value) {\r\n        this._bitmap.height = value;\r\n        this._originalHeight = value;\r\n        this.flagDirty();\r\n    }\r\n    _getTotalWidth() {\r\n        var _a;\r\n        return ((_a = this._originalWidth) !== null && _a !== void 0 ? _a : this._bitmap.width) + this.padding * 2;\r\n    }\r\n    _getTotalHeight() {\r\n        var _a;\r\n        return ((_a = this._originalHeight) !== null && _a !== void 0 ? _a : this._bitmap.height) + this.padding * 2;\r\n    }\r\n    /**\r\n     * Returns the local bounds of the Raster including the padding\r\n     */\r\n    get localBounds() {\r\n        return BoundingBox.fromDimension(this._getTotalWidth() * this.scale.x, this._getTotalHeight() * this.scale.y, Vector.Zero);\r\n    }\r\n    /**\r\n     * Gets or sets the smoothing (anti-aliasing of the graphic). Setting the height will cause the raster\r\n     * to be flagged dirty causing a re-raster on the next draw.\r\n     */\r\n    get smoothing() {\r\n        return this._smoothing;\r\n    }\r\n    set smoothing(value) {\r\n        this._smoothing = value;\r\n        this.flagDirty();\r\n    }\r\n    /**\r\n     * Gets or sets the fillStyle of the Raster graphic. Setting the fillStyle will cause the raster to be\r\n     * flagged dirty causing a re-raster on the next draw.\r\n     */\r\n    get color() {\r\n        return this._color;\r\n    }\r\n    set color(value) {\r\n        var _a;\r\n        if (!((_a = this._color) === null || _a === void 0 ? void 0 : _a.equal(value))) {\r\n            this.flagDirty();\r\n        }\r\n        this._color = watch(value, () => this.flagDirty());\r\n    }\r\n    /**\r\n     * Gets or sets the strokeStyle of the Raster graphic. Setting the strokeStyle will cause the raster to be\r\n     * flagged dirty causing a re-raster on the next draw.\r\n     */\r\n    get strokeColor() {\r\n        return this._strokeColor;\r\n    }\r\n    set strokeColor(value) {\r\n        var _a;\r\n        if (!((_a = this._strokeColor) === null || _a === void 0 ? void 0 : _a.equal(value))) {\r\n            this.flagDirty();\r\n        }\r\n        this._strokeColor = watch(value, () => this.flagDirty());\r\n    }\r\n    /**\r\n     * Gets or sets the line width of the Raster graphic. Setting the lineWidth will cause the raster to be\r\n     * flagged dirty causing a re-raster on the next draw.\r\n     */\r\n    get lineWidth() {\r\n        return this._lineWidth;\r\n    }\r\n    set lineWidth(value) {\r\n        this._lineWidth = value;\r\n        this.flagDirty();\r\n    }\r\n    get lineDash() {\r\n        return this._lineDash;\r\n    }\r\n    set lineDash(value) {\r\n        this._lineDash = value;\r\n        this.flagDirty();\r\n    }\r\n    get padding() {\r\n        return this._padding;\r\n    }\r\n    set padding(value) {\r\n        this._padding = value;\r\n        this.flagDirty();\r\n    }\r\n    /**\r\n     * Rasterize the graphic to a bitmap making it usuable as in excalibur. Rasterize is called automatically if\r\n     * the graphic is [[Raster.dirty]] on the next [[Graphic.draw]] call\r\n     */\r\n    rasterize() {\r\n        this._dirty = false;\r\n        this._ctx.clearRect(0, 0, this._getTotalWidth(), this._getTotalHeight());\r\n        this._ctx.save();\r\n        this._applyRasterProperites(this._ctx);\r\n        this.execute(this._ctx);\r\n        this._ctx.restore();\r\n        // The webgl texture needs to be updated if it exists after a raster cycle\r\n        TextureLoader.load(this._bitmap, true);\r\n    }\r\n    _applyRasterProperites(ctx) {\r\n        var _a, _b, _c;\r\n        this._bitmap.width = this._getTotalWidth();\r\n        this._bitmap.height = this._getTotalHeight();\r\n        ctx.translate(this.padding, this.padding);\r\n        ctx.imageSmoothingEnabled = this.smoothing;\r\n        ctx.lineWidth = this.lineWidth;\r\n        ctx.setLineDash((_a = this.lineDash) !== null && _a !== void 0 ? _a : ctx.getLineDash());\r\n        ctx.strokeStyle = (_b = this.strokeColor) === null || _b === void 0 ? void 0 : _b.toString();\r\n        ctx.fillStyle = (_c = this.color) === null || _c === void 0 ? void 0 : _c.toString();\r\n    }\r\n    _drawImage(ex, x, y) {\r\n        if (this._dirty) {\r\n            this.rasterize();\r\n        }\r\n        ex.drawImage(this._bitmap, x, y);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Canvas.ts\n\r\n/**\r\n * A canvas [[Graphic]] to provide an adapter between the 2D Canvas API and the [[ExcaliburGraphicsContext]].\r\n *\r\n * The [[Canvas]] works by re-rastering a draw handler to a HTMLCanvasElement for every draw which is then passed\r\n * to the [[ExcaliburGraphicsContext]] implementation as a rendered image.\r\n *\r\n * **Low performance API**\r\n */\r\nclass Canvas extends Raster {\r\n    constructor(_options) {\r\n        super(_options);\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * Return the 2D graphics context of this canvas\r\n     */\r\n    get ctx() {\r\n        return this._ctx;\r\n    }\r\n    clone() {\r\n        return new Canvas(Object.assign(Object.assign(Object.assign({}, this._options), this.cloneGraphicOptions()), this.cloneRasterOptions()));\r\n    }\r\n    execute(ctx) {\r\n        var _a, _b;\r\n        if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.draw) {\r\n            (_b = this._options) === null || _b === void 0 ? void 0 : _b.draw(ctx);\r\n        }\r\n        if (!this._options.cache) {\r\n            this.flagDirty();\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Events.ts\nvar EventTypes;\r\n(function (EventTypes) {\r\n    EventTypes[\"Kill\"] = \"kill\";\r\n    EventTypes[\"PreKill\"] = \"prekill\";\r\n    EventTypes[\"PostKill\"] = \"postkill\";\r\n    EventTypes[\"PreDraw\"] = \"predraw\";\r\n    EventTypes[\"PostDraw\"] = \"postdraw\";\r\n    EventTypes[\"PreDebugDraw\"] = \"predebugdraw\";\r\n    EventTypes[\"PostDebugDraw\"] = \"postdebugdraw\";\r\n    EventTypes[\"PreUpdate\"] = \"preupdate\";\r\n    EventTypes[\"PostUpdate\"] = \"postupdate\";\r\n    EventTypes[\"PreFrame\"] = \"preframe\";\r\n    EventTypes[\"PostFrame\"] = \"postframe\";\r\n    EventTypes[\"PreCollision\"] = \"precollision\";\r\n    EventTypes[\"CollisionStart\"] = \"collisionstart\";\r\n    EventTypes[\"CollisionEnd\"] = \"collisionend\";\r\n    EventTypes[\"PostCollision\"] = \"postcollision\";\r\n    EventTypes[\"Initialize\"] = \"initialize\";\r\n    EventTypes[\"Activate\"] = \"activate\";\r\n    EventTypes[\"Deactivate\"] = \"deactivate\";\r\n    EventTypes[\"ExitViewport\"] = \"exitviewport\";\r\n    EventTypes[\"EnterViewport\"] = \"enterviewport\";\r\n    EventTypes[\"ExitTrigger\"] = \"exit\";\r\n    EventTypes[\"EnterTrigger\"] = \"enter\";\r\n    EventTypes[\"Connect\"] = \"connect\";\r\n    EventTypes[\"Disconnect\"] = \"disconnect\";\r\n    EventTypes[\"Button\"] = \"button\";\r\n    EventTypes[\"Axis\"] = \"axis\";\r\n    EventTypes[\"Subscribe\"] = \"subscribe\";\r\n    EventTypes[\"Unsubscribe\"] = \"unsubscribe\";\r\n    EventTypes[\"Visible\"] = \"visible\";\r\n    EventTypes[\"Hidden\"] = \"hidden\";\r\n    EventTypes[\"Start\"] = \"start\";\r\n    EventTypes[\"Stop\"] = \"stop\";\r\n    EventTypes[\"PointerUp\"] = \"pointerup\";\r\n    EventTypes[\"PointerDown\"] = \"pointerdown\";\r\n    EventTypes[\"PointerMove\"] = \"pointermove\";\r\n    EventTypes[\"PointerEnter\"] = \"pointerenter\";\r\n    EventTypes[\"PointerLeave\"] = \"pointerleave\";\r\n    EventTypes[\"PointerCancel\"] = \"pointercancel\";\r\n    EventTypes[\"PointerWheel\"] = \"pointerwheel\";\r\n    EventTypes[\"Up\"] = \"up\";\r\n    EventTypes[\"Down\"] = \"down\";\r\n    EventTypes[\"Move\"] = \"move\";\r\n    EventTypes[\"Enter\"] = \"enter\";\r\n    EventTypes[\"Leave\"] = \"leave\";\r\n    EventTypes[\"Cancel\"] = \"cancel\";\r\n    EventTypes[\"Wheel\"] = \"wheel\";\r\n    EventTypes[\"Press\"] = \"press\";\r\n    EventTypes[\"Release\"] = \"release\";\r\n    EventTypes[\"Hold\"] = \"hold\";\r\n    EventTypes[\"PointerDragStart\"] = \"pointerdragstart\";\r\n    EventTypes[\"PointerDragEnd\"] = \"pointerdragend\";\r\n    EventTypes[\"PointerDragEnter\"] = \"pointerdragenter\";\r\n    EventTypes[\"PointerDragLeave\"] = \"pointerdragleave\";\r\n    EventTypes[\"PointerDragMove\"] = \"pointerdragmove\";\r\n})(EventTypes || (EventTypes = {}));\r\n/**\r\n * Base event type in Excalibur that all other event types derive from. Not all event types are thrown on all Excalibur game objects,\r\n * some events are unique to a type, others are not.\r\n *\r\n */\r\nclass GameEvent {\r\n    constructor() {\r\n        this._bubbles = true;\r\n    }\r\n    /**\r\n     * If set to false, prevents event from propagating to other actors. If true it will be propagated\r\n     * to all actors that apply.\r\n     */\r\n    get bubbles() {\r\n        return this._bubbles;\r\n    }\r\n    set bubbles(value) {\r\n        this._bubbles = value;\r\n    }\r\n    /**\r\n     * Prevents event from bubbling\r\n     */\r\n    stopPropagation() {\r\n        this.bubbles = false;\r\n    }\r\n}\r\n/**\r\n * The 'kill' event is emitted on actors when it is killed. The target is the actor that was killed.\r\n */\r\nclass KillEvent extends GameEvent {\r\n    constructor(target) {\r\n        super();\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * The 'prekill' event is emitted directly before an actor is killed.\r\n */\r\nclass PreKillEvent extends GameEvent {\r\n    constructor(target) {\r\n        super();\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * The 'postkill' event is emitted directly after the actor is killed.\r\n */\r\nclass PostKillEvent extends GameEvent {\r\n    constructor(target) {\r\n        super();\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * The 'start' event is emitted on engine when has started and is ready for interaction.\r\n */\r\nclass GameStartEvent extends GameEvent {\r\n    constructor(target) {\r\n        super();\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * The 'stop' event is emitted on engine when has been stopped and will no longer take input, update or draw.\r\n */\r\nclass GameStopEvent extends GameEvent {\r\n    constructor(target) {\r\n        super();\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * The 'predraw' event is emitted on actors, scenes, and engine before drawing starts. Actors' predraw happens inside their graphics\r\n * transform so that all drawing takes place with the actor as the origin.\r\n *\r\n */\r\nclass PreDrawEvent extends GameEvent {\r\n    constructor(ctx, delta, target) {\r\n        super();\r\n        this.ctx = ctx;\r\n        this.delta = delta;\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * The 'postdraw' event is emitted on actors, scenes, and engine after drawing finishes. Actors' postdraw happens inside their graphics\r\n * transform so that all drawing takes place with the actor as the origin.\r\n *\r\n */\r\nclass PostDrawEvent extends GameEvent {\r\n    constructor(ctx, delta, target) {\r\n        super();\r\n        this.ctx = ctx;\r\n        this.delta = delta;\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * The 'predebugdraw' event is emitted on actors, scenes, and engine before debug drawing starts.\r\n */\r\nclass PreDebugDrawEvent extends GameEvent {\r\n    constructor(ctx, target) {\r\n        super();\r\n        this.ctx = ctx;\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * The 'postdebugdraw' event is emitted on actors, scenes, and engine after debug drawing starts.\r\n */\r\nclass PostDebugDrawEvent extends GameEvent {\r\n    constructor(ctx, target) {\r\n        super();\r\n        this.ctx = ctx;\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * The 'preupdate' event is emitted on actors, scenes, camera, and engine before the update starts.\r\n */\r\nclass PreUpdateEvent extends GameEvent {\r\n    constructor(engine, delta, target) {\r\n        super();\r\n        this.engine = engine;\r\n        this.delta = delta;\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * The 'postupdate' event is emitted on actors, scenes, camera, and engine after the update ends.\r\n */\r\nclass PostUpdateEvent extends GameEvent {\r\n    constructor(engine, delta, target) {\r\n        super();\r\n        this.engine = engine;\r\n        this.delta = delta;\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * The 'preframe' event is emitted on the engine, before the frame begins.\r\n */\r\nclass PreFrameEvent extends GameEvent {\r\n    constructor(engine, prevStats) {\r\n        super();\r\n        this.engine = engine;\r\n        this.prevStats = prevStats;\r\n        this.target = engine;\r\n    }\r\n}\r\n/**\r\n * The 'postframe' event is emitted on the engine, after a frame ends.\r\n */\r\nclass PostFrameEvent extends GameEvent {\r\n    constructor(engine, stats) {\r\n        super();\r\n        this.engine = engine;\r\n        this.stats = stats;\r\n        this.target = engine;\r\n    }\r\n}\r\n/**\r\n * Event received when a gamepad is connected to Excalibur. [[Gamepads]] receives this event.\r\n */\r\nclass GamepadConnectEvent extends GameEvent {\r\n    constructor(index, gamepad) {\r\n        super();\r\n        this.index = index;\r\n        this.gamepad = gamepad;\r\n        this.target = gamepad;\r\n    }\r\n}\r\n/**\r\n * Event received when a gamepad is disconnected from Excalibur. [[Gamepads]] receives this event.\r\n */\r\nclass GamepadDisconnectEvent extends GameEvent {\r\n    constructor(index, gamepad) {\r\n        super();\r\n        this.index = index;\r\n        this.gamepad = gamepad;\r\n        this.target = gamepad;\r\n    }\r\n}\r\n/**\r\n * Gamepad button event. See [[Gamepads]] for information on responding to controller input. [[Gamepad]] instances receive this event;\r\n */\r\nclass GamepadButtonEvent extends GameEvent {\r\n    /**\r\n     * @param button  The Gamepad button\r\n     * @param value   A numeric value between 0 and 1\r\n     */\r\n    constructor(button, value, target) {\r\n        super();\r\n        this.button = button;\r\n        this.value = value;\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * Gamepad axis event. See [[Gamepads]] for information on responding to controller input. [[Gamepad]] instances receive this event;\r\n */\r\nclass GamepadAxisEvent extends GameEvent {\r\n    /**\r\n     * @param axis  The Gamepad axis\r\n     * @param value A numeric value between -1 and 1\r\n     */\r\n    constructor(axis, value, target) {\r\n        super();\r\n        this.axis = axis;\r\n        this.value = value;\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * Subscribe event thrown when handlers for events other than subscribe are added. Meta event that is received by\r\n * [[EventDispatcher|event dispatchers]].\r\n */\r\nclass SubscribeEvent extends GameEvent {\r\n    constructor(topic, handler) {\r\n        super();\r\n        this.topic = topic;\r\n        this.handler = handler;\r\n    }\r\n}\r\n/**\r\n * Unsubscribe event thrown when handlers for events other than unsubscribe are removed. Meta event that is received by\r\n * [[EventDispatcher|event dispatchers]].\r\n */\r\nclass UnsubscribeEvent extends GameEvent {\r\n    constructor(topic, handler) {\r\n        super();\r\n        this.topic = topic;\r\n        this.handler = handler;\r\n    }\r\n}\r\n/**\r\n * Event received by the [[Engine]] when the browser window is visible on a screen.\r\n */\r\nclass VisibleEvent extends GameEvent {\r\n    constructor(target) {\r\n        super();\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * Event received by the [[Engine]] when the browser window is hidden from all screens.\r\n */\r\nclass HiddenEvent extends GameEvent {\r\n    constructor(target) {\r\n        super();\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * Event thrown on an [[Actor|actor]] when a collision will occur this frame if it resolves\r\n */\r\nclass PreCollisionEvent extends GameEvent {\r\n    /**\r\n     * @param actor         The actor the event was thrown on\r\n     * @param other         The actor that will collided with the current actor\r\n     * @param side          The side that will be collided with the current actor\r\n     * @param intersection  Intersection vector\r\n     */\r\n    constructor(actor, other, side, intersection) {\r\n        super();\r\n        this.other = other;\r\n        this.side = side;\r\n        this.intersection = intersection;\r\n        this.target = actor;\r\n    }\r\n}\r\n/**\r\n * Event thrown on an [[Actor|actor]] when a collision has been resolved (body reacted) this frame\r\n */\r\nclass PostCollisionEvent extends GameEvent {\r\n    /**\r\n     * @param actor         The actor the event was thrown on\r\n     * @param other         The actor that did collide with the current actor\r\n     * @param side          The side that did collide with the current actor\r\n     * @param intersection  Intersection vector\r\n     */\r\n    constructor(actor, other, side, intersection) {\r\n        super();\r\n        this.other = other;\r\n        this.side = side;\r\n        this.intersection = intersection;\r\n        this.target = actor;\r\n    }\r\n    get actor() {\r\n        return this.target;\r\n    }\r\n    set actor(actor) {\r\n        this.target = actor;\r\n    }\r\n}\r\nclass ContactStartEvent {\r\n    constructor(target, other, contact) {\r\n        this.target = target;\r\n        this.other = other;\r\n        this.contact = contact;\r\n    }\r\n}\r\nclass ContactEndEvent {\r\n    constructor(target, other) {\r\n        this.target = target;\r\n        this.other = other;\r\n    }\r\n}\r\nclass CollisionPreSolveEvent {\r\n    constructor(target, other, side, intersection, contact) {\r\n        this.target = target;\r\n        this.other = other;\r\n        this.side = side;\r\n        this.intersection = intersection;\r\n        this.contact = contact;\r\n    }\r\n}\r\nclass CollisionPostSolveEvent {\r\n    constructor(target, other, side, intersection, contact) {\r\n        this.target = target;\r\n        this.other = other;\r\n        this.side = side;\r\n        this.intersection = intersection;\r\n        this.contact = contact;\r\n    }\r\n}\r\n/**\r\n * Event thrown the first time an [[Actor|actor]] collides with another, after an actor is in contact normal collision events are fired.\r\n */\r\nclass CollisionStartEvent extends GameEvent {\r\n    /**\r\n     *\r\n     * @param actor\r\n     * @param other\r\n     * @param contact\r\n     */\r\n    constructor(actor, other, contact) {\r\n        super();\r\n        this.other = other;\r\n        this.contact = contact;\r\n        this.target = actor;\r\n    }\r\n    get actor() {\r\n        return this.target;\r\n    }\r\n    set actor(actor) {\r\n        this.target = actor;\r\n    }\r\n}\r\n/**\r\n * Event thrown when the [[Actor|actor]] is no longer colliding with another\r\n */\r\nclass CollisionEndEvent extends GameEvent {\r\n    /**\r\n     *\r\n     */\r\n    constructor(actor, other) {\r\n        super();\r\n        this.other = other;\r\n        this.target = actor;\r\n    }\r\n    get actor() {\r\n        return this.target;\r\n    }\r\n    set actor(actor) {\r\n        this.target = actor;\r\n    }\r\n}\r\n/**\r\n * Event thrown on an [[Actor]] and a [[Scene]] only once before the first update call\r\n */\r\nclass InitializeEvent extends GameEvent {\r\n    /**\r\n     * @param engine  The reference to the current engine\r\n     */\r\n    constructor(engine, target) {\r\n        super();\r\n        this.engine = engine;\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * Event thrown on a [[Scene]] on activation\r\n */\r\nclass ActivateEvent extends GameEvent {\r\n    /**\r\n     * @param oldScene  The reference to the old scene\r\n     */\r\n    constructor(oldScene, target) {\r\n        super();\r\n        this.oldScene = oldScene;\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * Event thrown on a [[Scene]] on deactivation\r\n */\r\nclass DeactivateEvent extends GameEvent {\r\n    /**\r\n     * @param newScene  The reference to the new scene\r\n     */\r\n    constructor(newScene, target) {\r\n        super();\r\n        this.newScene = newScene;\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * Event thrown on an [[Actor]] when it completely leaves the screen.\r\n */\r\nclass ExitViewPortEvent extends GameEvent {\r\n    constructor(target) {\r\n        super();\r\n        this.target = target;\r\n    }\r\n}\r\n/**\r\n * Event thrown on an [[Actor]] when it completely leaves the screen.\r\n */\r\nclass EnterViewPortEvent extends GameEvent {\r\n    constructor(target) {\r\n        super();\r\n        this.target = target;\r\n    }\r\n}\r\nclass EnterTriggerEvent extends GameEvent {\r\n    constructor(target, actor) {\r\n        super();\r\n        this.target = target;\r\n        this.actor = actor;\r\n    }\r\n}\r\nclass ExitTriggerEvent extends GameEvent {\r\n    constructor(target, actor) {\r\n        super();\r\n        this.target = target;\r\n        this.actor = actor;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./EventDispatcher.ts\n\r\nclass EventDispatcher {\r\n    /**\r\n     * @param target  The object that will be the recipient of events from this event dispatcher\r\n     */\r\n    constructor(target) {\r\n        this._handlers = {};\r\n        this._wiredEventDispatchers = [];\r\n        this._target = target;\r\n    }\r\n    /**\r\n     * Clears any existing handlers or wired event dispatchers on this event dispatcher\r\n     */\r\n    clear() {\r\n        this._handlers = {};\r\n        this._wiredEventDispatchers = [];\r\n    }\r\n    /**\r\n     * Emits an event for target\r\n     * @param eventName  The name of the event to publish\r\n     * @param event      Optionally pass an event data object to the handler\r\n     */\r\n    emit(eventName, event) {\r\n        if (!eventName) {\r\n            // key not mapped\r\n            return;\r\n        }\r\n        eventName = eventName.toLowerCase();\r\n        const target = this._target;\r\n        if (!event) {\r\n            event = new GameEvent();\r\n        }\r\n        try {\r\n            if (!event.target) {\r\n                event.target = target;\r\n            }\r\n        }\r\n        catch (_a) {\r\n            // pass\r\n        }\r\n        let i, len;\r\n        if (this._handlers[eventName]) {\r\n            i = 0;\r\n            len = this._handlers[eventName].length;\r\n            for (i; i < len; i++) {\r\n                this._handlers[eventName][i].call(target, event);\r\n            }\r\n        }\r\n        i = 0;\r\n        len = this._wiredEventDispatchers.length;\r\n        for (i; i < len; i++) {\r\n            this._wiredEventDispatchers[i].emit(eventName, event);\r\n        }\r\n    }\r\n    /**\r\n     * Subscribe an event handler to a particular event name, multiple handlers per event name are allowed.\r\n     * @param eventName  The name of the event to subscribe to\r\n     * @param handler    The handler callback to fire on this event\r\n     */\r\n    on(eventName, handler) {\r\n        eventName = eventName.toLowerCase();\r\n        if (!this._handlers[eventName]) {\r\n            this._handlers[eventName] = [];\r\n        }\r\n        this._handlers[eventName].push(handler);\r\n        // meta event handlers\r\n        if (eventName !== 'unsubscribe' && eventName !== 'subscribe') {\r\n            this.emit('subscribe', new SubscribeEvent(eventName, handler));\r\n        }\r\n    }\r\n    /**\r\n     * Unsubscribe an event handler(s) from an event. If a specific handler\r\n     * is specified for an event, only that handler will be unsubscribed.\r\n     * Otherwise all handlers will be unsubscribed for that event.\r\n     *\r\n     * @param eventName  The name of the event to unsubscribe\r\n     * @param handler    Optionally the specific handler to unsubscribe\r\n     */\r\n    off(eventName, handler) {\r\n        eventName = eventName.toLowerCase();\r\n        const eventHandlers = this._handlers[eventName];\r\n        if (eventHandlers) {\r\n            // if no explicit handler is give with the event name clear all handlers\r\n            if (!handler) {\r\n                this._handlers[eventName].length = 0;\r\n            }\r\n            else {\r\n                const index = eventHandlers.indexOf(handler);\r\n                this._handlers[eventName].splice(index, 1);\r\n            }\r\n        }\r\n        // meta event handlers\r\n        if (eventName !== 'unsubscribe' && eventName !== 'subscribe') {\r\n            this.emit('unsubscribe', new UnsubscribeEvent(eventName, handler));\r\n        }\r\n    }\r\n    /**\r\n     * Once listens to an event one time, then unsubscribes from that event\r\n     *\r\n     * @param eventName The name of the event to subscribe to once\r\n     * @param handler   The handler of the event that will be auto unsubscribed\r\n     */\r\n    once(eventName, handler) {\r\n        const metaHandler = (event) => {\r\n            const ev = event || new GameEvent();\r\n            try {\r\n                ev.target = ev.target || this._target;\r\n            }\r\n            catch (_a) {\r\n                // pass\r\n            }\r\n            this.off(eventName, handler);\r\n            handler.call(ev.target, ev);\r\n        };\r\n        this.on(eventName, metaHandler);\r\n    }\r\n    /**\r\n     * Wires this event dispatcher to also receive events from another\r\n     */\r\n    wire(eventDispatcher) {\r\n        eventDispatcher._wiredEventDispatchers.push(this);\r\n    }\r\n    /**\r\n     * Unwires this event dispatcher from another\r\n     */\r\n    unwire(eventDispatcher) {\r\n        const index = eventDispatcher._wiredEventDispatchers.indexOf(this);\r\n        if (index > -1) {\r\n            eventDispatcher._wiredEventDispatchers.splice(index, 1);\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Resources/Resource.ts\n\r\n\r\n/**\r\n * The [[Resource]] type allows games built in Excalibur to load generic resources.\r\n * For any type of remote resource it is recommended to use [[Resource]] for preloading.\r\n */\r\nclass Resource {\r\n    /**\r\n     * @param path          Path to the remote resource\r\n     * @param responseType  The type to expect as a response: \"\" | \"arraybuffer\" | \"blob\" | \"document\" | \"json\" | \"text\";\r\n     * @param bustCache     Whether or not to cache-bust requests\r\n     */\r\n    constructor(path, responseType, bustCache = true) {\r\n        this.path = path;\r\n        this.responseType = responseType;\r\n        this.bustCache = bustCache;\r\n        this.data = null;\r\n        this.logger = Logger.getInstance();\r\n        this.events = new EventDispatcher(this);\r\n    }\r\n    /**\r\n     * Returns true if the Resource is completely loaded and is ready\r\n     * to be drawn.\r\n     */\r\n    isLoaded() {\r\n        return this.data !== null;\r\n    }\r\n    _cacheBust(uri) {\r\n        const query = /\\?\\w*=\\w*/;\r\n        if (query.test(uri)) {\r\n            uri += '&__=' + Date.now();\r\n        }\r\n        else {\r\n            uri += '?__=' + Date.now();\r\n        }\r\n        return uri;\r\n    }\r\n    /**\r\n     * Begin loading the resource and returns a promise to be resolved on completion\r\n     */\r\n    load() {\r\n        return new Promise((resolve, reject) => {\r\n            // Exit early if we already have data\r\n            if (this.data !== null) {\r\n                this.logger.debug('Already have data for resource', this.path);\r\n                this.events.emit('complete', this.data);\r\n                resolve(this.data);\r\n                return;\r\n            }\r\n            const request = new XMLHttpRequest();\r\n            request.open('GET', this.bustCache ? this._cacheBust(this.path) : this.path, true);\r\n            request.responseType = this.responseType;\r\n            request.addEventListener('loadstart', (e) => this.events.emit('loadstart', e));\r\n            request.addEventListener('progress', (e) => this.events.emit('progress', e));\r\n            request.addEventListener('error', (e) => this.events.emit('error', e));\r\n            request.addEventListener('load', (e) => this.events.emit('load', e));\r\n            request.addEventListener('load', () => {\r\n                // XHR on file:// success status is 0, such as with PhantomJS\r\n                if (request.status !== 0 && request.status !== 200) {\r\n                    this.logger.error('Failed to load resource ', this.path, ' server responded with error code', request.status);\r\n                    this.events.emit('error', request.response);\r\n                    reject(new Error(request.statusText));\r\n                    return;\r\n                }\r\n                this.data = request.response;\r\n                this.events.emit('complete', this.data);\r\n                this.logger.debug('Completed loading resource', this.path);\r\n                resolve(this.data);\r\n            });\r\n            request.send();\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Drawing/SpriteEffects.ts\n/**\r\n * @module\r\n * @deprecated\r\n * These effects can be applied to any bitmap image but are mainly used\r\n * for [[Sprite]] effects or [[Animation]] effects.\r\n */\r\nvar SpriteEffects_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n/**\r\n * @typedoc\r\n */\r\n\r\n\r\n/**\r\n * Applies the \"Grayscale\" effect to a sprite, removing color information.\r\n * @deprecated [[Grayscale]] will be removed in v0.26.0\r\n */\r\nlet Grayscale = class Grayscale {\r\n    updatePixel(x, y, imageData) {\r\n        const firstPixel = (x + y * imageData.width) * 4;\r\n        const pixel = imageData.data;\r\n        const avg = (pixel[firstPixel + 0] + pixel[firstPixel + 1] + pixel[firstPixel + 2]) / 3;\r\n        pixel[firstPixel + 0] = avg;\r\n        pixel[firstPixel + 1] = avg;\r\n        pixel[firstPixel + 2] = avg;\r\n    }\r\n};\r\nGrayscale = SpriteEffects_decorate([\r\n    obsolete({\r\n        message: 'Grayscale will be removed in v0.26.0'\r\n    })\r\n], Grayscale);\r\n\r\n/**\r\n * Applies the \"Invert\" effect to a sprite, inverting the pixel colors.\r\n * @deprecated [[Invert]] will be removed in v0.26.0\r\n */\r\nlet Invert = class Invert {\r\n    updatePixel(x, y, imageData) {\r\n        const firstPixel = (x + y * imageData.width) * 4;\r\n        const pixel = imageData.data;\r\n        pixel[firstPixel + 0] = 255 - pixel[firstPixel + 0];\r\n        pixel[firstPixel + 1] = 255 - pixel[firstPixel + 1];\r\n        pixel[firstPixel + 2] = 255 - pixel[firstPixel + 2];\r\n    }\r\n};\r\nInvert = SpriteEffects_decorate([\r\n    obsolete({\r\n        message: 'Invert will be removed in v0.26.0'\r\n    })\r\n], Invert);\r\n\r\n/**\r\n * Applies the \"Opacity\" effect to a sprite, setting the alpha of all pixels to a given value.\r\n * @deprecated [[Opacity]] will be removed in v0.26.0\r\n */\r\nlet Opacity = class Opacity {\r\n    /**\r\n     * @param opacity  The new opacity of the sprite from 0-1.0\r\n     */\r\n    constructor(opacity) {\r\n        this.opacity = opacity;\r\n    }\r\n    updatePixel(x, y, imageData) {\r\n        const firstPixel = (x + y * imageData.width) * 4;\r\n        const pixel = imageData.data;\r\n        if (pixel[firstPixel + 3] !== 0) {\r\n            pixel[firstPixel + 3] = Math.round(this.opacity * pixel[firstPixel + 3]);\r\n        }\r\n    }\r\n};\r\nOpacity = SpriteEffects_decorate([\r\n    obsolete({\r\n        message: 'Opacity will be removed in v0.26.0'\r\n    })\r\n], Opacity);\r\n\r\n/**\r\n * Applies the \"Colorize\" effect to a sprite, changing the color channels of all the pixels to an\r\n * average of the original color and the provided color\r\n * @deprecated [[Colorize]] will be removed in v0.26.0\r\n */\r\nlet Colorize = class Colorize {\r\n    /**\r\n     * @param color  The color to apply to the sprite\r\n     */\r\n    constructor(color) {\r\n        this.color = color;\r\n    }\r\n    updatePixel(x, y, imageData) {\r\n        const firstPixel = (x + y * imageData.width) * 4;\r\n        const pixel = imageData.data;\r\n        if (pixel[firstPixel + 3] !== 0) {\r\n            pixel[firstPixel + 0] = (pixel[firstPixel + 0] + this.color.r) / 2;\r\n            pixel[firstPixel + 1] = (pixel[firstPixel + 1] + this.color.g) / 2;\r\n            pixel[firstPixel + 2] = (pixel[firstPixel + 2] + this.color.b) / 2;\r\n        }\r\n    }\r\n};\r\nColorize = SpriteEffects_decorate([\r\n    obsolete({\r\n        message: 'Colorize will be removed in v0.26.0'\r\n    })\r\n], Colorize);\r\n\r\n/**\r\n * Applies the \"Lighten\" effect to a sprite, changes the lightness of the color according to HSL\r\n * @deprecated [[Lighten]] will be removed in v0.26.0\r\n */\r\nlet Lighten = class Lighten {\r\n    /**\r\n     * @param factor  The factor of the effect between 0-1\r\n     */\r\n    constructor(factor = 0.1) {\r\n        this.factor = factor;\r\n    }\r\n    updatePixel(x, y, imageData) {\r\n        const firstPixel = (x + y * imageData.width) * 4;\r\n        const pixel = imageData.data;\r\n        const color = Color.fromRGB(pixel[firstPixel + 0], pixel[firstPixel + 1], pixel[firstPixel + 2], pixel[firstPixel + 3]).lighten(this.factor);\r\n        pixel[firstPixel + 0] = color.r;\r\n        pixel[firstPixel + 1] = color.g;\r\n        pixel[firstPixel + 2] = color.b;\r\n        pixel[firstPixel + 3] = color.a;\r\n    }\r\n};\r\nLighten = SpriteEffects_decorate([\r\n    obsolete({\r\n        message: 'Lighten will be removed in v0.26.0'\r\n    })\r\n], Lighten);\r\n\r\n/**\r\n * Applies the \"Darken\" effect to a sprite, changes the darkness of the color according to HSL\r\n * @deprecated [[Darken]] will be removed in v0.26.0\r\n */\r\nlet Darken = class Darken {\r\n    /**\r\n     * @param factor  The factor of the effect between 0-1\r\n     */\r\n    constructor(factor = 0.1) {\r\n        this.factor = factor;\r\n    }\r\n    updatePixel(x, y, imageData) {\r\n        const firstPixel = (x + y * imageData.width) * 4;\r\n        const pixel = imageData.data;\r\n        const color = Color.fromRGB(pixel[firstPixel + 0], pixel[firstPixel + 1], pixel[firstPixel + 2], pixel[firstPixel + 3]).darken(this.factor);\r\n        pixel[firstPixel + 0] = color.r;\r\n        pixel[firstPixel + 1] = color.g;\r\n        pixel[firstPixel + 2] = color.b;\r\n        pixel[firstPixel + 3] = color.a;\r\n    }\r\n};\r\nDarken = SpriteEffects_decorate([\r\n    obsolete({\r\n        message: 'Darken will be removed v0.26.0'\r\n    })\r\n], Darken);\r\n\r\n/**\r\n * Applies the \"Saturate\" effect to a sprite, saturates the color according to HSL\r\n * @deprecated [[Saturate]] will be removed in v0.26.0\r\n */\r\nlet Saturate = class Saturate {\r\n    /**\r\n     * @param factor  The factor of the effect between 0-1\r\n     */\r\n    constructor(factor = 0.1) {\r\n        this.factor = factor;\r\n    }\r\n    updatePixel(x, y, imageData) {\r\n        const firstPixel = (x + y * imageData.width) * 4;\r\n        const pixel = imageData.data;\r\n        const color = Color.fromRGB(pixel[firstPixel + 0], pixel[firstPixel + 1], pixel[firstPixel + 2], pixel[firstPixel + 3]).saturate(this.factor);\r\n        pixel[firstPixel + 0] = color.r;\r\n        pixel[firstPixel + 1] = color.g;\r\n        pixel[firstPixel + 2] = color.b;\r\n        pixel[firstPixel + 3] = color.a;\r\n    }\r\n};\r\nSaturate = SpriteEffects_decorate([\r\n    obsolete({\r\n        message: 'Saturate will be removed in v0.26.0'\r\n    })\r\n], Saturate);\r\n\r\n/**\r\n * Applies the \"Desaturate\" effect to a sprite, desaturates the color according to HSL\r\n * @deprecated [[Desaturate]] will be removed in v0.26.0\r\n */\r\nlet Desaturate = class Desaturate {\r\n    /**\r\n     * @param factor  The factor of the effect between 0-1\r\n     */\r\n    constructor(factor = 0.1) {\r\n        this.factor = factor;\r\n    }\r\n    updatePixel(x, y, imageData) {\r\n        const firstPixel = (x + y * imageData.width) * 4;\r\n        const pixel = imageData.data;\r\n        const color = Color.fromRGB(pixel[firstPixel + 0], pixel[firstPixel + 1], pixel[firstPixel + 2], pixel[firstPixel + 3]).desaturate(this.factor);\r\n        pixel[firstPixel + 0] = color.r;\r\n        pixel[firstPixel + 1] = color.g;\r\n        pixel[firstPixel + 2] = color.b;\r\n        pixel[firstPixel + 3] = color.a;\r\n    }\r\n};\r\nDesaturate = SpriteEffects_decorate([\r\n    obsolete({\r\n        message: 'Desaturate will be removed in v0.26.0'\r\n    })\r\n], Desaturate);\r\n\r\n/**\r\n * Applies the \"Fill\" effect to a sprite, changing the color channels of all non-transparent pixels to match\r\n * a given color\r\n * @deprecated [[Fill]] will be removed in v0.26.0\r\n */\r\nlet Fill = class Fill {\r\n    /**\r\n     * @param color  The color to apply to the sprite\r\n     */\r\n    constructor(color) {\r\n        this.color = color;\r\n    }\r\n    updatePixel(x, y, imageData) {\r\n        const firstPixel = (x + y * imageData.width) * 4;\r\n        const pixel = imageData.data;\r\n        if (pixel[firstPixel + 3] !== 0) {\r\n            pixel[firstPixel + 0] = this.color.r;\r\n            pixel[firstPixel + 1] = this.color.g;\r\n            pixel[firstPixel + 2] = this.color.b;\r\n        }\r\n    }\r\n};\r\nFill = SpriteEffects_decorate([\r\n    obsolete({\r\n        message: 'Fill will be removed in v0.26.0'\r\n    })\r\n], Fill);\r\n\r\n\n;// CONCATENATED MODULE: ./Drawing/Texture.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n/**\r\n * The [[Texture]] object allows games built in Excalibur to load image resources.\r\n * [[Texture]] is an [[Loadable]] which means it can be passed to a [[Loader]]\r\n * to pre-load before starting a level or game.\r\n * @deprecated\r\n */\r\nclass Texture {\r\n    /**\r\n     * @param path       Path to the image resource or a base64 string representing an image \"data:image/png;base64,iVB...\"\r\n     * @param bustCache  Optionally load texture with cache busting\r\n     */\r\n    constructor(path, bustCache = true) {\r\n        this.path = path;\r\n        this.bustCache = bustCache;\r\n        this._sprite = null;\r\n        this.loaded = new Promise(resolve => {\r\n            this._loadedResolve = resolve;\r\n        });\r\n        this._resource = new Resource(path, 'blob', bustCache);\r\n        this._sprite = new Sprite_Sprite(this, 0, 0, 0, 0);\r\n    }\r\n    get image() {\r\n        return this.data;\r\n    }\r\n    /**\r\n     * Returns true if the Texture is completely loaded and is ready\r\n     * to be drawn.\r\n     */\r\n    isLoaded() {\r\n        return !!this.data;\r\n    }\r\n    /**\r\n     * Begins loading the texture and returns a promise to be resolved on completion\r\n     */\r\n    load() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                // Load base64 or blob if needed\r\n                let url;\r\n                if (!this.path.includes('data:image/')) {\r\n                    const blob = yield this._resource.load();\r\n                    url = URL.createObjectURL(blob);\r\n                }\r\n                else {\r\n                    url = this.path;\r\n                }\r\n                // Decode the image\r\n                const image = new Image();\r\n                image.src = url;\r\n                yield image.decode();\r\n                // Set results\r\n                this.data = image;\r\n                this.width = this._sprite.width = image.naturalWidth;\r\n                this.height = this._sprite.height = image.naturalHeight;\r\n                this._sprite = new Sprite_Sprite(this, 0, 0, this.width, this.height);\r\n            }\r\n            catch (_a) {\r\n                yield Promise.reject('Error loading texture');\r\n            }\r\n            // todo emit complete\r\n            this._loadedResolve(this.data);\r\n            return this.data;\r\n        });\r\n    }\r\n    asSprite() {\r\n        return this._sprite;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Configurable.ts\n/**\r\n * Configurable helper extends base type and makes all properties available as option bag arguments\r\n * @internal\r\n * @param base\r\n */\r\nfunction Configurable(base) {\r\n    return class extends base {\r\n        assign(props) {\r\n            //set the value of every property that was passed in,\r\n            //if the constructor previously set this value, it will be overridden here\r\n            for (const k in props) {\r\n                // eslint-disable-next-line\r\n                if (typeof this[k] !== 'function') {\r\n                    // eslint-disable-next-line\r\n                    this[k] = props[k];\r\n                }\r\n            }\r\n        }\r\n        constructor(...args) {\r\n            super(...args);\r\n            //get the number of arguments that aren't undefined. TS passes a value to all parameters\r\n            //of whatever ctor is the implementation, so args.length doesn't work here.\r\n            const size = args.filter(function (value) {\r\n                return value !== undefined;\r\n            }).length;\r\n            if (size === 1 && args[0] && typeof args[0] === 'object' && !(args[0] instanceof Array)) {\r\n                this.assign(args[0]);\r\n            }\r\n        }\r\n    };\r\n}\r\n\n;// CONCATENATED MODULE: ./Drawing/Sprite.ts\nvar Sprite_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar Sprite_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @hidden\r\n * @deprecated Use [[Sprite]]\r\n */\r\nclass SpriteImpl {\r\n    /**\r\n     * @param imageOrConfig  The backing image texture to build the Sprite, or Sprite option bag\r\n     * @param x      The x position of the sprite\r\n     * @param y      The y position of the sprite\r\n     * @param width  The width of the sprite in pixels\r\n     * @param height The height of the sprite in pixels\r\n     */\r\n    constructor(imageOrConfig, x, y, width, height) {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.rotation = 0.0;\r\n        this.anchor = Vector.Half;\r\n        this.offset = Vector.Zero;\r\n        this.scale = Vector.One;\r\n        /**\r\n         * Default: false, should the sprite be drawn around the anchor or from the top left.\r\n         * Sprite rotations/scaling still happen around the anchor regardless of this setting.\r\n         */\r\n        this.drawAroundAnchor = false;\r\n        this.logger = Logger.getInstance();\r\n        /**\r\n         * Draws the sprite flipped vertically\r\n         */\r\n        this.flipVertical = false;\r\n        /**\r\n         * Draws the sprite flipped horizontally\r\n         */\r\n        this.flipHorizontal = false;\r\n        this.effects = [];\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this._spriteCanvas = null;\r\n        this._spriteCtx = null;\r\n        this._pixelData = null;\r\n        this._pixelsLoaded = false;\r\n        this._dirtyEffect = true;\r\n        this._opacity = 1;\r\n        let image = imageOrConfig;\r\n        if (imageOrConfig && !(imageOrConfig instanceof Texture)) {\r\n            x = imageOrConfig.x | 0;\r\n            y = imageOrConfig.y | 0;\r\n            width = imageOrConfig.width | 0;\r\n            height = imageOrConfig.height | 0;\r\n            image = imageOrConfig.image;\r\n            if (!image) {\r\n                const message = 'An image texture is required to construct a sprite';\r\n                throw new Error(message);\r\n            }\r\n        }\r\n        this.x = x || 0;\r\n        this.y = y || 0;\r\n        this.texture = image;\r\n        this._spriteCanvas = document.createElement('canvas');\r\n        this._spriteCanvas.width = width;\r\n        this._spriteCanvas.height = height;\r\n        this._spriteCtx = this._spriteCanvas.getContext('2d');\r\n        this._initPixelsFromTexture();\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n    get drawWidth() {\r\n        return Math.abs(this.width * this.scale.x);\r\n    }\r\n    get drawHeight() {\r\n        return Math.abs(this.height * this.scale.y);\r\n    }\r\n    _initPixelsFromTexture() {\r\n        return Sprite_awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const image = yield this.texture.loaded;\r\n                this.width = this.width || image.naturalWidth;\r\n                this.height = this.height || image.naturalHeight;\r\n                this._spriteCanvas.width = this._spriteCanvas.width || image.naturalWidth;\r\n                this._spriteCanvas.height = this._spriteCanvas.height || image.naturalHeight;\r\n                this._loadPixels();\r\n                this._dirtyEffect = true;\r\n            }\r\n            catch (e) {\r\n                this.logger.error('Error loading texture ', this.texture.path, e);\r\n            }\r\n        });\r\n    }\r\n    _loadPixels() {\r\n        if (this.texture.isLoaded() && !this._pixelsLoaded) {\r\n            const naturalWidth = this.texture.image.naturalWidth || 0;\r\n            const naturalHeight = this.texture.image.naturalHeight || 0;\r\n            if (this.width > naturalWidth) {\r\n                this.logger.warn(`The sprite width ${this.width} exceeds the width \r\n                              ${naturalWidth} of the backing texture ${this.texture.path}`);\r\n            }\r\n            if (this.width <= 0 || naturalWidth <= 0) {\r\n                throw new Error(`The width of a sprite cannot be 0 or negative, sprite width: ${this.width}, original width: ${naturalWidth}`);\r\n            }\r\n            if (this.height > naturalHeight) {\r\n                this.logger.warn(`The sprite height ${this.height} exceeds the height \r\n                              ${naturalHeight} of the backing texture ${this.texture.path}`);\r\n            }\r\n            if (this.height <= 0 || naturalHeight <= 0) {\r\n                throw new Error(`The height of a sprite cannot be 0 or negative, sprite height: ${this.height}, original height: ${naturalHeight}`);\r\n            }\r\n            this._flushTexture();\r\n            this._pixelsLoaded = true;\r\n        }\r\n    }\r\n    _flushTexture() {\r\n        const naturalWidth = this.texture.image.naturalWidth || 0;\r\n        const naturalHeight = this.texture.image.naturalHeight || 0;\r\n        this._spriteCtx.clearRect(0, 0, this.width, this.height);\r\n        this._spriteCtx.drawImage(this.texture.image, clamp(this.x, 0, naturalWidth), clamp(this.y, 0, naturalHeight), clamp(this.width, 0, naturalWidth), clamp(this.height, 0, naturalHeight), 0, 0, this.width, this.height);\r\n    }\r\n    /**\r\n     * Applies the [[Opacity]] effect to a sprite, setting the alpha of all pixels to a given value\r\n     */\r\n    opacity(value) {\r\n        this._opacity = value;\r\n    }\r\n    /**\r\n     * Applies the [[Grayscale]] effect to a sprite, removing color information.\r\n     */\r\n    grayscale() {\r\n        this.addEffect(new Grayscale());\r\n    }\r\n    /**\r\n     * Applies the [[Invert]] effect to a sprite, inverting the pixel colors.\r\n     */\r\n    invert() {\r\n        this.addEffect(new Invert());\r\n    }\r\n    /**\r\n     * Applies the [[Fill]] effect to a sprite, changing the color channels of all non-transparent pixels to match a given color\r\n     */\r\n    fill(color) {\r\n        this.addEffect(new Fill(color));\r\n    }\r\n    /**\r\n     * Applies the [[Colorize]] effect to a sprite, changing the color channels of all pixels to be the average of the original color\r\n     * and the provided color.\r\n     */\r\n    colorize(color) {\r\n        this.addEffect(new Colorize(color));\r\n    }\r\n    /**\r\n     * Applies the [[Lighten]] effect to a sprite, changes the lightness of the color according to HSL\r\n     */\r\n    lighten(factor = 0.1) {\r\n        this.addEffect(new Lighten(factor));\r\n    }\r\n    /**\r\n     * Applies the [[Darken]] effect to a sprite, changes the darkness of the color according to HSL\r\n     */\r\n    darken(factor = 0.1) {\r\n        this.addEffect(new Darken(factor));\r\n    }\r\n    /**\r\n     * Applies the [[Saturate]] effect to a sprite, saturates the color according to HSL\r\n     */\r\n    saturate(factor = 0.1) {\r\n        this.addEffect(new Saturate(factor));\r\n    }\r\n    /**\r\n     * Applies the [[Desaturate]] effect to a sprite, desaturates the color according to HSL\r\n     */\r\n    desaturate(factor = 0.1) {\r\n        this.addEffect(new Desaturate(factor));\r\n    }\r\n    /**\r\n     * Adds a new [[SpriteEffect]] to this drawing.\r\n     * @param effect  Effect to add to the this drawing\r\n     */\r\n    addEffect(effect) {\r\n        this.effects.push(effect);\r\n        // We must check if the texture and the backing sprite pixels are loaded as well before\r\n        // an effect can be applied\r\n        if (!this.texture.isLoaded() || !this._pixelsLoaded) {\r\n            this._dirtyEffect = true;\r\n        }\r\n        else {\r\n            this._applyEffects();\r\n        }\r\n    }\r\n    removeEffect(param) {\r\n        let indexToRemove = -1;\r\n        if (typeof param === 'number') {\r\n            indexToRemove = param;\r\n        }\r\n        else {\r\n            indexToRemove = this.effects.indexOf(param);\r\n        }\r\n        // bounds check\r\n        if (indexToRemove < 0 || indexToRemove >= this.effects.length) {\r\n            return;\r\n        }\r\n        this.effects.splice(indexToRemove, 1);\r\n        // We must check if the texture and the backing sprite pixels are loaded as well before\r\n        // an effect can be applied\r\n        if (!this.texture.isLoaded() || !this._pixelsLoaded) {\r\n            this._dirtyEffect = true;\r\n        }\r\n        else {\r\n            this._applyEffects();\r\n        }\r\n    }\r\n    _applyEffects() {\r\n        this._flushTexture();\r\n        if (this.effects.length > 0) {\r\n            this._pixelData = this._spriteCtx.getImageData(0, 0, this.width, this.height);\r\n            const len = this.effects.length;\r\n            for (let i = 0; i < len; i++) {\r\n                for (let y = 0; y < this.height; y++) {\r\n                    for (let x = 0; x < this.width; x++) {\r\n                        this.effects[i].updatePixel(x, y, this._pixelData);\r\n                    }\r\n                }\r\n            }\r\n            this._spriteCtx.clearRect(0, 0, this.width, this.height);\r\n            this._spriteCtx.putImageData(this._pixelData, 0, 0);\r\n        }\r\n        this._dirtyEffect = false;\r\n    }\r\n    /**\r\n     * Clears all effects from the drawing and return it to its original state.\r\n     */\r\n    clearEffects() {\r\n        this.effects.length = 0;\r\n        this._applyEffects();\r\n    }\r\n    /**\r\n     * Resets the internal state of the drawing (if any)\r\n     */\r\n    reset() {\r\n        // do nothing\r\n    }\r\n    debugDraw(ctx, x, y) {\r\n        ctx.save();\r\n        ctx.translate(x, y);\r\n        ctx.rotate(this.rotation);\r\n        const xpoint = this.drawWidth * this.anchor.x;\r\n        const ypoint = this.drawHeight * this.anchor.y;\r\n        ctx.strokeStyle = Color.Black.toString();\r\n        ctx.strokeRect(-xpoint, -ypoint, this.drawWidth, this.drawHeight);\r\n        ctx.restore();\r\n    }\r\n    draw(ctxOrOptions, x, y) {\r\n        if (ctxOrOptions instanceof CanvasRenderingContext2D) {\r\n            this._drawWithOptions({ ctx: ctxOrOptions, x, y });\r\n        }\r\n        else {\r\n            this._drawWithOptions(ctxOrOptions);\r\n        }\r\n    }\r\n    _drawWithOptions(options) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        const { ctx, x, y, rotation, drawWidth, drawHeight, anchor, offset, opacity, flipHorizontal, flipVertical } = Object.assign(Object.assign({}, options), { rotation: (_a = options.rotation) !== null && _a !== void 0 ? _a : this.rotation, drawWidth: (_b = options.drawWidth) !== null && _b !== void 0 ? _b : this.width, drawHeight: (_c = options.drawHeight) !== null && _c !== void 0 ? _c : this.height, flipHorizontal: (_d = options.flipHorizontal) !== null && _d !== void 0 ? _d : this.flipHorizontal, flipVertical: (_e = options.flipVertical) !== null && _e !== void 0 ? _e : this.flipVertical, anchor: (_f = options.anchor) !== null && _f !== void 0 ? _f : this.anchor, offset: (_g = options.offset) !== null && _g !== void 0 ? _g : this.offset, opacity: ((_h = options.opacity) !== null && _h !== void 0 ? _h : 1) * ((_j = this._opacity) !== null && _j !== void 0 ? _j : 1) });\r\n        if (this._dirtyEffect) {\r\n            this._applyEffects();\r\n        }\r\n        // calculating current dimensions\r\n        const anchorX = drawWidth * anchor.x + offset.x;\r\n        const anchorY = drawHeight * anchor.y + offset.y;\r\n        const scaleDirX = this.scale.x > 0 ? 1 : -1;\r\n        const scaleDirY = this.scale.y > 0 ? 1 : -1;\r\n        ctx.save();\r\n        // Move the draw point of origin\r\n        ctx.translate(x, y);\r\n        // Rotate and scale around anchor point\r\n        // This requires a bit of explaination, scale coordinates first positive flipping or rotating\r\n        ctx.scale(Math.abs(this.scale.x), Math.abs(this.scale.y));\r\n        if (this.drawAroundAnchor) {\r\n            // In the case where you want the anchor to match with the point of draw\r\n            // Otherwise sprites are always drawn from top-left\r\n            ctx.translate(-anchorX, -anchorY);\r\n        }\r\n        ctx.translate(anchorX, anchorY);\r\n        ctx.rotate(rotation);\r\n        // This is for handling direction changes 1 or -1, that way we don't have mismatched translates()\r\n        ctx.scale(scaleDirX, scaleDirY);\r\n        ctx.translate(-anchorX, -anchorY);\r\n        if (flipHorizontal) {\r\n            ctx.translate(drawWidth, 0);\r\n            ctx.scale(-1, 1);\r\n        }\r\n        if (flipVertical) {\r\n            ctx.translate(0, drawHeight);\r\n            ctx.scale(1, -1);\r\n        }\r\n        const oldAlpha = ctx.globalAlpha;\r\n        ctx.globalAlpha = opacity;\r\n        // Context is already rotated and scaled\r\n        ctx.drawImage(this._spriteCanvas, 0, 0, this.width, this.height, // source\r\n        0, 0, this.width, this.height); // dest\r\n        ctx.globalAlpha = oldAlpha;\r\n        ctx.restore();\r\n    }\r\n    /**\r\n     * Produces a copy of the current sprite\r\n     */\r\n    clone() {\r\n        const result = new Sprite_Sprite(this.texture, this.x, this.y, this.width, this.height);\r\n        result.anchor = this.anchor.clone();\r\n        result.scale = this.scale.clone();\r\n        result.rotation = this.rotation;\r\n        result.flipHorizontal = this.flipHorizontal;\r\n        result.flipVertical = this.flipVertical;\r\n        const len = this.effects.length;\r\n        for (let i = 0; i < len; i++) {\r\n            result.addEffect(this.effects[i]);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n/**\r\n * A [[LegacyDrawing.Sprite]] is one of the main drawing primitives. It is responsible for drawing\r\n * images or parts of images from a [[LegacyDrawing.Texture]] resource to the screen.\r\n * @deprecated Use [[Sprite]]\r\n */\r\nlet Sprite_Sprite = class Sprite extends Configurable(SpriteImpl) {\r\n    constructor(imageOrConfig, x, y, width, height) {\r\n        super(imageOrConfig, x, y, width, height);\r\n    }\r\n};\r\nSprite_Sprite = Sprite_decorate([\r\n    obsolete({\r\n        message: 'Label.clearTextShadow will be removed in v0.26.0',\r\n        alternateMethod: 'Use Label.font.shadow'\r\n    })\r\n], Sprite_Sprite);\r\n\r\n\n;// CONCATENATED MODULE: ./Graphics/Sprite.ts\n\r\n\r\n\r\n\r\nclass Sprite extends Graphic {\r\n    constructor(options) {\r\n        var _a, _b;\r\n        super(options);\r\n        this.image = options.image;\r\n        const { width, height } = options;\r\n        this.sourceView = (_a = options.sourceView) !== null && _a !== void 0 ? _a : { x: 0, y: 0, width: width !== null && width !== void 0 ? width : 0, height: height !== null && height !== void 0 ? height : 0 };\r\n        this.destSize = (_b = options.destSize) !== null && _b !== void 0 ? _b : { width: width !== null && width !== void 0 ? width : 0, height: height !== null && height !== void 0 ? height : 0 };\r\n        this._updateSpriteDimensions();\r\n        this.image.ready.then(() => {\r\n            this._updateSpriteDimensions();\r\n        });\r\n    }\r\n    static from(image) {\r\n        return new Sprite({\r\n            image: image\r\n        });\r\n    }\r\n    _updateSpriteDimensions() {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        const { width: nativeWidth, height: nativeHeight } = this.image;\r\n        // This code uses || to avoid 0's\r\n        // If the source is not specified, use the native dimension\r\n        this.sourceView.width = ((_a = this.sourceView) === null || _a === void 0 ? void 0 : _a.width) || nativeWidth;\r\n        this.sourceView.height = ((_b = this.sourceView) === null || _b === void 0 ? void 0 : _b.height) || nativeHeight;\r\n        // If the destination is not specified, use the source if specified, then native\r\n        this.destSize.width = ((_c = this.destSize) === null || _c === void 0 ? void 0 : _c.width) || ((_d = this.sourceView) === null || _d === void 0 ? void 0 : _d.width) || nativeWidth;\r\n        this.destSize.height = ((_e = this.destSize) === null || _e === void 0 ? void 0 : _e.height) || ((_f = this.sourceView) === null || _f === void 0 ? void 0 : _f.height) || nativeHeight;\r\n        this.width = Math.ceil(this.destSize.width);\r\n        this.height = Math.ceil(this.destSize.height);\r\n    }\r\n    _preDraw(ex, x, y) {\r\n        if (this.image.isLoaded()) {\r\n            this._updateSpriteDimensions();\r\n        }\r\n        super._preDraw(ex, x, y);\r\n    }\r\n    _drawImage(ex, x, y) {\r\n        if (this.image.isLoaded()) {\r\n            this._updateSpriteDimensions();\r\n            ex.drawImage(this.image.image, this.sourceView.x, this.sourceView.y, this.sourceView.width, this.sourceView.height, x, y, this.destSize.width, this.destSize.height);\r\n        }\r\n    }\r\n    /**\r\n     * Create a ImageSource from legacy texture\r\n     * @param sprite\r\n     */\r\n    static fromLegacySprite(sprite) {\r\n        const tex = sprite.texture;\r\n        const image = ImageSource.fromLegacyTexture(tex);\r\n        return new Sprite({\r\n            image,\r\n            sourceView: {\r\n                x: sprite.x,\r\n                y: sprite.y,\r\n                width: sprite.width,\r\n                height: sprite.height\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Converts a sprite to a Legacy sprite\r\n     * @deprecated\r\n     * @param sprite\r\n     * @returns LegacyDrawing.Sprite\r\n     */\r\n    static toLegacySprite(sprite) {\r\n        const image = sprite.image;\r\n        const tex = new Texture(image.path);\r\n        tex.data = image.image;\r\n        return new Sprite_Sprite(tex, sprite.sourceView.x, sprite.sourceView.y, sprite.sourceView.width, sprite.sourceView.height);\r\n    }\r\n    clone() {\r\n        return new Sprite(Object.assign({ image: this.image, sourceView: Object.assign({}, this.sourceView), destSize: Object.assign({}, this.destSize) }, this.cloneGraphicOptions()));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/ImageSource.ts\nvar ImageSource_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass ImageSource {\r\n    /**\r\n     * The path to the image, can also be a data url like 'data:image/'\r\n     * @param path\r\n     */\r\n    constructor(path, bustCache = false) {\r\n        this.path = path;\r\n        this._logger = Logger.getInstance();\r\n        /**\r\n         * Access to the underlying html image elmeent\r\n         */\r\n        this.data = new Image();\r\n        this._resource = new Resource(path, 'blob', bustCache);\r\n        if (path.endsWith('.svg') || path.endsWith('.gif')) {\r\n            this._logger.warn(`Image type is not fully supported, you may have mixed results ${path}. Fully supported: jpg, bmp, and png`);\r\n        }\r\n        this.ready = new Promise((resolve) => {\r\n            this._loadedResolve = resolve;\r\n        });\r\n    }\r\n    /**\r\n     * The original size of the source image in pixels\r\n     */\r\n    get width() {\r\n        return this.image.naturalWidth;\r\n    }\r\n    /**\r\n     * The original height of the source image in pixels\r\n     */\r\n    get height() {\r\n        return this.image.naturalHeight;\r\n    }\r\n    /**\r\n     * Returns true if the Texture is completely loaded and is ready\r\n     * to be drawn.\r\n     */\r\n    isLoaded() {\r\n        return !!this.data.src;\r\n    }\r\n    get image() {\r\n        return this.data;\r\n    }\r\n    /**\r\n     * Begins loading the image and returns a promise that resolves when the image is loaded\r\n     */\r\n    load() {\r\n        return ImageSource_awaiter(this, void 0, void 0, function* () {\r\n            if (this.isLoaded()) {\r\n                return this.data;\r\n            }\r\n            try {\r\n                // Load base64 or blob if needed\r\n                let url;\r\n                if (!this.path.includes('data:image/')) {\r\n                    const blob = yield this._resource.load();\r\n                    url = URL.createObjectURL(blob);\r\n                }\r\n                else {\r\n                    url = this.path;\r\n                }\r\n                // Decode the image\r\n                const image = new Image();\r\n                image.src = url;\r\n                yield image.decode();\r\n                // Set results\r\n                this.data = image;\r\n            }\r\n            catch (error) {\r\n                throw `Error loading ImageSource from path '${this.path}' with error [${error.message}]`;\r\n            }\r\n            // todo emit complete\r\n            this._loadedResolve(this.data);\r\n            return this.data;\r\n        });\r\n    }\r\n    /**\r\n     * Build a sprite from this ImageSource\r\n     */\r\n    toSprite() {\r\n        return Sprite.from(this);\r\n    }\r\n    /**\r\n     * Create a ImageSource from legacy texture\r\n     * @param tex\r\n     */\r\n    static fromLegacyTexture(tex) {\r\n        const image = new ImageSource(tex.path);\r\n        if (tex.isLoaded()) {\r\n            image.data = tex.data;\r\n        }\r\n        else {\r\n            tex.loaded.then(() => {\r\n                image.data = tex.data;\r\n            });\r\n        }\r\n        return image;\r\n    }\r\n    /**\r\n     * Unload images from memory\r\n     */\r\n    unload() {\r\n        this.data = new Image();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Drawing/Animation.ts\nvar Animation_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @hidden\r\n * @deprecated Use [[Animation]]\r\n */\r\nclass AnimationImpl {\r\n    /**\r\n     * Typically you will use a [[SpriteSheet]] to generate an [[Animation]].\r\n     *\r\n     * @param engineOrConfig  Reference to the current game engine\r\n     * @param sprites  An array of sprites to create the frames for the animation\r\n     * @param speed   The number in milliseconds to display each frame in the animation\r\n     * @param loop    Indicates whether the animation should loop after it is completed\r\n     */\r\n    constructor(engineOrConfig, sprites, speed, loop) {\r\n        /**\r\n         * The sprite frames to play, in order. See [[SpriteSheet.getAnimationForAll]] to quickly\r\n         * generate an [[Animation]].\r\n         */\r\n        this.sprites = [];\r\n        /**\r\n         * Current frame index being shown\r\n         */\r\n        this.currentFrame = 0;\r\n        this._timeLeftInFrame = 0;\r\n        this._idempotencyToken = -1;\r\n        this.anchor = Vector.Zero;\r\n        this.rotation = 0.0;\r\n        this.scale = Vector.One;\r\n        /**\r\n         * Indicates whether the animation should loop after it is completed\r\n         */\r\n        this.loop = true;\r\n        /**\r\n         * Indicates the frame index the animation should freeze on for a non-looping\r\n         * animation. By default it is the last frame.\r\n         */\r\n        this.freezeFrame = -1;\r\n        /**\r\n         * Flip each frame vertically. Sets [[Sprite.flipVertical]].\r\n         */\r\n        this.flipVertical = false;\r\n        /**\r\n         * Flip each frame horizontally. Sets [[Sprite.flipHorizontal]].\r\n         */\r\n        this.flipHorizontal = false;\r\n        this.drawWidth = 0;\r\n        this.drawHeight = 0;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this._opacity = 1;\r\n        let engine = engineOrConfig;\r\n        if (engineOrConfig && !(engineOrConfig instanceof Engine)) {\r\n            const config = engineOrConfig;\r\n            engine = config.engine;\r\n            sprites = config.sprites;\r\n            speed = config.speed;\r\n            loop = config.loop;\r\n        }\r\n        this.sprites = sprites;\r\n        this.speed = speed;\r\n        this._engine = engine;\r\n        this._timeLeftInFrame = this.speed;\r\n        if (loop != null) {\r\n            this.loop = loop;\r\n        }\r\n        if (sprites && sprites[0]) {\r\n            this.drawHeight = sprites[0] ? sprites[0].drawHeight : 0;\r\n            this.drawWidth = sprites[0] ? sprites[0].drawWidth : 0;\r\n            this.width = sprites[0] ? sprites[0].width : 0;\r\n            this.height = sprites[0] ? sprites[0].height : 0;\r\n            this.freezeFrame = sprites.length - 1;\r\n        }\r\n    }\r\n    /**\r\n     * Applies the opacity effect to a sprite, setting the alpha of all pixels to a given value\r\n     */\r\n    opacity(value) {\r\n        this._opacity = value;\r\n    }\r\n    /**\r\n     * Applies the grayscale effect to a sprite, removing color information.\r\n     */\r\n    grayscale() {\r\n        this.addEffect(new Grayscale());\r\n    }\r\n    /**\r\n     * Applies the invert effect to a sprite, inverting the pixel colors.\r\n     */\r\n    invert() {\r\n        this.addEffect(new Invert());\r\n    }\r\n    /**\r\n     * Applies the fill effect to a sprite, changing the color channels of all non-transparent pixels to match a given color\r\n     */\r\n    fill(color) {\r\n        this.addEffect(new Fill(color));\r\n    }\r\n    /**\r\n     * Applies the colorize effect to a sprite, changing the color channels of all pixels to be the average of the original color and the\r\n     * provided color.\r\n     */\r\n    colorize(color) {\r\n        this.addEffect(new Colorize(color));\r\n    }\r\n    /**\r\n     * Applies the lighten effect to a sprite, changes the lightness of the color according to hsl\r\n     */\r\n    lighten(factor = 0.1) {\r\n        this.addEffect(new Lighten(factor));\r\n    }\r\n    /**\r\n     * Applies the darken effect to a sprite, changes the darkness of the color according to hsl\r\n     */\r\n    darken(factor = 0.1) {\r\n        this.addEffect(new Darken(factor));\r\n    }\r\n    /**\r\n     * Applies the saturate effect to a sprite, saturates the color according to hsl\r\n     */\r\n    saturate(factor = 0.1) {\r\n        this.addEffect(new Saturate(factor));\r\n    }\r\n    /**\r\n     * Applies the desaturate effect to a sprite, desaturates the color according to hsl\r\n     */\r\n    desaturate(factor = 0.1) {\r\n        this.addEffect(new Desaturate(factor));\r\n    }\r\n    /**\r\n     * Add a [[SpriteEffect]] manually\r\n     */\r\n    addEffect(effect) {\r\n        for (const i in this.sprites) {\r\n            this.sprites[i].addEffect(effect);\r\n        }\r\n    }\r\n    removeEffect(param) {\r\n        for (const i in this.sprites) {\r\n            this.sprites[i].removeEffect(param);\r\n        }\r\n    }\r\n    /**\r\n     * Clear all sprite effects\r\n     */\r\n    clearEffects() {\r\n        for (const i in this.sprites) {\r\n            this.sprites[i].clearEffects();\r\n        }\r\n    }\r\n    _setAnchor(point) {\r\n        //if (!this.anchor.equals(point)) {\r\n        for (const i in this.sprites) {\r\n            this.sprites[i].anchor.setTo(point.x, point.y);\r\n        }\r\n        //}\r\n    }\r\n    _setRotation(radians) {\r\n        //if (this.rotation !== radians) {\r\n        for (const i in this.sprites) {\r\n            this.sprites[i].rotation = radians;\r\n        }\r\n        //}\r\n    }\r\n    _setScale(scale) {\r\n        //if (!this.scale.equals(scale)) {\r\n        for (const i in this.sprites) {\r\n            this.sprites[i].scale = scale;\r\n        }\r\n        //}\r\n    }\r\n    /**\r\n     * Resets the animation to first frame.\r\n     */\r\n    reset() {\r\n        this.currentFrame = 0;\r\n    }\r\n    /**\r\n     * Indicates whether the animation is complete, animations that loop are never complete.\r\n     */\r\n    isDone() {\r\n        return !this.loop && this.currentFrame >= this.sprites.length;\r\n    }\r\n    /**\r\n     * Not meant to be called by game developers. Ticks the animation forward internally and\r\n     * calculates whether to change to the frame.\r\n     * @internal\r\n     */\r\n    tick(elapsed, idempotencyToken) {\r\n        if (this._idempotencyToken === idempotencyToken) {\r\n            return;\r\n        }\r\n        this._idempotencyToken = idempotencyToken;\r\n        this._timeLeftInFrame -= elapsed;\r\n        if (this._timeLeftInFrame <= 0) {\r\n            this.currentFrame = this.loop ? (this.currentFrame + 1) % this.sprites.length : this.currentFrame + 1;\r\n            this._timeLeftInFrame = this.speed;\r\n        }\r\n        this._updateValues();\r\n        const current = this.sprites[this.currentFrame];\r\n        if (current) {\r\n            this.width = current.width;\r\n            this.height = current.height;\r\n            this.drawWidth = current.drawWidth;\r\n            this.drawHeight = current.drawHeight;\r\n        }\r\n    }\r\n    _updateValues() {\r\n        this._setAnchor(this.anchor);\r\n        this._setRotation(this.rotation);\r\n        this._setScale(this.scale);\r\n    }\r\n    /**\r\n     * Skips ahead a specified number of frames in the animation\r\n     * @param frames  Frames to skip ahead\r\n     */\r\n    skip(frames) {\r\n        this.currentFrame = (this.currentFrame + frames) % this.sprites.length;\r\n    }\r\n    draw(ctxOrOptions, x, y) {\r\n        if (ctxOrOptions instanceof CanvasRenderingContext2D) {\r\n            this._drawWithOptions({ ctx: ctxOrOptions, x, y });\r\n        }\r\n        else {\r\n            this._drawWithOptions(ctxOrOptions);\r\n        }\r\n    }\r\n    _drawWithOptions(options) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h;\r\n        const animOptions = Object.assign(Object.assign({}, options), { rotation: (_a = options.rotation) !== null && _a !== void 0 ? _a : this.rotation, drawWidth: (_b = options.drawWidth) !== null && _b !== void 0 ? _b : this.drawWidth, drawHeight: (_c = options.drawHeight) !== null && _c !== void 0 ? _c : this.drawHeight, flipHorizontal: (_d = options.flipHorizontal) !== null && _d !== void 0 ? _d : this.flipHorizontal, flipVertical: (_e = options.flipVertical) !== null && _e !== void 0 ? _e : this.flipVertical, anchor: (_f = options.anchor) !== null && _f !== void 0 ? _f : this.anchor, opacity: ((_g = options.opacity) !== null && _g !== void 0 ? _g : 1) * ((_h = this._opacity) !== null && _h !== void 0 ? _h : 1) });\r\n        this._updateValues();\r\n        let currSprite;\r\n        if (this.currentFrame < this.sprites.length) {\r\n            currSprite = this.sprites[this.currentFrame];\r\n            currSprite.draw(animOptions);\r\n        }\r\n        if (this.freezeFrame !== -1 && this.currentFrame >= this.sprites.length) {\r\n            currSprite = this.sprites[clamp(this.freezeFrame, 0, this.sprites.length - 1)];\r\n            currSprite.draw(animOptions);\r\n        }\r\n        // add the calculated width\r\n        if (currSprite) {\r\n            this.drawWidth = currSprite.drawWidth;\r\n            this.drawHeight = currSprite.drawHeight;\r\n        }\r\n    }\r\n    /**\r\n     * Plays an animation at an arbitrary location in the game.\r\n     * @param x  The x position in the game to play\r\n     * @param y  The y position in the game to play\r\n     */\r\n    play(x, y) {\r\n        this.reset();\r\n        this._engine.playAnimation(this, x, y);\r\n    }\r\n}\r\n/**\r\n * Animations allow you to display a series of images one after another,\r\n * creating the illusion of change. Generally these images will come from a [[SpriteSheet]] source.\r\n * @deprecated Use [[Animation]]\r\n */\r\nlet Animation_Animation = class Animation extends Configurable(AnimationImpl) {\r\n    constructor(engineOrConfig, images, speed, loop) {\r\n        super(engineOrConfig, images, speed, loop);\r\n    }\r\n};\r\nAnimation_Animation = Animation_decorate([\r\n    obsolete({\r\n        message: 'Animation will be removed in v0.26.0',\r\n        alternateMethod: 'Use Graphics.Animation'\r\n    })\r\n], Animation_Animation);\r\n\r\n\n;// CONCATENATED MODULE: ./Graphics/FontCommon.ts\n/**\r\n * Enum representing the different font size units\r\n * https://developer.mozilla.org/en-US/docs/Web/CSS/font-size\r\n */\r\nvar FontUnit;\r\n(function (FontUnit) {\r\n    /**\r\n     * Em is a scalable unit, 1 em is equal to the current font size of the current element, parent elements can effect em values\r\n     */\r\n    FontUnit[\"Em\"] = \"em\";\r\n    /**\r\n     * Rem is similar to the Em, it is a scalable unit. 1 rem is equal to the font size of the root element\r\n     */\r\n    FontUnit[\"Rem\"] = \"rem\";\r\n    /**\r\n     * Pixel is a unit of length in screen pixels\r\n     */\r\n    FontUnit[\"Px\"] = \"px\";\r\n    /**\r\n     * Point is a physical unit length (1/72 of an inch)\r\n     */\r\n    FontUnit[\"Pt\"] = \"pt\";\r\n    /**\r\n     * Percent is a scalable unit similar to Em, the only difference is the Em units scale faster when Text-Size stuff\r\n     */\r\n    FontUnit[\"Percent\"] = \"%\";\r\n})(FontUnit || (FontUnit = {}));\r\n/**\r\n * Enum representing the different horizontal text alignments\r\n */\r\nvar TextAlign;\r\n(function (TextAlign) {\r\n    /**\r\n     * The text is left-aligned.\r\n     */\r\n    TextAlign[\"Left\"] = \"left\";\r\n    /**\r\n     * The text is right-aligned.\r\n     */\r\n    TextAlign[\"Right\"] = \"right\";\r\n    /**\r\n     * The text is centered.\r\n     */\r\n    TextAlign[\"Center\"] = \"center\";\r\n    /**\r\n     * The text is aligned at the normal start of the line (left-aligned for left-to-right locales,\r\n     * right-aligned for right-to-left locales).\r\n     */\r\n    TextAlign[\"Start\"] = \"start\";\r\n    /**\r\n     * The text is aligned at the normal end of the line (right-aligned for left-to-right locales,\r\n     * left-aligned for right-to-left locales).\r\n     */\r\n    TextAlign[\"End\"] = \"end\";\r\n})(TextAlign || (TextAlign = {}));\r\n/**\r\n * Enum representing the different baseline text alignments\r\n */\r\nvar BaseAlign;\r\n(function (BaseAlign) {\r\n    /**\r\n     * The text baseline is the top of the em square.\r\n     */\r\n    BaseAlign[\"Top\"] = \"top\";\r\n    /**\r\n     * The text baseline is the hanging baseline.  Currently unsupported; this will act like\r\n     * alphabetic.\r\n     */\r\n    BaseAlign[\"Hanging\"] = \"hanging\";\r\n    /**\r\n     * The text baseline is the middle of the em square.\r\n     */\r\n    BaseAlign[\"Middle\"] = \"middle\";\r\n    /**\r\n     * The text baseline is the normal alphabetic baseline.\r\n     */\r\n    BaseAlign[\"Alphabetic\"] = \"alphabetic\";\r\n    /**\r\n     * The text baseline is the ideographic baseline; this is the bottom of\r\n     * the body of the characters, if the main body of characters protrudes\r\n     * beneath the alphabetic baseline.  Currently unsupported; this will\r\n     * act like alphabetic.\r\n     */\r\n    BaseAlign[\"Ideographic\"] = \"ideographic\";\r\n    /**\r\n     * The text baseline is the bottom of the bounding box.  This differs\r\n     * from the ideographic baseline in that the ideographic baseline\r\n     * doesn't consider descenders.\r\n     */\r\n    BaseAlign[\"Bottom\"] = \"bottom\";\r\n})(BaseAlign || (BaseAlign = {}));\r\n/**\r\n * Enum representing the different possible font styles\r\n */\r\nvar FontStyle;\r\n(function (FontStyle) {\r\n    FontStyle[\"Normal\"] = \"normal\";\r\n    FontStyle[\"Italic\"] = \"italic\";\r\n    FontStyle[\"Oblique\"] = \"oblique\";\r\n})(FontStyle || (FontStyle = {}));\r\nvar Direction;\r\n(function (Direction) {\r\n    Direction[\"LeftToRight\"] = \"ltr\";\r\n    Direction[\"RightToLeft\"] = \"rtl\";\r\n})(Direction || (Direction = {}));\r\n\n;// CONCATENATED MODULE: ./Drawing/SpriteSheet.ts\nvar SpriteSheet_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Sprite sheets are a useful mechanism for slicing up image resources into\r\n * separate sprites or for generating in game animations. [[Sprite|Sprites]] are organized\r\n * in row major order in the [[SpriteSheet]].\r\n * @deprecated Will be removed in v0.26.0\r\n */\r\nclass SpriteSheet_SpriteSheet {\r\n    /**\r\n     * @param imageOrConfigOrSprites The backing image texture to build the SpriteSheet, option bag, or sprite list\r\n     * @param columns   The number of columns in the image texture\r\n     * @param rows      The number of rows in the image texture\r\n     * @param spWidth   The width of each individual sprite in pixels\r\n     * @param spHeight  The height of each individual sprite in pixels\r\n     * @param spacing   The spacing between every sprite in a spritesheet\r\n     */\r\n    constructor(imageOrConfigOrSprites, columns, rows, spWidth, spHeight, spacing) {\r\n        this._sprites = [];\r\n        this._image = null;\r\n        this._columns = 0;\r\n        this._rows = 0;\r\n        this._spWidth = 0;\r\n        this._spHeight = 0;\r\n        this._spacing = 0;\r\n        let loadFromImage = false;\r\n        if (imageOrConfigOrSprites instanceof Array) {\r\n            this._sprites = imageOrConfigOrSprites;\r\n        }\r\n        else {\r\n            if (imageOrConfigOrSprites && !(imageOrConfigOrSprites instanceof Texture)) {\r\n                this._columns = imageOrConfigOrSprites.columns;\r\n                this._rows = imageOrConfigOrSprites.rows;\r\n                this._spWidth = imageOrConfigOrSprites.spWidth;\r\n                this._spHeight = imageOrConfigOrSprites.spHeight;\r\n                this._image = imageOrConfigOrSprites.image;\r\n                this._spacing = imageOrConfigOrSprites.spacing || 0;\r\n            }\r\n            else {\r\n                this._image = imageOrConfigOrSprites;\r\n                this._columns = columns;\r\n                this._rows = rows;\r\n                this._spWidth = spWidth;\r\n                this._spHeight = spHeight;\r\n                this._spacing = spacing || 0;\r\n            }\r\n            this._sprites = new Array(this._columns * this._rows);\r\n            loadFromImage = true;\r\n        }\r\n        // Inspect actual image dimensions with preloading\r\n        if (this.image instanceof Texture) {\r\n            let isWidthError = false;\r\n            let isHeightError = false;\r\n            if (this.image.isLoaded()) {\r\n                isWidthError = this.spWidth * this.columns > this.image.image.naturalWidth;\r\n                isHeightError = this.spHeight * this.rows > this.image.image.naturalHeight;\r\n                if (isWidthError) {\r\n                    throw new RangeError(`SpriteSheet specified is wider, ` +\r\n                        `${this.columns} cols x ${this.spWidth} pixels > ${this.image.image.naturalWidth} ` +\r\n                        `pixels than image width`);\r\n                }\r\n                if (isHeightError) {\r\n                    throw new RangeError(`SpriteSheet specified is taller, ` +\r\n                        `${this.rows} rows x ${this.spHeight} pixels > ${this.image.image.naturalHeight} ` +\r\n                        `pixels than image height`);\r\n                }\r\n            }\r\n        }\r\n        if (loadFromImage) {\r\n            const spacing = this.getSpacingDimensions();\r\n            for (let row = 0; row < this.rows; row++) {\r\n                for (let col = 0; col < this.columns; col++) {\r\n                    this._sprites[col + row * this.columns] = new Sprite_Sprite(this.image, col * this.spWidth + spacing.margin * col + spacing.left, row * this.spHeight + spacing.margin * row + spacing.top, this.spWidth, this.spHeight);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Gets the raw spacing dimensions for the sprites in the sheet, which can be a fixed number or custom dimensions.\r\n     */\r\n    get spacing() {\r\n        return this._spacing;\r\n    }\r\n    /**\r\n     * Get a copy of the backing sprite array\r\n     */\r\n    get sprites() {\r\n        return [...this._sprites];\r\n    }\r\n    /**\r\n     * The backing texture used for the sprite sheet\r\n     */\r\n    get image() {\r\n        return this._image;\r\n    }\r\n    /**\r\n     * The number of columns in the sheet\r\n     */\r\n    get columns() {\r\n        return this._columns;\r\n    }\r\n    /**\r\n     * The number of rows in the sheet\r\n     */\r\n    get rows() {\r\n        return this._rows;\r\n    }\r\n    /**\r\n     * The width of the individual sprites\r\n     */\r\n    get spWidth() {\r\n        return this._spWidth;\r\n    }\r\n    /**\r\n     * The height of the individual sprites\r\n     */\r\n    get spHeight() {\r\n        return this._spHeight;\r\n    }\r\n    /**\r\n     * Gets the calculated spacing dimensions based on whether spacing\r\n     * is a fixed number or has different values for each dimension\r\n     */\r\n    getSpacingDimensions() {\r\n        var _a, _b, _c;\r\n        if (typeof this.spacing === 'number') {\r\n            return {\r\n                left: this.spacing,\r\n                top: this.spacing,\r\n                margin: this.spacing\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                left: (_a = this.spacing.left) !== null && _a !== void 0 ? _a : 0,\r\n                top: (_b = this.spacing.top) !== null && _b !== void 0 ? _b : 0,\r\n                margin: (_c = this.spacing.margin) !== null && _c !== void 0 ? _c : 0\r\n            };\r\n        }\r\n    }\r\n    /**\r\n     * Create an animation from the this SpriteSheet by listing out the\r\n     * sprite indices. Sprites are organized in row major order in the SpriteSheet.\r\n     * @param engine   Reference to the current game [[Engine]]\r\n     * @param indices  An array of sprite indices to use in the animation\r\n     * @param speed    The number in milliseconds to display each frame in the animation\r\n     */\r\n    getAnimationByIndices(engine, indices, speed) {\r\n        let images = indices.map((index) => {\r\n            return this.sprites[index];\r\n        });\r\n        images = images.map(function (i) {\r\n            return i.clone();\r\n        });\r\n        return new Animation_Animation(engine, images, speed);\r\n    }\r\n    /**\r\n     * Create an animation from the this SpriteSheet by specifying the range of\r\n     * images with the beginning (inclusive) and ending (exclusive) index\r\n     * For example `getAnimationBetween(engine, 0, 5, 200)` returns an animation with 5 frames.\r\n     * @param engine      Reference to the current game Engine\r\n     * @param beginIndex  The index to start taking frames (inclusive)\r\n     * @param endIndex    The index to stop taking frames (exclusive)\r\n     * @param speed       The number in milliseconds to display each frame in the animation\r\n     */\r\n    getAnimationBetween(engine, beginIndex, endIndex, speed) {\r\n        let images = this.sprites.slice(beginIndex, endIndex);\r\n        images = images.map(function (i) {\r\n            return i.clone();\r\n        });\r\n        return new Animation_Animation(engine, images, speed);\r\n    }\r\n    /**\r\n     * Treat the entire SpriteSheet as one animation, organizing the frames in\r\n     * row major order.\r\n     * @param engine  Reference to the current game [[Engine]]\r\n     * @param speed   The number in milliseconds to display each frame the animation\r\n     */\r\n    getAnimationForAll(engine, speed) {\r\n        const sprites = this.sprites.map(function (i) {\r\n            return i.clone();\r\n        });\r\n        return new Animation_Animation(engine, sprites, speed);\r\n    }\r\n    /**\r\n     * Retrieve a specific sprite from the SpriteSheet by its index. Sprites are organized\r\n     * in row major order in the SpriteSheet.\r\n     * @param index  The index of the sprite\r\n     */\r\n    getSprite(index) {\r\n        if (index >= 0 && index < this.sprites.length) {\r\n            return this.sprites[index];\r\n        }\r\n        else {\r\n            throw new Error('Invalid index: ' + index);\r\n        }\r\n    }\r\n    /**\r\n     * Get an animation with bespoke sprite coordinates. This is useful if the SpriteSheet is\r\n     * packed and not a uniform width or height. The resulting [[Animation]] will have the height and width of the\r\n     * largest dimension (width, height) from among the sprite coordinates\r\n     * @param engine\r\n     * @param spriteCoordinates\r\n     * @param speed\r\n     */\r\n    getAnimationByCoords(engine, spriteCoordinates, speed) {\r\n        let maxWidth = 0;\r\n        let maxHeight = 0;\r\n        const sprites = new Array(spriteCoordinates.length);\r\n        for (let i = 0; i < spriteCoordinates.length; i++) {\r\n            const coord = spriteCoordinates[i];\r\n            // no need to pass image again if using a spritesheet\r\n            coord.image = coord.image || this.image;\r\n            maxWidth = Math.max(maxWidth, coord.drawWidth);\r\n            maxHeight = Math.max(maxHeight, coord.drawHeight);\r\n            sprites[i] = new Sprite_Sprite(coord);\r\n        }\r\n        const anim = new Animation_Animation(engine, sprites, speed);\r\n        anim.drawWidth = maxWidth;\r\n        anim.drawHeight = maxHeight;\r\n        return anim;\r\n    }\r\n}\r\n/**\r\n * Sprite fonts are a used in conjunction with a [[Label]] to specify\r\n * a particular bitmap as a font. Note that some font features are not\r\n * supported by Sprite fonts.\r\n * @deprecated Will be removed into v0.26.0\r\n */\r\nlet SpriteFont = class SpriteFont extends SpriteSheet_SpriteSheet {\r\n    /**\r\n     * @param imageOrConfig   The backing image texture to build the SpriteFont or the sprite font option bag\r\n     * @param alphabet        A string representing all the characters in the image, in row major order.\r\n     * @param caseInsensitive  Indicate whether this font takes case into account\r\n     * @param columns         The number of columns of characters in the image\r\n     * @param rows            The number of rows of characters in the image\r\n     * @param spWidth         The width of each character in pixels\r\n     * @param spHeight        The height of each character in pixels\r\n     */\r\n    constructor(imageOrConfig, alphabet, caseInsensitive, columns, rows, spWidth, spHeight, spacing) {\r\n        super(imageOrConfig instanceof Texture\r\n            ? {\r\n                image: imageOrConfig,\r\n                spWidth: spWidth,\r\n                spHeight: spHeight,\r\n                rows: rows,\r\n                columns: columns,\r\n                spacing: spacing || 0\r\n            }\r\n            : imageOrConfig);\r\n        this._currentColor = Color.Black;\r\n        this._currentOpacity = 1.0;\r\n        this._spriteRecord = {};\r\n        // text shadow\r\n        this._textShadowOn = false;\r\n        this._textShadowDirty = true;\r\n        this._textShadowColor = Color.Black;\r\n        this._textShadowSprites = {};\r\n        this._shadowOffsetX = 5;\r\n        this._shadowOffsetY = 5;\r\n        if (imageOrConfig && !(imageOrConfig instanceof Texture)) {\r\n            alphabet = imageOrConfig.alphabet;\r\n            caseInsensitive = imageOrConfig.caseInsensitive;\r\n        }\r\n        this.alphabet = alphabet;\r\n        this.caseInsensitive = caseInsensitive;\r\n        this._spriteRecord = this.getTextSprites();\r\n    }\r\n    /**\r\n     * Returns a dictionary that maps each character in the alphabet to the appropriate [[Sprite]].\r\n     */\r\n    getTextSprites() {\r\n        const lookup = {};\r\n        for (let i = 0; i < this.alphabet.length; i++) {\r\n            let char = this.alphabet[i];\r\n            if (this.caseInsensitive) {\r\n                char = char.toLowerCase();\r\n            }\r\n            lookup[char] = this.sprites[i].clone();\r\n        }\r\n        return lookup;\r\n    }\r\n    /**\r\n     * Sets the text shadow for sprite fonts\r\n     * @param offsetX      The x offset in pixels to place the shadow\r\n     * @param offsetY      The y offset in pixels to place the shadow\r\n     * @param shadowColor  The color of the text shadow\r\n     */\r\n    setTextShadow(offsetX, offsetY, shadowColor) {\r\n        this._textShadowOn = true;\r\n        this._shadowOffsetX = offsetX;\r\n        this._shadowOffsetY = offsetY;\r\n        this._textShadowColor = shadowColor.clone();\r\n        this._textShadowDirty = true;\r\n        for (const character in this._spriteRecord) {\r\n            this._textShadowSprites[character] = this._spriteRecord[character].clone();\r\n        }\r\n    }\r\n    /**\r\n     * Toggles text shadows on or off\r\n     */\r\n    useTextShadow(on) {\r\n        this._textShadowOn = on;\r\n        if (on) {\r\n            this.setTextShadow(5, 5, this._textShadowColor);\r\n        }\r\n    }\r\n    /**\r\n     * Draws the current sprite font\r\n     */\r\n    draw(ctx, text, x, y, options) {\r\n        options = this._parseOptions(options);\r\n        if (this._currentColor.toString() !== options.color.toString() || this._currentOpacity !== options.opacity) {\r\n            this._currentOpacity = options.opacity;\r\n            this._currentColor = options.color;\r\n            for (const char in this._spriteRecord) {\r\n                this._spriteRecord[char].clearEffects();\r\n                this._spriteRecord[char].fill(options.color);\r\n                this._spriteRecord[char].opacity(options.opacity);\r\n            }\r\n        }\r\n        if (this._textShadowOn && this._textShadowDirty && this._textShadowColor) {\r\n            for (const characterShadow in this._textShadowSprites) {\r\n                this._textShadowSprites[characterShadow].clearEffects();\r\n                this._textShadowSprites[characterShadow].addEffect(new Fill(this._textShadowColor.clone()));\r\n            }\r\n            this._textShadowDirty = false;\r\n        }\r\n        // find the current length of text in pixels\r\n        const sprite = this.sprites[0];\r\n        // find the current height fo the text in pixels\r\n        const height = sprite.height;\r\n        // calculate appropriate scale for font size\r\n        const scale = options.fontSize / height;\r\n        const length = text.length * sprite.width * scale + text.length * options.letterSpacing;\r\n        let currX = x;\r\n        if (options.textAlign === TextAlign.Left || options.textAlign === TextAlign.Start) {\r\n            currX = x;\r\n        }\r\n        else if (options.textAlign === TextAlign.Right || options.textAlign === TextAlign.End) {\r\n            currX = x - length;\r\n        }\r\n        else if (options.textAlign === TextAlign.Center) {\r\n            currX = x - length / 2;\r\n        }\r\n        let currY = y - height * scale;\r\n        if (options.baseAlign === BaseAlign.Top || options.baseAlign === BaseAlign.Hanging) {\r\n            currY = y;\r\n        }\r\n        else if (options.baseAlign === BaseAlign.Ideographic ||\r\n            options.baseAlign === BaseAlign.Bottom ||\r\n            options.baseAlign === BaseAlign.Alphabetic) {\r\n            currY = y - height * scale;\r\n        }\r\n        else if (options.baseAlign === BaseAlign.Middle) {\r\n            currY = y - (height * scale) / 2;\r\n        }\r\n        for (let i = 0; i < text.length; i++) {\r\n            let character = text[i];\r\n            if (this.caseInsensitive) {\r\n                character = character.toLowerCase();\r\n            }\r\n            try {\r\n                // if text shadow\r\n                if (this._textShadowOn) {\r\n                    this._textShadowSprites[character].drawAroundAnchor = false;\r\n                    this._textShadowSprites[character].scale = vec(scale, scale);\r\n                    this._textShadowSprites[character].draw(ctx, currX + this._shadowOffsetX, currY + this._shadowOffsetY);\r\n                }\r\n                const charSprite = this._spriteRecord[character];\r\n                charSprite.drawAroundAnchor = false;\r\n                charSprite.scale = vec(scale, scale);\r\n                charSprite.draw(ctx, currX, currY);\r\n                currX += charSprite.drawWidth + options.letterSpacing;\r\n            }\r\n            catch (e) {\r\n                Logger.getInstance().error(`SpriteFont Error drawing char ${character}`);\r\n            }\r\n        }\r\n    }\r\n    _parseOptions(options) {\r\n        return {\r\n            fontSize: options.fontSize || 10,\r\n            letterSpacing: options.letterSpacing || 0,\r\n            color: options.color || Color.Black,\r\n            textAlign: typeof options.textAlign === undefined ? TextAlign.Left : options.textAlign,\r\n            baseAlign: typeof options.baseAlign === undefined ? BaseAlign.Bottom : options.baseAlign,\r\n            maxWidth: options.maxWidth || -1,\r\n            opacity: options.opacity || 0\r\n        };\r\n    }\r\n};\r\nSpriteFont = SpriteSheet_decorate([\r\n    obsolete({\r\n        message: 'SpriteSheet will be removed in v0.26.0',\r\n        alternateMethod: 'Use Graphics.SpriteSheet'\r\n    })\r\n], SpriteFont);\r\n\r\n\n;// CONCATENATED MODULE: ./Graphics/SpriteSheet.ts\n\r\n\r\n\r\n/**\r\n * Represents a collection of sprites from a source image with some organization in a grid\r\n */\r\nclass SpriteSheet {\r\n    /**\r\n     * Build a new sprite sheet from a list of sprites\r\n     *\r\n     * Use [[SpriteSheet.fromImageSource]] to create a SpriteSheet from an [[ImageSource]] organized in a grid\r\n     * @param options\r\n     */\r\n    constructor(options) {\r\n        this._logger = Logger.getInstance();\r\n        this.sprites = [];\r\n        const { sprites, rows, columns } = options;\r\n        this.sprites = sprites;\r\n        this.rows = rows !== null && rows !== void 0 ? rows : 1;\r\n        this.columns = columns !== null && columns !== void 0 ? columns : this.sprites.length;\r\n    }\r\n    /**\r\n     * Find a sprite by their x/y position in the SpriteSheet, for example `getSprite(0, 0)` is the [[Sprite]] in the top-left\r\n     * @param x\r\n     * @param y\r\n     */\r\n    getSprite(x, y) {\r\n        if (x >= this.columns || x < 0) {\r\n            this._logger.warn(`No sprite exists in the SpriteSheet at (${x}, ${y}), x: ${x} should be between 0 and ${this.columns - 1}`);\r\n            return null;\r\n        }\r\n        if (y >= this.rows || y < 0) {\r\n            this._logger.warn(`No sprite exists in the SpriteSheet at (${x}, ${y}), y: ${y} should be between 0 and ${this.rows - 1}`);\r\n            return null;\r\n        }\r\n        const spriteIndex = x + y * this.columns;\r\n        return this.sprites[spriteIndex];\r\n    }\r\n    /**\r\n     * To a graphics sprite sheet from a legacy sprite sheet\r\n     */\r\n    static fromLegacySpriteSheet(legacySpriteSheet) {\r\n        const sprites = legacySpriteSheet.sprites.map(oldSprite => Sprite.fromLegacySprite(oldSprite));\r\n        return new SpriteSheet({\r\n            sprites\r\n        });\r\n    }\r\n    /**\r\n     * @deprecated\r\n     * @param spriteSheet\r\n     * @returns\r\n     */\r\n    static toLegacySpriteSheet(spriteSheet) {\r\n        const sprites = spriteSheet.sprites.map(sprite => Sprite.toLegacySprite(sprite));\r\n        return new SpriteSheet_SpriteSheet(sprites);\r\n    }\r\n    /**\r\n     * Create a SpriteSheet from an [[ImageSource]] organized in a grid\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const spriteSheet = SpriteSheet.fromImageSource({\r\n     *   image: imageSource,\r\n     *   grid: {\r\n     *     rows: 5,\r\n     *     columns: 2,\r\n     *     spriteWidth: 32, // pixels\r\n     *     spriteHeight: 32 // pixels\r\n     *   },\r\n     *   // Optionally specify spacing\r\n     *   spacing: {\r\n     *     // pixels from the top left to start the sprite parsing\r\n     *     originOffset: {\r\n     *       x: 5,\r\n     *       y: 5\r\n     *     },\r\n     *     // pixels between each sprite while parsing\r\n     *     margin: {\r\n     *       x: 1,\r\n     *       y: 1\r\n     *     }\r\n     *   }\r\n     * })\r\n     * ```\r\n     *\r\n     * @param options\r\n     */\r\n    static fromImageSource(options) {\r\n        var _a;\r\n        const sprites = [];\r\n        options.spacing = (_a = options.spacing) !== null && _a !== void 0 ? _a : {};\r\n        const { image, grid: { rows, columns: cols, spriteWidth, spriteHeight }, spacing: { originOffset, margin } } = options;\r\n        const offsetDefaults = Object.assign({ x: 0, y: 0 }, originOffset);\r\n        const marginDefaults = Object.assign({ x: 0, y: 0 }, margin);\r\n        for (let x = 0; x < cols; x++) {\r\n            for (let y = 0; y < rows; y++) {\r\n                sprites[x + y * cols] = new Sprite({\r\n                    image: image,\r\n                    sourceView: {\r\n                        x: x * spriteWidth + marginDefaults.x * x + offsetDefaults.x,\r\n                        y: y * spriteHeight + marginDefaults.y * y + offsetDefaults.y,\r\n                        width: spriteWidth,\r\n                        height: spriteHeight\r\n                    },\r\n                    destSize: { height: spriteHeight, width: spriteWidth }\r\n                });\r\n            }\r\n        }\r\n        return new SpriteSheet({\r\n            sprites: sprites,\r\n            rows: rows,\r\n            columns: cols\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/SpriteFont.ts\n\r\n\r\n\r\n\r\nclass SpriteFont_SpriteFont extends Graphic {\r\n    constructor(options) {\r\n        super(options);\r\n        this._text = '';\r\n        this._dirty = true;\r\n        this.alphabet = '';\r\n        this.shadow = null;\r\n        this.caseInsensitive = false;\r\n        this.spacing = 0;\r\n        this._logger = Logger.getInstance();\r\n        this._sprites = [];\r\n        const { alphabet, spriteSheet, caseInsensitive, spacing, shadow } = options;\r\n        this.alphabet = alphabet;\r\n        this.spriteSheet = spriteSheet;\r\n        this.caseInsensitive = caseInsensitive !== null && caseInsensitive !== void 0 ? caseInsensitive : this.caseInsensitive;\r\n        this.spacing = spacing !== null && spacing !== void 0 ? spacing : this.spacing;\r\n        this.shadow = shadow !== null && shadow !== void 0 ? shadow : this.shadow;\r\n        this.spriteSheet.sprites[0].image.ready.then(() => {\r\n            this._updateDimensions();\r\n        });\r\n    }\r\n    static fromLegacySpriteFont(spriteFont) {\r\n        const sprites = spriteFont.sprites.map(Sprite.fromLegacySprite);\r\n        return new SpriteFont_SpriteFont({\r\n            alphabet: spriteFont.alphabet,\r\n            spacing: 0,\r\n            caseInsensitive: spriteFont.caseInsensitive,\r\n            spriteSheet: new SpriteSheet({\r\n                sprites\r\n            })\r\n        });\r\n    }\r\n    _getCharacterSprites(text) {\r\n        if (!this._dirty) {\r\n            return this._sprites;\r\n        }\r\n        const results = [];\r\n        // handle case insenstive\r\n        const textToRender = this.caseInsensitive ? text.toLocaleLowerCase() : text;\r\n        const alphabet = this.caseInsensitive ? this.alphabet.toLocaleLowerCase() : this.alphabet;\r\n        // for each letter in text\r\n        for (let letterIndex = 0; letterIndex < textToRender.length; letterIndex++) {\r\n            // find the sprite index in alphabet , if there is an error pick the first\r\n            const letter = textToRender[letterIndex];\r\n            let spriteIndex = alphabet.indexOf(letter);\r\n            if (spriteIndex === -1) {\r\n                spriteIndex = 0;\r\n                this._logger.warn(`SpriteFont - Cannot find letter '${letter}' in configured alphabet '${alphabet}'`);\r\n            }\r\n            const letterSprite = this.spriteSheet.sprites[spriteIndex];\r\n            if (letterSprite) {\r\n                results.push(letterSprite);\r\n            }\r\n            else {\r\n                this._logger.warn(`SpriteFont - Cannot find sprite for '${letter}' at index '${spriteIndex}' in configured SpriteSheet`);\r\n            }\r\n        }\r\n        this._dirty = false;\r\n        return (this._sprites = results);\r\n    }\r\n    _updateDimensions() {\r\n        const sprites = this._getCharacterSprites(this._text);\r\n        let width = 0;\r\n        let height = 0;\r\n        for (const sprite of sprites) {\r\n            width += sprite.width + this.spacing;\r\n            height = Math.max(height, sprite.height);\r\n        }\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n    updateText(text) {\r\n        if (this._text !== text) {\r\n            this._dirty = true;\r\n            this._text = text;\r\n            this._updateDimensions();\r\n        }\r\n    }\r\n    _preDraw(ex, x, y) {\r\n        this._updateDimensions();\r\n        super._preDraw(ex, x, y);\r\n    }\r\n    _drawImage(ex, x, y) {\r\n        let cursor = 0;\r\n        for (const sprite of this._getCharacterSprites(this._text)) {\r\n            // draw it in the right spot and increase the cursor by sprite width\r\n            sprite.draw(ex, x + cursor, y);\r\n            cursor += sprite.width + this.spacing;\r\n        }\r\n    }\r\n    render(ex, text, x, y) {\r\n        if (this._text !== text) {\r\n            this._dirty = true;\r\n            this._text = text;\r\n        }\r\n        if (this.shadow) {\r\n            ex.save();\r\n            ex.translate(this.shadow.offset.x, this.shadow.offset.y);\r\n            this.draw(ex, x, y);\r\n            ex.restore();\r\n        }\r\n        this.draw(ex, x, y);\r\n    }\r\n    clone() {\r\n        return new SpriteFont_SpriteFont({\r\n            alphabet: this.alphabet,\r\n            spriteSheet: this.spriteSheet,\r\n            spacing: this.spacing\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/debug-font.png\n/* harmony default export */ const debug_font = (\"data:image/png;base64,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\");\n;// CONCATENATED MODULE: ./Graphics/Context/debug-text.ts\n\r\n\r\n/**\r\n * Internal debugtext helper\r\n */\r\nclass DebugText {\r\n    constructor() {\r\n        /**\r\n         * base64 font\r\n         */\r\n        this.fontSheet = debug_font;\r\n        this.size = 16;\r\n        this.load();\r\n    }\r\n    load() {\r\n        this._imageSource = new ImageSource(this.fontSheet);\r\n        return this._imageSource.load().then(() => {\r\n            this._spriteSheet = SpriteSheet.fromImageSource({\r\n                image: this._imageSource,\r\n                grid: {\r\n                    rows: 3,\r\n                    columns: 16,\r\n                    spriteWidth: 16,\r\n                    spriteHeight: 16\r\n                }\r\n            });\r\n            this._spriteFont = new SpriteFont_SpriteFont({\r\n                alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ,!\\'&.\"?-()+ ',\r\n                caseInsensitive: true,\r\n                spriteSheet: this._spriteSheet,\r\n                spacing: -6\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * Writes debug text using the built in sprint font\r\n     * @param ctx\r\n     * @param text\r\n     * @param pos\r\n     */\r\n    write(ctx, text, pos) {\r\n        if (this._imageSource.isLoaded()) {\r\n            this._spriteFont.render(ctx, text, pos.x, pos.y);\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/ExcaliburGraphicsContextWebGL.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ExcaliburGraphicsContextWebGLDebug {\r\n    constructor(_webglCtx) {\r\n        this._webglCtx = _webglCtx;\r\n        this._debugText = new DebugText();\r\n    }\r\n    /**\r\n     * Draw a debugging rectangle to the context\r\n     * @param x\r\n     * @param y\r\n     * @param width\r\n     * @param height\r\n     */\r\n    drawRect(x, y, width, height, rectOptions = { color: Color.Black }) {\r\n        this.drawLine(vec(x, y), vec(x + width, y), Object.assign({}, rectOptions));\r\n        this.drawLine(vec(x + width, y), vec(x + width, y + height), Object.assign({}, rectOptions));\r\n        this.drawLine(vec(x + width, y + height), vec(x, y + height), Object.assign({}, rectOptions));\r\n        this.drawLine(vec(x, y + height), vec(x, y), Object.assign({}, rectOptions));\r\n    }\r\n    /**\r\n     * Draw a debugging line to the context\r\n     * @param start\r\n     * @param end\r\n     * @param lineOptions\r\n     */\r\n    drawLine(start, end, lineOptions = { color: Color.Black }) {\r\n        this._webglCtx.__lineRenderer.addLine(start, end, lineOptions.color);\r\n    }\r\n    /**\r\n     * Draw a debugging point to the context\r\n     * @param point\r\n     * @param pointOptions\r\n     */\r\n    drawPoint(point, pointOptions = { color: Color.Black, size: 5 }) {\r\n        this._webglCtx.__pointRenderer.addPoint(point, pointOptions.color, pointOptions.size);\r\n    }\r\n    drawText(text, pos) {\r\n        this._debugText.write(this._webglCtx, text, pos);\r\n    }\r\n}\r\nclass ExcaliburGraphicsContextWebGL {\r\n    constructor(options) {\r\n        this._transform = new TransformStack();\r\n        this._state = new StateStack();\r\n        this.snapToPixel = true;\r\n        this.smoothing = false;\r\n        this.backgroundColor = Color.ExcaliburBlue;\r\n        this.debug = new ExcaliburGraphicsContextWebGLDebug(this);\r\n        const { canvasElement, enableTransparency, smoothing, snapToPixel, backgroundColor } = options;\r\n        this.__gl = canvasElement.getContext('webgl', {\r\n            antialias: smoothing !== null && smoothing !== void 0 ? smoothing : this.smoothing,\r\n            premultipliedAlpha: false,\r\n            alpha: enableTransparency !== null && enableTransparency !== void 0 ? enableTransparency : true,\r\n            depth: true,\r\n            powerPreference: 'high-performance'\r\n        });\r\n        this.snapToPixel = snapToPixel !== null && snapToPixel !== void 0 ? snapToPixel : this.snapToPixel;\r\n        this.smoothing = smoothing !== null && smoothing !== void 0 ? smoothing : this.smoothing;\r\n        this.backgroundColor = backgroundColor !== null && backgroundColor !== void 0 ? backgroundColor : this.backgroundColor;\r\n        this._init();\r\n    }\r\n    get opacity() {\r\n        return this._state.current.opacity;\r\n    }\r\n    set opacity(value) {\r\n        this._state.current.opacity = value;\r\n    }\r\n    get width() {\r\n        return this.__gl.canvas.width;\r\n    }\r\n    get height() {\r\n        return this.__gl.canvas.height;\r\n    }\r\n    /**\r\n     * Checks the underlying webgl implementation if the requested internal resolution is supported\r\n     * @param dim\r\n     */\r\n    checkIfResolutionSupported(dim) {\r\n        // Slight hack based on this thread https://groups.google.com/g/webgl-dev-list/c/AHONvz3oQTo\r\n        const gl = this.__gl;\r\n        // If any dimension is greater than max texture size (divide by 4 bytes per pixel)\r\n        const maxDim = gl.getParameter(gl.MAX_TEXTURE_SIZE) / 4;\r\n        let supported = true;\r\n        if (dim.width > maxDim || dim.height > maxDim) {\r\n            supported = false;\r\n        }\r\n        return supported;\r\n    }\r\n    _init() {\r\n        const gl = this.__gl;\r\n        // Setup viewport and view matrix\r\n        this._ortho = Matrix.ortho(0, gl.canvas.width, gl.canvas.height, 0, 400, -400);\r\n        gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\r\n        // Clear background\r\n        gl.clearColor(this.backgroundColor.r / 255, this.backgroundColor.g / 255, this.backgroundColor.b / 255, this.backgroundColor.a);\r\n        gl.clear(gl.COLOR_BUFFER_BIT);\r\n        // Enable alpha blending\r\n        gl.enable(gl.BLEND);\r\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n        this.__pointRenderer = new PointRenderer(gl, { matrix: this._ortho, transform: this._transform, state: this._state });\r\n        this.__lineRenderer = new LineRenderer(gl, { matrix: this._ortho, transform: this._transform, state: this._state });\r\n        this.__imageRenderer = new ImageRenderer(gl, { matrix: this._ortho, transform: this._transform, state: this._state });\r\n        // 2D ctx shim\r\n        this._canvas = new Canvas({\r\n            width: gl.canvas.width,\r\n            height: gl.canvas.height\r\n        });\r\n        this.__ctx = this._canvas.ctx;\r\n    }\r\n    resetTransform() {\r\n        this._transform.current = Matrix.identity();\r\n    }\r\n    updateViewport() {\r\n        const gl = this.__gl;\r\n        this._ortho = this._ortho = Matrix.ortho(0, gl.canvas.width, gl.canvas.height, 0, 400, -400);\r\n        this.__pointRenderer.shader.addUniformMatrix('u_matrix', this._ortho.data);\r\n        this.__lineRenderer.shader.addUniformMatrix('u_matrix', this._ortho.data);\r\n        this.__imageRenderer.shader.addUniformMatrix('u_matrix', this._ortho.data);\r\n        // 2D ctx shim\r\n        this._canvas.width = gl.canvas.width;\r\n        this._canvas.height = gl.canvas.height;\r\n    }\r\n    drawImage(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\r\n        if (swidth === 0 || sheight === 0) {\r\n            return; // zero dimension dest exit early\r\n        }\r\n        else if (dwidth === 0 || dheight === 0) {\r\n            return; // zero dimension dest exit early\r\n        }\r\n        else if (image.width === 0 || image.height === 0) {\r\n            return; // zero dimension source exit early\r\n        }\r\n        if (!image) {\r\n            Logger.getInstance().warn('Cannot draw a null or undefined image');\r\n            // tslint:disable-next-line: no-console\r\n            if (console.trace) {\r\n                // tslint:disable-next-line: no-console\r\n                console.trace();\r\n            }\r\n            return;\r\n        }\r\n        this.__imageRenderer.addImage(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight);\r\n    }\r\n    drawLine(start, end, color, thickness = 1) {\r\n        this.__imageRenderer.addLine(color, start, end, thickness);\r\n    }\r\n    drawRectangle(pos, width, height, color) {\r\n        this.__imageRenderer.addRectangle(color, pos, width, height);\r\n    }\r\n    drawCircle(pos, radius, color) {\r\n        this.__imageRenderer.addCircle(pos, radius, color);\r\n    }\r\n    save() {\r\n        this._transform.save();\r\n        this._state.save();\r\n    }\r\n    restore() {\r\n        this._transform.restore();\r\n        this._state.restore();\r\n    }\r\n    translate(x, y) {\r\n        this._transform.translate(this.snapToPixel ? ~~x : x, this.snapToPixel ? ~~y : y);\r\n    }\r\n    rotate(angle) {\r\n        this._transform.rotate(angle);\r\n    }\r\n    scale(x, y) {\r\n        this._transform.scale(x, y);\r\n    }\r\n    transform(matrix) {\r\n        this._transform.current = matrix;\r\n    }\r\n    clear() {\r\n        const gl = this.__gl;\r\n        gl.clearColor(this.backgroundColor.r / 255, this.backgroundColor.g / 255, this.backgroundColor.b / 255, this.backgroundColor.a);\r\n        // Clear the context with the newly set color. This is\r\n        // the function call that actually does the drawing.\r\n        gl.clear(gl.COLOR_BUFFER_BIT);\r\n        GraphicsDiagnostics.clear();\r\n    }\r\n    /**\r\n     * Flushes all batched rendering to the screen\r\n     */\r\n    flush() {\r\n        const gl = this.__gl;\r\n        gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\r\n        this.__imageRenderer.render();\r\n        this.__lineRenderer.render();\r\n        this.__pointRenderer.render();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Screen.ts\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Enum representing the different display modes available to Excalibur.\r\n */\r\nvar DisplayMode;\r\n(function (DisplayMode) {\r\n    /**\r\n     * Default, use a specified resolution for the game. Like 800x600 pixels for example.\r\n     */\r\n    DisplayMode[\"Fixed\"] = \"Fixed\";\r\n    /**\r\n     * Fit to screen using as much space as possible while maintaining aspect ratio and resolution.\r\n     * This is not the same as [[Screen.goFullScreen]] but behaves in a similar way maintaining aspect ratio.\r\n     *\r\n     * You may want to center your game here is an example\r\n     * ```html\r\n     * <!-- html -->\r\n     * <body>\r\n     * <main>\r\n     *   <canvas id=\"game\"></canvas>\r\n     * </main>\r\n     * </body>\r\n     * ```\r\n     *\r\n     * ```css\r\n     * // css\r\n     * main {\r\n     *   display: flex;\r\n     *   align-items: center;\r\n     *   justify-content: center;\r\n     *   height: 100%;\r\n     *   width: 100%;\r\n     * }\r\n     * ```\r\n     *\r\n     */\r\n    DisplayMode[\"FitScreen\"] = \"FitScreen\";\r\n    /**\r\n     * Fill the entire screen's css width/height for the game resolution dynamically. This means the resolution of the game will\r\n     * change dynamically as the window is resized. This is not the same as [[Screen.goFullScreen]]\r\n     */\r\n    DisplayMode[\"FillScreen\"] = \"FillScreen\";\r\n    /**\r\n     * Fit to parent element width/height using as much space as possible while maintaining aspect ratio and resolution.\r\n     */\r\n    DisplayMode[\"FitContainer\"] = \"FitContainer\";\r\n    /**\r\n     * Use the parent DOM container's css width/height for the game resolution dynamically\r\n     */\r\n    DisplayMode[\"FillContainer\"] = \"FillContainer\";\r\n    /**\r\n     * Allow the game to be positioned with the [[EngineOptions.position]] option\r\n     * @deprecated Use CSS to position the game canvas, will be removed in v0.26.0\r\n     */\r\n    DisplayMode[\"Position\"] = \"Position\";\r\n})(DisplayMode || (DisplayMode = {}));\r\n/**\r\n * Convenience class for quick resolutions\r\n * Mostly sourced from https://emulation.gametechwiki.com/index.php/Resolution\r\n */\r\nclass Resolution {\r\n    /* istanbul ignore next */\r\n    static get SVGA() {\r\n        return { width: 800, height: 600 };\r\n    }\r\n    /* istanbul ignore next */\r\n    static get Standard() {\r\n        return { width: 1920, height: 1080 };\r\n    }\r\n    /* istanbul ignore next */\r\n    static get Atari2600() {\r\n        return { width: 160, height: 192 };\r\n    }\r\n    /* istanbul ignore next */\r\n    static get GameBoy() {\r\n        return { width: 160, height: 144 };\r\n    }\r\n    /* istanbul ignore next */\r\n    static get GameBoyAdvance() {\r\n        return { width: 240, height: 160 };\r\n    }\r\n    /* istanbul ignore next */\r\n    static get NintendoDS() {\r\n        return { width: 256, height: 192 };\r\n    }\r\n    /* istanbul ignore next */\r\n    static get NES() {\r\n        return { width: 256, height: 224 };\r\n    }\r\n    /* istanbul ignore next */\r\n    static get SNES() {\r\n        return { width: 256, height: 244 };\r\n    }\r\n}\r\n/**\r\n * The Screen handles all aspects of interacting with the screen for Excalibur.\r\n */\r\nclass Screen {\r\n    constructor(options) {\r\n        var _a, _b, _c;\r\n        this._antialiasing = true;\r\n        this._resolutionStack = [];\r\n        this._viewportStack = [];\r\n        this._pixelRatioOverride = null;\r\n        this._isFullScreen = false;\r\n        this._isDisposed = false;\r\n        this._logger = Logger.getInstance();\r\n        this._fullscreenChangeHandler = () => {\r\n            this._isFullScreen = !this._isFullScreen;\r\n            this._logger.debug('Fullscreen Change', this._isFullScreen);\r\n        };\r\n        this._pixelRatioChangeHandler = () => {\r\n            this._logger.debug('Pixel Ratio Change', window.devicePixelRatio);\r\n            this._devicePixelRatio = this._calculateDevicePixelRatio();\r\n            this.applyResolutionAndViewport();\r\n        };\r\n        this._resizeHandler = () => {\r\n            const parent = this.parent;\r\n            this._logger.debug('View port resized');\r\n            this._setResolutionAndViewportByDisplayMode(parent);\r\n            this.applyResolutionAndViewport();\r\n        };\r\n        // Asking the window.devicePixelRatio is expensive we do it once\r\n        this._devicePixelRatio = this._calculateDevicePixelRatio();\r\n        this._alreadyWarned = false;\r\n        this.viewport = options.viewport;\r\n        this.resolution = (_a = options.resolution) !== null && _a !== void 0 ? _a : Object.assign({}, this.viewport);\r\n        this._displayMode = (_b = options.displayMode) !== null && _b !== void 0 ? _b : DisplayMode.Fixed;\r\n        this._canvas = options.canvas;\r\n        this._ctx = options.context;\r\n        this._antialiasing = (_c = options.antialiasing) !== null && _c !== void 0 ? _c : this._antialiasing;\r\n        this._browser = options.browser;\r\n        this._position = options.position;\r\n        this._pixelRatioOverride = options.pixelRatio;\r\n        this._applyDisplayMode();\r\n        this._mediaQueryList = this._browser.window.nativeComponent.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);\r\n        this._mediaQueryList.addEventListener('change', this._pixelRatioChangeHandler);\r\n        this._canvas.addEventListener('fullscreenchange', this._fullscreenChangeHandler);\r\n        this.applyResolutionAndViewport();\r\n    }\r\n    dispose() {\r\n        if (!this._isDisposed) {\r\n            // Clean up handlers\r\n            this._isDisposed = true;\r\n            this._browser.window.off('resize', this._resizeHandler);\r\n            if (this._resizeObserver) {\r\n                this._resizeObserver.disconnect();\r\n            }\r\n            this.parent.removeEventListener('resize', this._resizeHandler);\r\n            this._mediaQueryList.removeEventListener('change', this._pixelRatioChangeHandler);\r\n            this._canvas.removeEventListener('fullscreenchange', this._fullscreenChangeHandler);\r\n        }\r\n    }\r\n    _calculateDevicePixelRatio() {\r\n        if (window.devicePixelRatio < 1) {\r\n            return 1;\r\n        }\r\n        const devicePixelRatio = window.devicePixelRatio || 1;\r\n        return devicePixelRatio;\r\n    }\r\n    get pixelRatio() {\r\n        if (this._pixelRatioOverride) {\r\n            return this._pixelRatioOverride;\r\n        }\r\n        return this._devicePixelRatio;\r\n    }\r\n    get isHiDpi() {\r\n        return this.pixelRatio !== 1;\r\n    }\r\n    get displayMode() {\r\n        return this._displayMode;\r\n    }\r\n    get canvas() {\r\n        return this._canvas;\r\n    }\r\n    get parent() {\r\n        return ((this.displayMode === DisplayMode.FillContainer || this.displayMode === DisplayMode.FitContainer\r\n            ? this.canvas.parentElement || document.body\r\n            : window));\r\n    }\r\n    get resolution() {\r\n        return this._resolution;\r\n    }\r\n    set resolution(resolution) {\r\n        this._resolution = resolution;\r\n    }\r\n    get viewport() {\r\n        if (this._viewport) {\r\n            return this._viewport;\r\n        }\r\n        return this._resolution;\r\n    }\r\n    set viewport(viewport) {\r\n        this._viewport = viewport;\r\n    }\r\n    get aspectRatio() {\r\n        return this._resolution.width / this._resolution.height;\r\n    }\r\n    get scaledWidth() {\r\n        return this._resolution.width * this.pixelRatio;\r\n    }\r\n    get scaledHeight() {\r\n        return this._resolution.height * this.pixelRatio;\r\n    }\r\n    setCurrentCamera(camera) {\r\n        this._camera = camera;\r\n    }\r\n    pushResolutionAndViewport() {\r\n        this._resolutionStack.push(this.resolution);\r\n        this._viewportStack.push(this.viewport);\r\n        this.resolution = Object.assign({}, this.resolution);\r\n        this.viewport = Object.assign({}, this.viewport);\r\n    }\r\n    peekViewport() {\r\n        return this._viewportStack[this._viewportStack.length - 1];\r\n    }\r\n    peekResolution() {\r\n        return this._resolutionStack[this._resolutionStack.length - 1];\r\n    }\r\n    popResolutionAndViewport() {\r\n        this.resolution = this._resolutionStack.pop();\r\n        this.viewport = this._viewportStack.pop();\r\n    }\r\n    applyResolutionAndViewport() {\r\n        this._canvas.width = this.scaledWidth;\r\n        this._canvas.height = this.scaledHeight;\r\n        if (this._ctx instanceof ExcaliburGraphicsContextWebGL) {\r\n            const supported = this._ctx.checkIfResolutionSupported({\r\n                width: this.scaledWidth,\r\n                height: this.scaledHeight\r\n            });\r\n            if (!supported && !this._alreadyWarned) {\r\n                this._alreadyWarned = true; // warn once\r\n                this._logger.warn(`The currently configured resolution (${this.resolution.width}x${this.resolution.height})` +\r\n                    ' is too large for the platform WebGL implementation, this may work but cause WebGL rendering to behave oddly.' +\r\n                    ' Try reducing the resolution or disabling Hi DPI scaling to avoid this' +\r\n                    ' (read more here https://excaliburjs.com/docs/screens#understanding-viewport--resolution).');\r\n            }\r\n        }\r\n        if (this._antialiasing) {\r\n            this._canvas.style.imageRendering = 'auto';\r\n        }\r\n        else {\r\n            this._canvas.style.imageRendering = 'pixelated';\r\n            // Fall back to 'crisp-edges' if 'pixelated' is not supported\r\n            // Currently for firefox https://developer.mozilla.org/en-US/docs/Web/CSS/image-rendering\r\n            if (this._canvas.style.imageRendering === '') {\r\n                this._canvas.style.imageRendering = 'crisp-edges';\r\n            }\r\n        }\r\n        this._canvas.style.width = this.viewport.width + 'px';\r\n        this._canvas.style.height = this.viewport.height + 'px';\r\n        // After messing with the canvas width/height the graphics context is invalidated and needs to have some properties reset\r\n        this._ctx.updateViewport();\r\n        this._ctx.resetTransform();\r\n        this._ctx.scale(this.pixelRatio, this.pixelRatio);\r\n        this._ctx.smoothing = this._antialiasing;\r\n    }\r\n    get antialiasing() {\r\n        return this._antialiasing;\r\n    }\r\n    set antialiasing(isSmooth) {\r\n        this._antialiasing = isSmooth;\r\n        this._ctx.smoothing = this._antialiasing;\r\n    }\r\n    /**\r\n     * Returns true if excalibur is fullscreened using the browser fullscreen api\r\n     */\r\n    get isFullScreen() {\r\n        return this._isFullScreen;\r\n    }\r\n    /**\r\n     * Requests to go fullscreen using the browser fullscreen api, requires user interaction to be successful.\r\n     * For example, wire this to a user click handler.\r\n     */\r\n    goFullScreen() {\r\n        return this._canvas.requestFullscreen();\r\n    }\r\n    /**\r\n     * Requests to exit fullscreen using the browser fullscreen api\r\n     */\r\n    exitFullScreen() {\r\n        return document.exitFullscreen();\r\n    }\r\n    /**\r\n     * Takes a coordinate in normal html page space, for example from a pointer move event, and translates it to\r\n     * Excalibur screen space.\r\n     *\r\n     * Excalibur screen space starts at the top left (0, 0) corner of the viewport, and extends to the\r\n     * bottom right corner (resolutionX, resolutionY)\r\n     * @param point\r\n     */\r\n    pageToScreenCoordinates(point) {\r\n        let newX = point.x;\r\n        let newY = point.y;\r\n        if (!this._isFullScreen) {\r\n            newX -= getPosition(this._canvas).x;\r\n            newY -= getPosition(this._canvas).y;\r\n        }\r\n        // if fullscreen api on it centers with black bars\r\n        // we need to adjust the screen to world coordinates in this case\r\n        if (this._isFullScreen) {\r\n            if (window.innerWidth / this.aspectRatio < window.innerHeight) {\r\n                const screenHeight = window.innerWidth / this.aspectRatio;\r\n                const screenMarginY = (window.innerHeight - screenHeight) / 2;\r\n                newY = ((newY - screenMarginY) / screenHeight) * this.viewport.height;\r\n                newX = (newX / window.innerWidth) * this.viewport.width;\r\n            }\r\n            else {\r\n                const screenWidth = window.innerHeight * this.aspectRatio;\r\n                const screenMarginX = (window.innerWidth - screenWidth) / 2;\r\n                newX = ((newX - screenMarginX) / screenWidth) * this.viewport.width;\r\n                newY = (newY / window.innerHeight) * this.viewport.height;\r\n            }\r\n        }\r\n        newX = (newX / this.viewport.width) * this.resolution.width;\r\n        newY = (newY / this.viewport.height) * this.resolution.height;\r\n        return new Vector(newX, newY);\r\n    }\r\n    /**\r\n     * Takes a coordinate in Excalibur screen space, and translates it to normal html page space. For example,\r\n     * this is where html elements might live if you want to position them relative to Excalibur.\r\n     *\r\n     * Excalibur screen space starts at the top left (0, 0) corner of the viewport, and extends to the\r\n     * bottom right corner (resolutionX, resolutionY)\r\n     * @param point\r\n     */\r\n    screenToPageCoordinates(point) {\r\n        let newX = point.x;\r\n        let newY = point.y;\r\n        newX = (newX / this.resolution.width) * this.viewport.width;\r\n        newY = (newY / this.resolution.height) * this.viewport.height;\r\n        if (this._isFullScreen) {\r\n            if (window.innerWidth / this.aspectRatio < window.innerHeight) {\r\n                const screenHeight = window.innerWidth / this.aspectRatio;\r\n                const screenMarginY = (window.innerHeight - screenHeight) / 2;\r\n                newY = (newY / this.viewport.height) * screenHeight + screenMarginY;\r\n                newX = (newX / this.viewport.width) * window.innerWidth;\r\n            }\r\n            else {\r\n                const screenWidth = window.innerHeight * this.aspectRatio;\r\n                const screenMarginX = (window.innerWidth - screenWidth) / 2;\r\n                newX = (newX / this.viewport.width) * screenWidth + screenMarginX;\r\n                newY = (newY / this.viewport.height) * window.innerHeight;\r\n            }\r\n        }\r\n        if (!this._isFullScreen) {\r\n            newX += getPosition(this._canvas).x;\r\n            newY += getPosition(this._canvas).y;\r\n        }\r\n        return new Vector(newX, newY);\r\n    }\r\n    /**\r\n     * Takes a coordinate in Excalibur screen space, and translates it to Excalibur world space.\r\n     *\r\n     * World space is where [[Entity|entities]] in Excalibur live by default [[CoordPlane.World]]\r\n     * and extends infinitely out relative from the [[Camera]].\r\n     * @param point  Screen coordinate to convert\r\n     */\r\n    screenToWorldCoordinates(point) {\r\n        var _a, _b, _c, _d;\r\n        let newX = point.x;\r\n        let newY = point.y;\r\n        // transform back to world space\r\n        newX = (newX / this.resolution.width) * this.drawWidth;\r\n        newY = (newY / this.resolution.height) * this.drawHeight;\r\n        // transform based on zoom\r\n        newX = newX - this.halfDrawWidth;\r\n        newY = newY - this.halfDrawHeight;\r\n        // shift by camera focus\r\n        newX += (_b = (_a = this._camera) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : 0;\r\n        newY += (_d = (_c = this._camera) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : 0;\r\n        return new Vector(newX, newY);\r\n    }\r\n    /**\r\n     * Takes a coordinate in Excalibur world space, and translates it to Excalibur screen space.\r\n     *\r\n     * Screen space is where [[ScreenElement|screen elements]] and [[Entity|entities]] with [[CoordPlane.Screen]] live.\r\n     * @param point  World coordinate to convert\r\n     */\r\n    worldToScreenCoordinates(point) {\r\n        var _a, _b, _c, _d;\r\n        let screenX = point.x;\r\n        let screenY = point.y;\r\n        // shift by camera focus\r\n        screenX -= (_b = (_a = this._camera) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : 0;\r\n        screenY -= (_d = (_c = this._camera) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : 0;\r\n        // transform back on zoom\r\n        screenX = screenX + this.halfDrawWidth;\r\n        screenY = screenY + this.halfDrawHeight;\r\n        // transform back to screen space\r\n        screenX = (screenX / this.drawWidth) * this.resolution.width;\r\n        screenY = (screenY / this.drawHeight) * this.resolution.height;\r\n        return new Vector(screenX, screenY);\r\n    }\r\n    pageToWorldCoordinates(point) {\r\n        const screen = this.pageToScreenCoordinates(point);\r\n        return this.screenToWorldCoordinates(screen);\r\n    }\r\n    worldToPageCoordinates(point) {\r\n        const screen = this.worldToScreenCoordinates(point);\r\n        return this.screenToPageCoordinates(screen);\r\n    }\r\n    /**\r\n     * Returns a BoundingBox of the top left corner of the screen\r\n     * and the bottom right corner of the screen.\r\n     *\r\n     * World bounds are in world coordinates, useful for culling objects offscreen\r\n     */\r\n    getWorldBounds() {\r\n        const left = this.screenToWorldCoordinates(Vector.Zero).x;\r\n        const top = this.screenToWorldCoordinates(Vector.Zero).y;\r\n        const right = left + this.drawWidth;\r\n        const bottom = top + this.drawHeight;\r\n        return new BoundingBox(left, top, right, bottom);\r\n    }\r\n    /**\r\n     * The width of the game canvas in pixels (physical width component of the\r\n     * resolution of the canvas element)\r\n     */\r\n    get canvasWidth() {\r\n        return this.canvas.width;\r\n    }\r\n    /**\r\n     * Returns half width of the game canvas in pixels (half physical width component)\r\n     */\r\n    get halfCanvasWidth() {\r\n        return this.canvas.width / 2;\r\n    }\r\n    /**\r\n     * The height of the game canvas in pixels, (physical height component of\r\n     * the resolution of the canvas element)\r\n     */\r\n    get canvasHeight() {\r\n        return this.canvas.height;\r\n    }\r\n    /**\r\n     * Returns half height of the game canvas in pixels (half physical height component)\r\n     */\r\n    get halfCanvasHeight() {\r\n        return this.canvas.height / 2;\r\n    }\r\n    /**\r\n     * Returns the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\r\n     */\r\n    get drawWidth() {\r\n        if (this._camera) {\r\n            return this.resolution.width / this._camera.zoom;\r\n        }\r\n        return this.resolution.width;\r\n    }\r\n    /**\r\n     * Returns half the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\r\n     */\r\n    get halfDrawWidth() {\r\n        return this.drawWidth / 2;\r\n    }\r\n    /**\r\n     * Returns the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\r\n     */\r\n    get drawHeight() {\r\n        if (this._camera) {\r\n            return this.resolution.height / this._camera.zoom;\r\n        }\r\n        return this.resolution.height;\r\n    }\r\n    /**\r\n     * Returns half the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\r\n     */\r\n    get halfDrawHeight() {\r\n        return this.drawHeight / 2;\r\n    }\r\n    /**\r\n     * Returns screen center coordinates including zoom and device pixel ratio.\r\n     */\r\n    get center() {\r\n        return vec(this.halfDrawWidth, this.halfDrawHeight);\r\n    }\r\n    _computeFit() {\r\n        document.body.style.margin = '0px';\r\n        document.body.style.overflow = 'hidden';\r\n        const aspect = this.aspectRatio;\r\n        let adjustedWidth = 0;\r\n        let adjustedHeight = 0;\r\n        if (window.innerWidth / aspect < window.innerHeight) {\r\n            adjustedWidth = window.innerWidth;\r\n            adjustedHeight = window.innerWidth / aspect;\r\n        }\r\n        else {\r\n            adjustedWidth = window.innerHeight * aspect;\r\n            adjustedHeight = window.innerHeight;\r\n        }\r\n        this.viewport = {\r\n            width: adjustedWidth,\r\n            height: adjustedHeight\r\n        };\r\n    }\r\n    _computeFitContainer() {\r\n        const aspect = this.aspectRatio;\r\n        let adjustedWidth = 0;\r\n        let adjustedHeight = 0;\r\n        const parent = this.canvas.parentElement;\r\n        if (parent.clientWidth / aspect < parent.clientHeight) {\r\n            adjustedWidth = parent.clientWidth;\r\n            adjustedHeight = parent.clientWidth / aspect;\r\n        }\r\n        else {\r\n            adjustedWidth = parent.clientHeight * aspect;\r\n            adjustedHeight = parent.clientHeight;\r\n        }\r\n        this.viewport = {\r\n            width: adjustedWidth,\r\n            height: adjustedHeight\r\n        };\r\n    }\r\n    _applyDisplayMode() {\r\n        if (this.displayMode === DisplayMode.Position) {\r\n            this._initializeDisplayModePosition(this._position);\r\n        }\r\n        else {\r\n            this._setResolutionAndViewportByDisplayMode(this.parent);\r\n            // watch resizing\r\n            if (this.parent instanceof Window) {\r\n                this._browser.window.on('resize', this._resizeHandler);\r\n            }\r\n            else {\r\n                this._resizeObserver = new ResizeObserver(() => {\r\n                    this._resizeHandler();\r\n                });\r\n                this._resizeObserver.observe(this.parent);\r\n            }\r\n            this.parent.addEventListener('resize', this._resizeHandler);\r\n        }\r\n    }\r\n    /**\r\n     * Sets the resoultion and viewport based on the selected display mode.\r\n     */\r\n    _setResolutionAndViewportByDisplayMode(parent) {\r\n        if (this.displayMode === DisplayMode.FillContainer) {\r\n            this.resolution = {\r\n                width: parent.clientWidth,\r\n                height: parent.clientHeight\r\n            };\r\n            this.viewport = this.resolution;\r\n        }\r\n        if (this.displayMode === DisplayMode.FillScreen) {\r\n            document.body.style.margin = '0px';\r\n            document.body.style.overflow = 'hidden';\r\n            this.resolution = {\r\n                width: parent.innerWidth,\r\n                height: parent.innerHeight\r\n            };\r\n            this.viewport = this.resolution;\r\n        }\r\n        if (this.displayMode === DisplayMode.FitScreen) {\r\n            this._computeFit();\r\n        }\r\n        if (this.displayMode === DisplayMode.FitContainer) {\r\n            this._computeFitContainer();\r\n        }\r\n    }\r\n    _initializeDisplayModePosition(position) {\r\n        if (!position) {\r\n            throw new Error('DisplayMode of Position was selected but no position option was given');\r\n        }\r\n        else {\r\n            this.canvas.style.display = 'block';\r\n            this.canvas.style.position = 'absolute';\r\n            if (typeof position === 'string') {\r\n                const specifiedPosition = position.split(' ');\r\n                switch (specifiedPosition[0]) {\r\n                    case 'top':\r\n                        this.canvas.style.top = '0px';\r\n                        break;\r\n                    case 'bottom':\r\n                        this.canvas.style.bottom = '0px';\r\n                        break;\r\n                    case 'middle':\r\n                        this.canvas.style.top = '50%';\r\n                        const offsetY = -this.halfDrawHeight;\r\n                        this.canvas.style.marginTop = offsetY.toString();\r\n                        break;\r\n                    default:\r\n                        throw new Error('Invalid Position Given');\r\n                }\r\n                if (specifiedPosition[1]) {\r\n                    switch (specifiedPosition[1]) {\r\n                        case 'left':\r\n                            this.canvas.style.left = '0px';\r\n                            break;\r\n                        case 'right':\r\n                            this.canvas.style.right = '0px';\r\n                            break;\r\n                        case 'center':\r\n                            this.canvas.style.left = '50%';\r\n                            const offsetX = -this.halfDrawWidth;\r\n                            this.canvas.style.marginLeft = offsetX.toString();\r\n                            break;\r\n                        default:\r\n                            throw new Error('Invalid Position Given');\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (position.top) {\r\n                    typeof position.top === 'number'\r\n                        ? (this.canvas.style.top = position.top.toString() + 'px')\r\n                        : (this.canvas.style.top = position.top);\r\n                }\r\n                if (position.right) {\r\n                    typeof position.right === 'number'\r\n                        ? (this.canvas.style.right = position.right.toString() + 'px')\r\n                        : (this.canvas.style.right = position.right);\r\n                }\r\n                if (position.bottom) {\r\n                    typeof position.bottom === 'number'\r\n                        ? (this.canvas.style.bottom = position.bottom.toString() + 'px')\r\n                        : (this.canvas.style.bottom = position.bottom);\r\n                }\r\n                if (position.left) {\r\n                    typeof position.left === 'number'\r\n                        ? (this.canvas.style.left = position.left.toString() + 'px')\r\n                        : (this.canvas.style.left = position.left);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Resources/Sound/AudioContext.ts\n/**\r\n * Internal class used to build instances of AudioContext\r\n */\r\n/* istanbul ignore next */\r\nclass AudioContextFactory {\r\n    static create() {\r\n        if (!this._INSTANCE) {\r\n            if (window.AudioContext || window.webkitAudioContext) {\r\n                this._INSTANCE = new AudioContext();\r\n            }\r\n        }\r\n        return this._INSTANCE;\r\n    }\r\n}\r\nAudioContextFactory._INSTANCE = null;\r\n\n;// CONCATENATED MODULE: ./Util/WebAudio.ts\n\r\n\r\n/**\r\n * Patch for detecting legacy web audio in browsers\r\n * @internal\r\n * @param source\r\n */\r\nfunction isLegacyWebAudioSource(source) {\r\n    return !!source.playbackState;\r\n}\r\nclass WebAudio {\r\n    /**\r\n     * Play an empty sound to unlock Safari WebAudio context. Call this function\r\n     * right after a user interaction event.\r\n     * @source https://paulbakaus.com/tutorials/html5/web-audio-on-ios/\r\n     */\r\n    static unlock() {\r\n        const promise = new Promise((resolve, reject) => {\r\n            if (WebAudio._UNLOCKED || !AudioContextFactory.create()) {\r\n                return resolve(true);\r\n            }\r\n            const unlockTimeoutTimer = setTimeout(() => {\r\n                Logger.getInstance().warn('Excalibur was unable to unlock the audio context, audio probably will not play in this browser.');\r\n                resolve(false);\r\n            }, 200);\r\n            const audioContext = AudioContextFactory.create();\r\n            audioContext.resume().then(() => {\r\n                // create empty buffer and play it\r\n                const buffer = audioContext.createBuffer(1, 1, 22050);\r\n                const source = audioContext.createBufferSource();\r\n                let ended = false;\r\n                source.buffer = buffer;\r\n                source.connect(audioContext.destination);\r\n                source.onended = () => (ended = true);\r\n                source.start(0);\r\n                // by checking the play state after some time, we know if we're really unlocked\r\n                setTimeout(() => {\r\n                    if (isLegacyWebAudioSource(source)) {\r\n                        if (source.playbackState === source.PLAYING_STATE || source.playbackState === source.FINISHED_STATE) {\r\n                            WebAudio._UNLOCKED = true;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (audioContext.currentTime > 0 || ended) {\r\n                            WebAudio._UNLOCKED = true;\r\n                        }\r\n                    }\r\n                }, 0);\r\n                clearTimeout(unlockTimeoutTimer);\r\n                resolve(true);\r\n            }, () => {\r\n                reject();\r\n            });\r\n        });\r\n        return promise;\r\n    }\r\n    static isUnlocked() {\r\n        return this._UNLOCKED;\r\n    }\r\n}\r\nWebAudio._UNLOCKED = false;\r\n\n;// CONCATENATED MODULE: ./Class.ts\n\r\n/**\r\n * Excalibur base class that provides basic functionality such as [[EventDispatcher]]\r\n * and extending abilities for vanilla Javascript projects\r\n */\r\nclass Class {\r\n    constructor() {\r\n        this.eventDispatcher = new EventDispatcher(this);\r\n    }\r\n    /**\r\n     * Alias for `addEventListener`. You can listen for a variety of\r\n     * events off of the engine; see the events section below for a complete list.\r\n     * @param eventName  Name of the event to listen for\r\n     * @param handler    Event handler for the thrown event\r\n     */\r\n    on(eventName, handler) {\r\n        this.eventDispatcher.on(eventName, handler);\r\n    }\r\n    /**\r\n     * Alias for `removeEventListener`. If only the eventName is specified\r\n     * it will remove all handlers registered for that specific event. If the eventName\r\n     * and the handler instance are specified only that handler will be removed.\r\n     *\r\n     * @param eventName  Name of the event to listen for\r\n     * @param handler    Event handler for the thrown event\r\n     */\r\n    off(eventName, handler) {\r\n        this.eventDispatcher.off(eventName, handler);\r\n    }\r\n    /**\r\n     * Emits a new event\r\n     * @param eventName   Name of the event to emit\r\n     * @param eventObject Data associated with this event\r\n     */\r\n    emit(eventName, eventObject) {\r\n        this.eventDispatcher.emit(eventName, eventObject);\r\n    }\r\n    /**\r\n     * Once listens to an event one time, then unsubscribes from that event\r\n     *\r\n     * @param eventName The name of the event to subscribe to once\r\n     * @param handler   The handler of the event that will be auto unsubscribed\r\n     */\r\n    once(eventName, handler) {\r\n        this.eventDispatcher.once(eventName, handler);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Util/DrawUtil.ts\n\r\n/* istanbul ignore next */\r\n/**\r\n * Draw a line on canvas context\r\n *\r\n * @param ctx The canvas context\r\n * @param color The color of the line\r\n * @param x1 The start x coordinate\r\n * @param y1 The start y coordinate\r\n * @param x2 The ending x coordinate\r\n * @param y2 The ending y coordinate\r\n * @param thickness The line thickness\r\n * @param cap The [[LineCapStyle]] (butt, round, or square)\r\n */\r\nfunction line(ctx, color = Color.Red, x1, y1, x2, y2, thickness = 1, cap = 'butt') {\r\n    ctx.beginPath();\r\n    ctx.lineWidth = thickness;\r\n    ctx.lineCap = cap;\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.moveTo(x1, y1);\r\n    ctx.lineTo(x2, y2);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n}\r\n/* istanbul ignore next */\r\n/**\r\n * Draw the vector as a point onto the canvas.\r\n */\r\nfunction point(ctx, color = Color.Red, point) {\r\n    ctx.beginPath();\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n}\r\n/**\r\n * Draw the vector as a line onto the canvas starting a origin point.\r\n */\r\n/* istanbul ignore next */\r\n/**\r\n *\r\n */\r\nfunction vector(ctx, color, origin, vector, scale = 1.0) {\r\n    const c = color ? color.toString() : 'blue';\r\n    const v = vector.scale(scale);\r\n    ctx.beginPath();\r\n    ctx.strokeStyle = c;\r\n    ctx.moveTo(origin.x, origin.y);\r\n    ctx.lineTo(origin.x + v.x, origin.y + v.y);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n}\r\n/**\r\n * Draw a round rectangle on a canvas context\r\n *\r\n * @param ctx The canvas context\r\n * @param x The top-left x coordinate\r\n * @param y The top-left y coordinate\r\n * @param width The width of the rectangle\r\n * @param height The height of the rectangle\r\n * @param radius The border radius of the rectangle\r\n * @param stroke The [[Color]] to stroke rectangle with\r\n * @param fill The [[Color]] to fill rectangle with\r\n */\r\nfunction roundRect(ctx, x, y, width, height, radius = 5, stroke = Color.White, fill = null) {\r\n    let br;\r\n    if (typeof radius === 'number') {\r\n        br = { tl: radius, tr: radius, br: radius, bl: radius };\r\n    }\r\n    else {\r\n        const defaultRadius = { tl: 0, tr: 0, br: 0, bl: 0 };\r\n        for (const prop in defaultRadius) {\r\n            if (defaultRadius.hasOwnProperty(prop)) {\r\n                const side = prop;\r\n                br[side] = radius[side] || defaultRadius[side];\r\n            }\r\n        }\r\n    }\r\n    ctx.beginPath();\r\n    ctx.moveTo(x + br.tl, y);\r\n    ctx.lineTo(x + width - br.tr, y);\r\n    ctx.quadraticCurveTo(x + width, y, x + width, y + br.tr);\r\n    ctx.lineTo(x + width, y + height - br.br);\r\n    ctx.quadraticCurveTo(x + width, y + height, x + width - br.br, y + height);\r\n    ctx.lineTo(x + br.bl, y + height);\r\n    ctx.quadraticCurveTo(x, y + height, x, y + height - br.bl);\r\n    ctx.lineTo(x, y + br.tl);\r\n    ctx.quadraticCurveTo(x, y, x + br.tl, y);\r\n    ctx.closePath();\r\n    if (fill) {\r\n        ctx.fillStyle = fill.toString();\r\n        ctx.fill();\r\n    }\r\n    if (stroke) {\r\n        ctx.strokeStyle = stroke.toString();\r\n        ctx.stroke();\r\n    }\r\n}\r\n/**\r\n *\r\n */\r\nfunction circle(ctx, x, y, radius, stroke = Color.White, fill = null) {\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, radius, 0, Math.PI * 2);\r\n    ctx.closePath();\r\n    if (fill) {\r\n        ctx.fillStyle = fill.toString();\r\n        ctx.fill();\r\n    }\r\n    if (stroke) {\r\n        ctx.strokeStyle = stroke.toString();\r\n        ctx.stroke();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Loader.logo.png\n/* harmony default export */ const Loader_logo = (\"data:image/png;base64,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\");\n// EXTERNAL MODULE: ./Loader.css\nvar Loader_0 = __webpack_require__(1388);\n;// CONCATENATED MODULE: ./Loader.ts\nvar Loader_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Pre-loading assets\r\n *\r\n * The loader provides a mechanism to preload multiple resources at\r\n * one time. The loader must be passed to the engine in order to\r\n * trigger the loading progress bar.\r\n *\r\n * The [[Loader]] itself implements [[Loadable]] so you can load loaders.\r\n *\r\n * ## Example: Pre-loading resources for a game\r\n *\r\n * ```js\r\n * // create a loader\r\n * var loader = new ex.Loader();\r\n *\r\n * // create a resource dictionary (best practice is to keep a separate file)\r\n * var resources = {\r\n *   TextureGround: new ex.Texture(\"/images/textures/ground.png\"),\r\n *   SoundDeath: new ex.Sound(\"/sound/death.wav\", \"/sound/death.mp3\")\r\n * };\r\n *\r\n * // loop through dictionary and add to loader\r\n * for (var loadable in resources) {\r\n *   if (resources.hasOwnProperty(loadable)) {\r\n *     loader.addResource(resources[loadable]);\r\n *   }\r\n * }\r\n *\r\n * // start game\r\n * game.start(loader).then(function () {\r\n *   console.log(\"Game started!\");\r\n * });\r\n * ```\r\n *\r\n * ## Customize the Loader\r\n *\r\n * The loader can be customized to show different, text, logo, background color, and button.\r\n *\r\n * ```typescript\r\n * const loader = new ex.Loader([playerTexture]);\r\n *\r\n * // The loaders button text can simply modified using this\r\n * loader.playButtonText = 'Start the best game ever';\r\n *\r\n * // The logo can be changed by inserting a base64 image string here\r\n *\r\n * loader.logo = 'data:image/png;base64,iVBORw...';\r\n * loader.logoWidth = 15;\r\n * loader.logoHeight = 14;\r\n *\r\n * // The background color can be changed like so by supplying a valid CSS color string\r\n *\r\n * loader.backgroundColor = 'red'\r\n * loader.backgroundColor = '#176BAA'\r\n *\r\n * // To build a completely new button\r\n * loader.startButtonFactory = () => {\r\n *     let myButton = document.createElement('button');\r\n *     myButton.textContent = 'The best button';\r\n *     return myButton;\r\n * };\r\n *\r\n * engine.start(loader).then(() => {});\r\n * ```\r\n */\r\nclass Loader extends Class {\r\n    /**\r\n     * @param loadables  Optionally provide the list of resources you want to load at constructor time\r\n     */\r\n    constructor(loadables) {\r\n        super();\r\n        this.canvas = new Canvas({\r\n            smoothing: true,\r\n            draw: this.draw.bind(this)\r\n        });\r\n        this._resourceList = [];\r\n        this._index = 0;\r\n        this._playButtonShown = false;\r\n        this._resourceCount = 0;\r\n        this._numLoaded = 0;\r\n        this._progressCounts = {};\r\n        this._totalCounts = {};\r\n        // logo drawing stuff\r\n        // base64 string encoding of the excalibur logo (logo-white.png)\r\n        this.logo = Loader_logo;\r\n        this.logoWidth = 468;\r\n        this.logoHeight = 118;\r\n        /**\r\n         * Gets or sets the color of the loading bar, default is [[Color.White]]\r\n         */\r\n        this.loadingBarColor = Color.White;\r\n        /**\r\n         * Gets or sets the background color of the loader as a hex string\r\n         */\r\n        this.backgroundColor = '#176BAA';\r\n        this.suppressPlayButton = false;\r\n        /** Loads the css from Loader.css */\r\n        this._playButtonStyles = Loader_0/* default.toString */.Z.toString();\r\n        /**\r\n         * Get/set play button text\r\n         */\r\n        this.playButtonText = 'Play game';\r\n        /**\r\n         * Return a html button element for excalibur to use as a play button\r\n         */\r\n        this.startButtonFactory = () => {\r\n            let buttonElement = document.getElementById('excalibur-play');\r\n            if (!buttonElement) {\r\n                buttonElement = document.createElement('button');\r\n            }\r\n            buttonElement.id = 'excalibur-play';\r\n            buttonElement.textContent = this.playButtonText;\r\n            buttonElement.style.display = 'none';\r\n            return buttonElement;\r\n        };\r\n        if (loadables) {\r\n            this.addResources(loadables);\r\n        }\r\n    }\r\n    get _image() {\r\n        if (!this._imageElement) {\r\n            this._imageElement = new Image();\r\n            this._imageElement.src = this.logo;\r\n        }\r\n        return this._imageElement;\r\n    }\r\n    get playButtonRootElement() {\r\n        return this._playButtonRootElement;\r\n    }\r\n    get playButtonElement() {\r\n        return this._playButtonElement;\r\n    }\r\n    get _playButton() {\r\n        const existingRoot = document.getElementById('excalibur-play-root');\r\n        if (existingRoot) {\r\n            this._playButtonRootElement = existingRoot;\r\n        }\r\n        if (!this._playButtonRootElement) {\r\n            this._playButtonRootElement = document.createElement('div');\r\n            this._playButtonRootElement.id = 'excalibur-play-root';\r\n            this._playButtonRootElement.style.position = 'absolute';\r\n            document.body.appendChild(this._playButtonRootElement);\r\n        }\r\n        if (!this._styleBlock) {\r\n            this._styleBlock = document.createElement('style');\r\n            this._styleBlock.textContent = this._playButtonStyles;\r\n            document.head.appendChild(this._styleBlock);\r\n        }\r\n        if (!this._playButtonElement) {\r\n            this._playButtonElement = this.startButtonFactory();\r\n            this._playButtonRootElement.appendChild(this._playButtonElement);\r\n        }\r\n        return this._playButtonElement;\r\n    }\r\n    wireEngine(engine) {\r\n        this._engine = engine;\r\n        this.canvas.width = this._engine.canvas.width;\r\n        this.canvas.height = this._engine.canvas.height;\r\n    }\r\n    /**\r\n     * Add a resource to the loader to load\r\n     * @param loadable  Resource to add\r\n     */\r\n    addResource(loadable) {\r\n        const key = this._index++;\r\n        this._resourceList.push(loadable);\r\n        this._progressCounts[key] = 0;\r\n        this._totalCounts[key] = 1;\r\n        this._resourceCount++;\r\n    }\r\n    /**\r\n     * Add a list of resources to the loader to load\r\n     * @param loadables  The list of resources to load\r\n     */\r\n    addResources(loadables) {\r\n        let i = 0;\r\n        const len = loadables.length;\r\n        for (i; i < len; i++) {\r\n            this.addResource(loadables[i]);\r\n        }\r\n    }\r\n    /**\r\n     * Returns true if the loader has completely loaded all resources\r\n     */\r\n    isLoaded() {\r\n        return this._numLoaded === this._resourceCount;\r\n    }\r\n    /**\r\n     * Shows the play button and returns a promise that resolves when clicked\r\n     */\r\n    showPlayButton() {\r\n        var _a;\r\n        if (this.suppressPlayButton) {\r\n            this.hidePlayButton();\r\n            return Promise.resolve();\r\n        }\r\n        else {\r\n            const resizeHandler = () => {\r\n                this._positionPlayButton();\r\n            };\r\n            if ((_a = this._engine) === null || _a === void 0 ? void 0 : _a.browser) {\r\n                this._engine.browser.window.on('resize', resizeHandler);\r\n            }\r\n            this._playButtonShown = true;\r\n            this._playButton.style.display = 'block';\r\n            document.body.addEventListener('keyup', (evt) => {\r\n                if (evt.key === 'Enter') {\r\n                    this._playButton.click();\r\n                }\r\n            });\r\n            const promise = new Promise((resolve) => {\r\n                const startButtonHandler = (e) => {\r\n                    var _a;\r\n                    // We want to stop propogation to keep bubbling to the engine pointer handlers\r\n                    e.stopPropagation();\r\n                    // Hide Button after click\r\n                    this.hidePlayButton();\r\n                    if ((_a = this._engine) === null || _a === void 0 ? void 0 : _a.browser) {\r\n                        this._engine.browser.window.off('resize', resizeHandler);\r\n                    }\r\n                    resolve();\r\n                };\r\n                this._playButton.addEventListener('click', startButtonHandler);\r\n                this._playButton.addEventListener('touchend', startButtonHandler);\r\n                this._playButton.addEventListener('pointerup', startButtonHandler);\r\n            });\r\n            return promise;\r\n        }\r\n    }\r\n    hidePlayButton() {\r\n        this._playButtonShown = false;\r\n        this._playButton.style.display = 'none';\r\n    }\r\n    /**\r\n     * Clean up generated elements for the loader\r\n     */\r\n    dispose() {\r\n        if (this._playButtonRootElement.parentElement) {\r\n            this._playButtonRootElement.removeChild(this._playButtonElement);\r\n            document.body.removeChild(this._playButtonRootElement);\r\n            document.head.removeChild(this._styleBlock);\r\n            this._playButtonRootElement = null;\r\n            this._playButtonElement = null;\r\n            this._styleBlock = null;\r\n        }\r\n    }\r\n    update(_engine, _delta) {\r\n        // override me\r\n    }\r\n    /**\r\n     * Begin loading all of the supplied resources, returning a promise\r\n     * that resolves when loading of all is complete\r\n     */\r\n    load() {\r\n        return Loader_awaiter(this, void 0, void 0, function* () {\r\n            yield Promise.all(this._resourceList.map((r) => r.load().finally(() => {\r\n                // capture progress\r\n                this._numLoaded++;\r\n            })));\r\n            // short delay in showing the button for aesthetics\r\n            yield delay(200);\r\n            yield this.showPlayButton();\r\n            // Unlock browser AudioContext in after user gesture\r\n            // See: https://github.com/excaliburjs/Excalibur/issues/262\r\n            // See: https://github.com/excaliburjs/Excalibur/issues/1031\r\n            yield WebAudio.unlock();\r\n            return (this.data = this._resourceList);\r\n        });\r\n    }\r\n    markResourceComplete() {\r\n        this._numLoaded++;\r\n    }\r\n    /**\r\n     * Returns the progess of the loader as a number between [0, 1] inclusive.\r\n     */\r\n    get progress() {\r\n        return this._resourceCount > 0 ? clamp(this._numLoaded, 0, this._resourceCount) / this._resourceCount : 1;\r\n    }\r\n    _positionPlayButton() {\r\n        const screenHeight = this._engine.screen.viewport.height;\r\n        const screenWidth = this._engine.screen.viewport.width;\r\n        if (this._playButtonRootElement) {\r\n            const left = this._engine.canvas.offsetLeft;\r\n            const top = this._engine.canvas.offsetTop;\r\n            const buttonWidth = this._playButton.clientWidth;\r\n            const buttonHeight = this._playButton.clientHeight;\r\n            if (this.playButtonPosition) {\r\n                this._playButtonRootElement.style.left = `${this.playButtonPosition.x}px`;\r\n                this._playButtonRootElement.style.top = `${this.playButtonPosition.y}px`;\r\n            }\r\n            else {\r\n                this._playButtonRootElement.style.left = `${left + screenWidth / 2 - buttonWidth / 2}px`;\r\n                this._playButtonRootElement.style.top = `${top + screenHeight / 2 - buttonHeight / 2 + 100}px`;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Loader draw function. Draws the default Excalibur loading screen.\r\n     * Override `logo`, `logoWidth`, `logoHeight` and `backgroundColor` properties\r\n     * to customize the drawing, or just override entire method.\r\n     */\r\n    draw(ctx) {\r\n        const canvasHeight = this._engine.canvasHeight / this._engine.pixelRatio;\r\n        const canvasWidth = this._engine.canvasWidth / this._engine.pixelRatio;\r\n        this._positionPlayButton();\r\n        ctx.fillStyle = this.backgroundColor;\r\n        ctx.fillRect(0, 0, canvasWidth, canvasHeight);\r\n        let logoY = canvasHeight / 2;\r\n        const width = Math.min(this.logoWidth, canvasWidth * 0.75);\r\n        let logoX = canvasWidth / 2 - width / 2;\r\n        if (this.logoPosition) {\r\n            logoX = this.logoPosition.x;\r\n            logoY = this.logoPosition.y;\r\n        }\r\n        const imageHeight = Math.floor(width * (this.logoHeight / this.logoWidth)); // OG height/width factor\r\n        const oldAntialias = this._engine.getAntialiasing();\r\n        this._engine.setAntialiasing(true);\r\n        if (!this.logoPosition) {\r\n            ctx.drawImage(this._image, 0, 0, this.logoWidth, this.logoHeight, logoX, logoY - imageHeight - 20, width, imageHeight);\r\n        }\r\n        else {\r\n            ctx.drawImage(this._image, 0, 0, this.logoWidth, this.logoHeight, logoX, logoY, width, imageHeight);\r\n        }\r\n        // loading box\r\n        if (!this.suppressPlayButton && this._playButtonShown) {\r\n            this._engine.setAntialiasing(oldAntialias);\r\n            return;\r\n        }\r\n        let loadingX = logoX;\r\n        let loadingY = logoY;\r\n        if (this.loadingBarPosition) {\r\n            loadingX = this.loadingBarPosition.x;\r\n            loadingY = this.loadingBarPosition.y;\r\n        }\r\n        ctx.lineWidth = 2;\r\n        roundRect(ctx, loadingX, loadingY, width, 20, 10, this.loadingBarColor);\r\n        const progress = width * this.progress;\r\n        const margin = 5;\r\n        const progressWidth = progress - margin * 2;\r\n        const height = 20 - margin * 2;\r\n        roundRect(ctx, loadingX + margin, loadingY + margin, progressWidth > 10 ? progressWidth : 10, height, 5, null, this.loadingBarColor);\r\n        this._engine.setAntialiasing(oldAntialias);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Util/Detector.ts\n\r\n/**\r\n * This is the list of features that will be used to log the supported\r\n * features to the console when Detector.logBrowserFeatures() is called.\r\n */\r\nconst REPORTED_FEATURES = {\r\n    webgl: 'WebGL',\r\n    webaudio: 'WebAudio',\r\n    gamepadapi: 'Gamepad API'\r\n};\r\n/**\r\n * Excalibur internal feature detection helper class\r\n */\r\nclass Detector {\r\n    constructor() {\r\n        this._features = null;\r\n        this.failedTests = [];\r\n        // critical browser features required for ex to run\r\n        this._criticalTests = {\r\n            // Test canvas/2d context support\r\n            canvasSupport: function () {\r\n                const elem = document.createElement('canvas');\r\n                return !!(elem.getContext && elem.getContext('2d'));\r\n            },\r\n            // Test array buffer support ex uses for downloading binary data\r\n            arrayBufferSupport: function () {\r\n                const xhr = new XMLHttpRequest();\r\n                xhr.open('GET', '/');\r\n                try {\r\n                    xhr.responseType = 'arraybuffer';\r\n                }\r\n                catch (e) {\r\n                    return false;\r\n                }\r\n                return xhr.responseType === 'arraybuffer';\r\n            },\r\n            // Test data urls ex uses for sprites\r\n            dataUrlSupport: function () {\r\n                const canvas = document.createElement('canvas');\r\n                return canvas.toDataURL('image/png').indexOf('data:image/png') === 0;\r\n            },\r\n            // Test object url support for loading\r\n            objectUrlSupport: function () {\r\n                return 'URL' in window && 'revokeObjectURL' in URL && 'createObjectURL' in URL;\r\n            },\r\n            // RGBA support for colors\r\n            rgbaSupport: function () {\r\n                const style = document.createElement('a').style;\r\n                style.cssText = 'background-color:rgba(150,255,150,.5)';\r\n                return ('' + style.backgroundColor).indexOf('rgba') > -1;\r\n            }\r\n        };\r\n        // warnings excalibur performance will be degraded\r\n        this._warningTest = {\r\n            webAudioSupport: function () {\r\n                return !!(window.AudioContext ||\r\n                    window.webkitAudioContext ||\r\n                    window.mozAudioContext ||\r\n                    window.msAudioContext ||\r\n                    window.oAudioContext);\r\n            },\r\n            webglSupport: function () {\r\n                const elem = document.createElement('canvas');\r\n                return !!(elem.getContext && elem.getContext('webgl'));\r\n            }\r\n        };\r\n        this._features = this._loadBrowserFeatures();\r\n    }\r\n    /**\r\n     * Returns a map of currently supported browser features. This method\r\n     * treats the features as a singleton and will only calculate feature\r\n     * support if it has not previously been done.\r\n     */\r\n    getBrowserFeatures() {\r\n        if (this._features === null) {\r\n            this._features = this._loadBrowserFeatures();\r\n        }\r\n        return this._features;\r\n    }\r\n    /**\r\n     * Report on non-critical browser support for debugging purposes.\r\n     * Use native browser console colors for visibility.\r\n     */\r\n    logBrowserFeatures() {\r\n        let msg = '%cSUPPORTED BROWSER FEATURES\\n==========================%c\\n';\r\n        const args = ['font-weight: bold; color: navy', 'font-weight: normal; color: inherit'];\r\n        const supported = this.getBrowserFeatures();\r\n        for (const feature of Object.keys(REPORTED_FEATURES)) {\r\n            if (supported[feature]) {\r\n                msg += '(%c\\u2713%c)'; // ()\r\n                args.push('font-weight: bold; color: green');\r\n                args.push('font-weight: normal; color: inherit');\r\n            }\r\n            else {\r\n                msg += '(%c\\u2717%c)'; // ()\r\n                args.push('font-weight: bold; color: red');\r\n                args.push('font-weight: normal; color: inherit');\r\n            }\r\n            msg += ' ' + REPORTED_FEATURES[feature] + '\\n';\r\n        }\r\n        args.unshift(msg);\r\n        // eslint-disable-next-line no-console\r\n        console.log.apply(console, args);\r\n    }\r\n    /**\r\n     * Executes several IIFE's to get a constant reference to supported\r\n     * features within the current execution context.\r\n     */\r\n    _loadBrowserFeatures() {\r\n        return {\r\n            // IIFE to check canvas support\r\n            canvas: (() => {\r\n                return this._criticalTests.canvasSupport();\r\n            })(),\r\n            // IIFE to check arraybuffer support\r\n            arraybuffer: (() => {\r\n                return this._criticalTests.arrayBufferSupport();\r\n            })(),\r\n            // IIFE to check dataurl support\r\n            dataurl: (() => {\r\n                return this._criticalTests.dataUrlSupport();\r\n            })(),\r\n            // IIFE to check objecturl support\r\n            objecturl: (() => {\r\n                return this._criticalTests.objectUrlSupport();\r\n            })(),\r\n            // IIFE to check rgba support\r\n            rgba: (() => {\r\n                return this._criticalTests.rgbaSupport();\r\n            })(),\r\n            // IIFE to check webaudio support\r\n            webaudio: (() => {\r\n                return this._warningTest.webAudioSupport();\r\n            })(),\r\n            // IIFE to check webgl support\r\n            webgl: (() => {\r\n                return this._warningTest.webglSupport();\r\n            })(),\r\n            // IIFE to check gamepadapi support\r\n            gamepadapi: (() => {\r\n                return !!navigator.getGamepads;\r\n            })()\r\n        };\r\n    }\r\n    test() {\r\n        // Critical test will for ex not to run\r\n        let failedCritical = false;\r\n        for (const test in this._criticalTests) {\r\n            if (!this._criticalTests[test].call(this)) {\r\n                this.failedTests.push(test);\r\n                Logger.getInstance().error('Critical browser feature missing, Excalibur requires:', test);\r\n                failedCritical = true;\r\n            }\r\n        }\r\n        if (failedCritical) {\r\n            return false;\r\n        }\r\n        // Warning tests do not for ex to return false to compatibility\r\n        for (const warning in this._warningTest) {\r\n            if (!this._warningTest[warning]()) {\r\n                Logger.getInstance().warn('Warning browser feature missing, Excalibur will have reduced performance:', warning);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/CollisionType.ts\n/**\r\n * An enum that describes the types of collisions bodies can participate in\r\n */\r\nvar CollisionType;\r\n(function (CollisionType) {\r\n    /**\r\n     * Bodies with the `PreventCollision` setting do not participate in any\r\n     * collisions and do not raise collision events.\r\n     */\r\n    CollisionType[\"PreventCollision\"] = \"PreventCollision\";\r\n    /**\r\n     * Bodies with the `Passive` setting only raise collision events, but are not\r\n     * influenced or moved by other bodies and do not influence or move other bodies.\r\n     * This is useful for use in trigger type behavior.\r\n     */\r\n    CollisionType[\"Passive\"] = \"Passive\";\r\n    /**\r\n     * Bodies with the `Active` setting raise collision events and participate\r\n     * in collisions with other bodies and will be push or moved by bodies sharing\r\n     * the `Active` or `Fixed` setting.\r\n     */\r\n    CollisionType[\"Active\"] = \"Active\";\r\n    /**\r\n     * Bodies with the `Fixed` setting raise collision events and participate in\r\n     * collisions with other bodies. Actors with the `Fixed` setting will not be\r\n     * pushed or moved by other bodies sharing the `Fixed`. Think of Fixed\r\n     * bodies as \"immovable/unstoppable\" objects. If two `Fixed` bodies meet they will\r\n     * not be pushed or moved by each other, they will not interact except to throw\r\n     * collision events.\r\n     */\r\n    CollisionType[\"Fixed\"] = \"Fixed\";\r\n})(CollisionType || (CollisionType = {}));\r\n\n;// CONCATENATED MODULE: ./Collision/Physics.ts\nvar Physics_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n/**\r\n * Possible collision resolution strategies\r\n *\r\n * The default is [[CollisionResolutionStrategy.Arcade]] which performs simple axis aligned arcade style physics. This is useful for things\r\n * like platformers or top down games.\r\n *\r\n * More advanced rigid body physics are enabled by setting [[CollisionResolutionStrategy.Realistic]] which allows for complicated\r\n * simulated physical interactions.\r\n */\r\nvar CollisionResolutionStrategy;\r\n(function (CollisionResolutionStrategy) {\r\n    CollisionResolutionStrategy[\"Arcade\"] = \"arcade\";\r\n    CollisionResolutionStrategy[\"Realistic\"] = \"realistic\";\r\n})(CollisionResolutionStrategy || (CollisionResolutionStrategy = {}));\r\n/**\r\n * Possible broadphase collision pair identification strategies\r\n *\r\n * The default strategy is [[BroadphaseStrategy.DynamicAABBTree]] which uses a binary tree of axis-aligned bounding boxes to identify\r\n * potential collision pairs which is O(nlog(n)) faster.\r\n */\r\nvar BroadphaseStrategy;\r\n(function (BroadphaseStrategy) {\r\n    BroadphaseStrategy[BroadphaseStrategy[\"DynamicAABBTree\"] = 0] = \"DynamicAABBTree\";\r\n})(BroadphaseStrategy || (BroadphaseStrategy = {}));\r\n/**\r\n * Possible numerical integrators for position and velocity\r\n */\r\nvar Integrator;\r\n(function (Integrator) {\r\n    Integrator[Integrator[\"Euler\"] = 0] = \"Euler\";\r\n})(Integrator || (Integrator = {}));\r\n/**\r\n * The [[Physics]] object is the global configuration object for all Excalibur physics.\r\n */\r\n/* istanbul ignore next */\r\nclass Physics {\r\n    static get gravity() {\r\n        return Physics.acc;\r\n    }\r\n    static set gravity(v) {\r\n        Physics.acc = v;\r\n    }\r\n    /**\r\n     * Configures Excalibur to use \"arcade\" physics. Arcade physics which performs simple axis aligned arcade style physics.\r\n     */\r\n    static useArcadePhysics() {\r\n        Physics.collisionResolutionStrategy = CollisionResolutionStrategy.Arcade;\r\n    }\r\n    /**\r\n     * Configures Excalibur to use rigid body physics. Rigid body physics allows for complicated\r\n     * simulated physical interactions.\r\n     */\r\n    static useRealisticPhysics() {\r\n        Physics.collisionResolutionStrategy = CollisionResolutionStrategy.Realistic;\r\n    }\r\n    static get dynamicTreeVelocityMultiplyer() {\r\n        return Physics.dynamicTreeVelocityMultiplier;\r\n    }\r\n    static set dynamicTreeVelocityMultiplyer(value) {\r\n        Physics.dynamicTreeVelocityMultiplier = value;\r\n    }\r\n}\r\n/**\r\n * Global acceleration that is applied to all vanilla actors that have a [[CollisionType.Active|active]] collision type.\r\n * Global acceleration won't effect [[Label|labels]], [[ScreenElement|ui actors]], or [[Trigger|triggers]] in Excalibur.\r\n *\r\n * This is a great way to globally simulate effects like gravity.\r\n */\r\nPhysics.acc = new Vector(0, 0);\r\n/**\r\n * Globally switches all Excalibur physics behavior on or off.\r\n */\r\nPhysics.enabled = true;\r\n/**\r\n * Gets or sets the broadphase pair identification strategy.\r\n *\r\n * The default strategy is [[BroadphaseStrategy.DynamicAABBTree]] which uses a binary tree of axis-aligned bounding boxes to identify\r\n * potential collision pairs which is O(nlog(n)) faster.\r\n */\r\nPhysics.broadphaseStrategy = BroadphaseStrategy.DynamicAABBTree;\r\n/**\r\n * Gets or sets the global collision resolution strategy (narrowphase).\r\n *\r\n * The default is [[CollisionResolutionStrategy.Arcade]] which performs simple axis aligned arcade style physics.\r\n *\r\n * More advanced rigid body physics are enabled by setting [[CollisionResolutionStrategy.Realistic]] which allows for complicated\r\n * simulated physical interactions.\r\n */\r\nPhysics.collisionResolutionStrategy = CollisionResolutionStrategy.Arcade;\r\n/**\r\n * The default mass to use if none is specified\r\n */\r\nPhysics.defaultMass = 10;\r\n/**\r\n * Gets or sets the position and velocity positional integrator, currently only Euler is supported.\r\n */\r\nPhysics.integrator = Integrator.Euler;\r\n/**\r\n * Factor to add to the RigidBody BoundingBox, bounding box (dimensions += vel * dynamicTreeVelocityMultiplier);\r\n */\r\nPhysics.dynamicTreeVelocityMultiplier = 2;\r\n/**\r\n * Pad RigidBody BoundingBox by a constant amount\r\n */\r\nPhysics.boundsPadding = 5;\r\n/**\r\n * Number of position iterations (overlap) to run in the solver\r\n */\r\nPhysics.positionIterations = 3;\r\n/**\r\n * Number of velocity iteration (response) to run in the solver\r\n */\r\nPhysics.velocityIterations = 8;\r\n/**\r\n * Amount of overlap to tolerate in pixels\r\n */\r\nPhysics.slop = 1;\r\n/**\r\n * Amount of positional overlap correction to apply each position iteration of the solver\r\n * O - meaning no correction, 1 - meaning correct all overlap\r\n */\r\nPhysics.steeringFactor = 0.2;\r\n/**\r\n * Warm start set to true re-uses impulses from previous frames back in the solver\r\n */\r\nPhysics.warmStart = true;\r\n/**\r\n * By default bodies do not sleep\r\n */\r\nPhysics.bodiesCanSleepByDefault = false;\r\n/**\r\n * Surface epsilon is used to help deal with surface penetration\r\n */\r\nPhysics.surfaceEpsilon = 0.1;\r\nPhysics.sleepEpsilon = 0.07;\r\nPhysics.wakeThreshold = Physics.sleepEpsilon * 3;\r\nPhysics.sleepBias = 0.9;\r\n/**\r\n * Enable fast moving body checking, this enables checking for collision pairs via raycast for fast moving objects to prevent\r\n * bodies from tunneling through one another.\r\n */\r\nPhysics.checkForFastBodies = true;\r\n/**\r\n * Disable minimum fast moving body raycast, by default if ex.Physics.checkForFastBodies = true Excalibur will only check if the\r\n * body is moving at least half of its minimum dimension in an update. If ex.Physics.disableMinimumSpeedForFastBody is set to true,\r\n * Excalibur will always perform the fast body raycast regardless of speed.\r\n */\r\nPhysics.disableMinimumSpeedForFastBody = false;\r\nPhysics_decorate([\r\n    obsolete({\r\n        message: 'Alias for incorrect spelling used in older versions, will be removed in v0.25.0',\r\n        alternateMethod: 'dynamicTreeVelocityMultiplier'\r\n    })\r\n], Physics, \"dynamicTreeVelocityMultiplyer\", null);\r\n\n;// CONCATENATED MODULE: ./Math/vector-view.ts\n\r\nclass VectorView extends Vector {\r\n    constructor(options) {\r\n        super(0, 0);\r\n        this._getX = options.getX;\r\n        this._getY = options.getY;\r\n        this._setX = options.setX;\r\n        this._setY = options.setY;\r\n    }\r\n    get x() {\r\n        return (this._x = this._getX());\r\n    }\r\n    set x(val) {\r\n        this._setX(val);\r\n        this._x = val;\r\n    }\r\n    get y() {\r\n        return (this._y = this._getY());\r\n    }\r\n    set y(val) {\r\n        this._setY(val);\r\n        this._y = val;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/Component.ts\n/**\r\n * Type guard to check if a component implements clone\r\n * @param x\r\n */\r\nfunction hasClone(x) {\r\n    return !!(x === null || x === void 0 ? void 0 : x.clone);\r\n}\r\n/**\r\n * Components are containers for state in Excalibur, the are meant to convey capabilities that an Entity posesses\r\n *\r\n * Implementations of Component must have a zero-arg constructor to support dependecies\r\n *\r\n * ```typescript\r\n * class MyComponent extends ex.Component<'my'> {\r\n *   public readonly type = 'my';\r\n *   // zero arg support required if you want to use component dependencies\r\n *   constructor(public optionalPos?: ex.Vector) {}\r\n * }\r\n * ```\r\n */\r\nclass Component {\r\n    constructor() {\r\n        /**\r\n         * Current owning [[Entity]], if any, of this component. Null if not added to any [[Entity]]\r\n         */\r\n        this.owner = null;\r\n    }\r\n    /**\r\n     * Clones any properties on this component, if that property value has a `clone()` method it will be called\r\n     */\r\n    clone() {\r\n        const newComponent = new this.constructor();\r\n        for (const prop in this) {\r\n            if (this.hasOwnProperty(prop)) {\r\n                const val = this[prop];\r\n                if (hasClone(val) && prop !== 'owner' && prop !== 'clone') {\r\n                    newComponent[prop] = val.clone();\r\n                }\r\n                else {\r\n                    newComponent[prop] = val;\r\n                }\r\n            }\r\n        }\r\n        return newComponent;\r\n    }\r\n}\r\n/**\r\n * Tag components are a way of tagging a component with label and a simple value\r\n *\r\n * For example:\r\n *\r\n * ```typescript\r\n * const isOffscreen = new TagComponent('offscreen');\r\n * entity.addComponent(isOffscreen);\r\n * entity.tags.includes\r\n * ```\r\n */\r\nclass TagComponent extends Component {\r\n    constructor(type, value) {\r\n        super();\r\n        this.type = type;\r\n        this.value = value;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/Components/TransformComponent.ts\n\r\n\r\n\r\n\r\nconst createPosView = (matrix) => {\r\n    const source = matrix;\r\n    return new VectorView({\r\n        setX: (x) => {\r\n            source.data[MatrixLocations.X] = x;\r\n        },\r\n        setY: (y) => {\r\n            source.data[MatrixLocations.Y] = y;\r\n        },\r\n        getX: () => {\r\n            return source.data[MatrixLocations.X];\r\n        },\r\n        getY: () => {\r\n            return source.data[MatrixLocations.Y];\r\n        }\r\n    });\r\n};\r\nconst createScaleView = (matrix) => {\r\n    const source = matrix;\r\n    return new VectorView({\r\n        setX: (x) => {\r\n            source.setScaleX(x);\r\n        },\r\n        setY: (y) => {\r\n            source.setScaleY(y);\r\n        },\r\n        getX: () => {\r\n            return source.getScaleX();\r\n        },\r\n        getY: () => {\r\n            return source.getScaleY();\r\n        }\r\n    });\r\n};\r\n/**\r\n * Enum representing the coordinate plane for the position 2D vector in the [[TransformComponent]]\r\n */\r\nvar CoordPlane;\r\n(function (CoordPlane) {\r\n    /**\r\n     * The world coordinate plane (default) represents world space, any entities drawn with world\r\n     * space move when the camera moves.\r\n     */\r\n    CoordPlane[\"World\"] = \"world\";\r\n    /**\r\n     * The screen coordinate plane represents screen space, entities drawn in screen space are pinned\r\n     * to screen coordinates ignoring the camera.\r\n     */\r\n    CoordPlane[\"Screen\"] = \"screen\";\r\n})(CoordPlane || (CoordPlane = {}));\r\nclass TransformComponent extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.type = 'ex.transform';\r\n        this._dirty = false;\r\n        this.matrix = Matrix.identity().translate(0, 0).rotate(0).scale(1, 1);\r\n        this._position = createPosView(this.matrix);\r\n        this._rotation = 0;\r\n        this._scale = createScaleView(this.matrix);\r\n        /**\r\n         * The [[CoordPlane|coordinate plane|]] for this transform for the entity.\r\n         */\r\n        this.coordPlane = CoordPlane.World;\r\n        /**\r\n         * The z-index ordering of the entity, a higher values are drawn on top of lower values.\r\n         * For example z=99 would be drawn on top of z=0.\r\n         */\r\n        this.z = 0;\r\n    }\r\n    _recalculate() {\r\n        this._rotation = this.matrix.getRotation();\r\n        this._dirty = false;\r\n    }\r\n    getGlobalMatrix() {\r\n        if (!this.parent) {\r\n            return this.matrix;\r\n        }\r\n        else {\r\n            return this.parent.getGlobalMatrix().multm(this.matrix);\r\n        }\r\n    }\r\n    getGlobalTransform() {\r\n        return {\r\n            pos: this.globalPos,\r\n            scale: this.globalScale,\r\n            rotation: this.globalRotation,\r\n            z: this.z,\r\n            coordPlane: this.coordPlane\r\n        };\r\n    }\r\n    get parent() {\r\n        var _a, _b;\r\n        return (_b = (_a = this === null || this === void 0 ? void 0 : this.owner) === null || _a === void 0 ? void 0 : _a.parent) === null || _b === void 0 ? void 0 : _b.get(TransformComponent);\r\n    }\r\n    /**\r\n     * The current position of the entity in world space or in screen space depending on the the [[CoordPlane|coordinate plane]].\r\n     *\r\n     * If a parent entity exists coordinates are local to the parent.\r\n     */\r\n    get pos() {\r\n        if (this._dirty) {\r\n            this._recalculate();\r\n        }\r\n        return this._position;\r\n    }\r\n    set pos(val) {\r\n        this.matrix.setPosition(val.x, val.y);\r\n        this._dirty = true;\r\n    }\r\n    // Dirty flag check up the chain\r\n    get dirty() {\r\n        var _a;\r\n        if ((_a = this === null || this === void 0 ? void 0 : this.owner) === null || _a === void 0 ? void 0 : _a.parent) {\r\n            const parent = this.parent;\r\n            return parent.dirty || this._dirty;\r\n        }\r\n        return this._dirty;\r\n    }\r\n    /**\r\n     * The current world position calculated\r\n     */\r\n    get globalPos() {\r\n        const source = this.getGlobalMatrix();\r\n        return new VectorView({\r\n            getX: () => source.data[MatrixLocations.X],\r\n            getY: () => source.data[MatrixLocations.Y],\r\n            setX: (x) => {\r\n                var _a;\r\n                if (this.parent) {\r\n                    const [newX] = (_a = this.parent) === null || _a === void 0 ? void 0 : _a.getGlobalMatrix().getAffineInverse().multv([x, source.data[MatrixLocations.Y]]);\r\n                    this.matrix.data[MatrixLocations.X] = newX;\r\n                }\r\n                else {\r\n                    this.matrix.data[MatrixLocations.X] = x;\r\n                }\r\n            },\r\n            setY: (y) => {\r\n                var _a;\r\n                if (this.parent) {\r\n                    const [, newY] = (_a = this.parent) === null || _a === void 0 ? void 0 : _a.getGlobalMatrix().getAffineInverse().multv([source.data[MatrixLocations.X], y]);\r\n                    this.matrix.data[MatrixLocations.Y] = newY;\r\n                }\r\n                else {\r\n                    this.matrix.data[MatrixLocations.Y] = y;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    set globalPos(val) {\r\n        const parentTransform = this.parent;\r\n        if (!parentTransform) {\r\n            this.pos = val;\r\n        }\r\n        else {\r\n            this.pos = parentTransform.getGlobalMatrix().getAffineInverse().multv(val);\r\n        }\r\n    }\r\n    /**\r\n     * The rotation of the entity in radians. For example `Math.PI` radians is the same as 180 degrees.\r\n     */\r\n    get rotation() {\r\n        if (this._dirty) {\r\n            this._recalculate();\r\n        }\r\n        return this._rotation;\r\n    }\r\n    set rotation(val) {\r\n        this.matrix.setRotation(val);\r\n        this._dirty = true;\r\n    }\r\n    get globalRotation() {\r\n        return this.getGlobalMatrix().getRotation();\r\n    }\r\n    set globalRotation(val) {\r\n        const parentTransform = this.parent;\r\n        if (!parentTransform) {\r\n            this.rotation = val;\r\n        }\r\n        else {\r\n            this.rotation = val - parentTransform.globalRotation;\r\n        }\r\n    }\r\n    /**\r\n     * The scale of the entity.\r\n     */\r\n    get scale() {\r\n        if (this._dirty) {\r\n            this._recalculate();\r\n        }\r\n        return this._scale;\r\n    }\r\n    set scale(val) {\r\n        this.matrix.setScale(val);\r\n        this._dirty = true;\r\n    }\r\n    get globalScale() {\r\n        const source = this.getGlobalMatrix();\r\n        return new VectorView({\r\n            getX: () => source.getScaleX(),\r\n            getY: () => source.getScaleY(),\r\n            setX: (x) => {\r\n                if (this.parent) {\r\n                    const globalScaleX = this.parent.globalScale.x;\r\n                    this.matrix.setScaleX(x / globalScaleX);\r\n                }\r\n                else {\r\n                    this.matrix.setScaleX(x);\r\n                }\r\n            },\r\n            setY: (y) => {\r\n                if (this.parent) {\r\n                    const globalScaleY = this.parent.globalScale.y;\r\n                    this.matrix.setScaleY(y / globalScaleY);\r\n                }\r\n                else {\r\n                    this.matrix.setScaleY(y);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    set globalScale(val) {\r\n        const parentTransform = this.parent;\r\n        if (!parentTransform) {\r\n            this.scale = val;\r\n        }\r\n        else {\r\n            this.scale = vec(val.x / parentTransform.globalScale.x, val.y / parentTransform.globalScale.y);\r\n        }\r\n    }\r\n    /**\r\n     * Apply the transform to a point\r\n     * @param point\r\n     */\r\n    apply(point) {\r\n        return this.matrix.multv(point);\r\n    }\r\n    /**\r\n     * Apply the inverse transform to a point\r\n     * @param point\r\n     */\r\n    applyInverse(point) {\r\n        return this.matrix.getAffineInverse().multv(point);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/Components/MotionComponent.ts\n\r\n\r\nclass MotionComponent extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.type = 'ex.motion';\r\n        /**\r\n         * The velocity of an entity in pixels per second\r\n         */\r\n        this.vel = Vector.Zero;\r\n        /**\r\n         * The acceleration of entity in pixels per second^2\r\n         */\r\n        this.acc = Vector.Zero;\r\n        /**\r\n         * The scale rate of change in scale units per second\r\n         */\r\n        this.scaleFactor = Vector.Zero;\r\n        /**\r\n         * The angular velocity which is how quickly the entity is rotating in radians per second\r\n         */\r\n        this.angularVelocity = 0;\r\n        /**\r\n         * The amount of torque applied to the entity, angular acceleration is torque * inertia\r\n         */\r\n        this.torque = 0;\r\n        /**\r\n         * Inerita can be thought of as the resistance to motion\r\n         */\r\n        this.inertia = 1;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Group/CollisionGroup.ts\n/**\r\n * CollisionGroups indicate like members that do not collide with each other. Use [[CollisionGroupManager]] to create [[CollisionGroup]]s\r\n *\r\n * For example:\r\n *\r\n * Players have collision group \"player\"\r\n *\r\n * ![Player Collision Group](/assets/images/docs/CollisionGroupsPlayer.png)\r\n *\r\n * Enemies have collision group \"enemy\"\r\n *\r\n * ![Enemy Collision Group](/assets/images/docs/CollisionGroupsEnemy.png)\r\n *\r\n * Blocks have collision group \"ground\"\r\n *\r\n * ![Ground collision group](/assets/images/docs/CollisionGroupsGround.png)\r\n *\r\n * Players don't collide with each other, but enemies and blocks. Likewise, enemies don't collide with each other but collide\r\n * with players and blocks.\r\n *\r\n * This is done with bitmasking, see the following pseudo-code\r\n *\r\n * PlayerGroup = `0b001`\r\n * PlayerGroupMask = `0b110`\r\n *\r\n * EnemyGroup = `0b010`\r\n * EnemyGroupMask = `0b101`\r\n *\r\n * BlockGroup = `0b100`\r\n * BlockGroupMask = `0b011`\r\n *\r\n * Should Players collide? No because the bitwise mask evaluates to 0\r\n * `(player1.group & player2.mask) === 0`\r\n * `(0b001 & 0b110) === 0`\r\n *\r\n * Should Players and Enemies collide? Yes because the bitwise mask is non-zero\r\n * `(player1.group & enemy1.mask) === 1`\r\n * `(0b001 & 0b101) === 1`\r\n *\r\n * Should Players and Blocks collide? Yes because the bitwise mask is non-zero\r\n * `(player1.group & blocks1.mask) === 1`\r\n * `(0b001 & 0b011) === 1`\r\n */\r\nclass CollisionGroup {\r\n    /**\r\n     * STOP!!** It is preferred that [[CollisionGroupManager.create]] is used to create collision groups\r\n     *  unless you know how to construct the proper bitmasks. See https://github.com/excaliburjs/Excalibur/issues/1091 for more info.\r\n     * @param name Name of the collision group\r\n     * @param category 32 bit category for the group, should be a unique power of 2. For example `0b001` or `0b010`\r\n     * @param mask 32 bit mask of category, or `~category` generally. For a category of `0b001`, the mask would be `0b110`\r\n     */\r\n    constructor(name, category, mask) {\r\n        this._name = name;\r\n        this._category = category;\r\n        this._mask = mask;\r\n    }\r\n    /**\r\n     * Get the name of the collision group\r\n     */\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    /**\r\n     * Get the category of the collision group, a 32 bit number which should be a unique power of 2\r\n     */\r\n    get category() {\r\n        return this._category;\r\n    }\r\n    /**\r\n     * Get the mask for this collision group\r\n     */\r\n    get mask() {\r\n        return this._mask;\r\n    }\r\n    /**\r\n     * Evaluates whether 2 collision groups can collide\r\n     * @param other  CollisionGroup\r\n     */\r\n    canCollide(other) {\r\n        return (this.category & other.mask) !== 0 && (other.category & this.mask) !== 0;\r\n    }\r\n    /**\r\n     * Inverts the collision group. For example, if before the group specified \"players\",\r\n     * inverting would specify all groups except players\r\n     * @returns CollisionGroup\r\n     */\r\n    invert() {\r\n        return new CollisionGroup('~(' + this.name + ')', ~this.category, ~this.mask);\r\n    }\r\n    /**\r\n     * Combine collision groups with each other. The new group includes all of the previous groups.\r\n     *\r\n     * @param collisionGroups\r\n     * @returns\r\n     */\r\n    static combine(collisionGroups) {\r\n        const combinedName = collisionGroups.map((c) => c.name).join('+');\r\n        const combinedCategory = collisionGroups.reduce((current, g) => g.category | current, 0b0);\r\n        const combinedMask = ~combinedCategory;\r\n        return new CollisionGroup(combinedName, combinedCategory, combinedMask);\r\n    }\r\n    /**\r\n     * Creates a collision group that collides with the listed groups\r\n     * @param collisionGroups\r\n     */\r\n    static collidesWith(collisionGroups) {\r\n        return CollisionGroup.combine(collisionGroups).invert();\r\n    }\r\n}\r\n/**\r\n * The `All` [[CollisionGroup]] is a special group that collides with all other groups including itself,\r\n * it is the default collision group on colliders.\r\n */\r\nCollisionGroup.All = new CollisionGroup('Collide with all groups', -1, -1);\r\n\n;// CONCATENATED MODULE: ./Util/Observable.ts\n/**\r\n * Simple Observable implemenation\r\n * @template T is the typescript Type that defines the data being observed\r\n */\r\nclass Observable {\r\n    constructor() {\r\n        this.observers = [];\r\n        this.subscriptions = [];\r\n    }\r\n    /**\r\n     * Register an observer to listen to this observable\r\n     * @param observer\r\n     */\r\n    register(observer) {\r\n        this.observers.push(observer);\r\n    }\r\n    /**\r\n     * Register a callback to listen to this observable\r\n     * @param func\r\n     */\r\n    subscribe(func) {\r\n        this.subscriptions.push(func);\r\n    }\r\n    /**\r\n     * Remove an observer from the observable\r\n     * @param observer\r\n     */\r\n    unregister(observer) {\r\n        const i = this.observers.indexOf(observer);\r\n        if (i !== -1) {\r\n            this.observers.splice(i, 1);\r\n        }\r\n    }\r\n    /**\r\n     * Remove a callback that is listening to this observable\r\n     * @param func\r\n     */\r\n    unsubscribe(func) {\r\n        const i = this.subscriptions.indexOf(func);\r\n        if (i !== -1) {\r\n            this.subscriptions.splice(i, 1);\r\n        }\r\n    }\r\n    /**\r\n     * Broadcasts a message to all observers and callbacks\r\n     * @param message\r\n     */\r\n    notifyAll(message) {\r\n        this.observers.forEach((o) => o.notify(message));\r\n        this.subscriptions.forEach(cb => cb(message));\r\n    }\r\n    /**\r\n     * Removes all observers and callbacks\r\n     */\r\n    clear() {\r\n        this.observers.length = 0;\r\n        this.subscriptions.length = 0;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Detection/Pair.ts\n\r\n\r\n/**\r\n * Models a potential collision between 2 colliders\r\n */\r\nclass Pair {\r\n    constructor(colliderA, colliderB) {\r\n        this.colliderA = colliderA;\r\n        this.colliderB = colliderB;\r\n        this.id = null;\r\n        this.id = Pair.calculatePairHash(colliderA.id, colliderB.id);\r\n    }\r\n    static canCollide(colliderA, colliderB) {\r\n        var _a, _b;\r\n        const bodyA = (_a = colliderA === null || colliderA === void 0 ? void 0 : colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\r\n        const bodyB = (_b = colliderB === null || colliderB === void 0 ? void 0 : colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\r\n        // Body's needed for collision in the current state\r\n        // TODO can we collide without a body?\r\n        if (!bodyA || !bodyB) {\r\n            return false;\r\n        }\r\n        // If both are in the same collision group short circuit\r\n        if (!bodyA.group.canCollide(bodyB.group)) {\r\n            return false;\r\n        }\r\n        // if both are fixed short circuit\r\n        if (bodyA.collisionType === CollisionType.Fixed && bodyB.collisionType === CollisionType.Fixed) {\r\n            return false;\r\n        }\r\n        // if the either is prevent collision short circuit\r\n        if (bodyB.collisionType === CollisionType.PreventCollision || bodyA.collisionType === CollisionType.PreventCollision) {\r\n            return false;\r\n        }\r\n        // if either is dead short circuit\r\n        if (!bodyA.active || !bodyB.active) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    /**\r\n     * Returns whether or not it is possible for the pairs to collide\r\n     */\r\n    get canCollide() {\r\n        const colliderA = this.colliderA;\r\n        const colliderB = this.colliderB;\r\n        return Pair.canCollide(colliderA, colliderB);\r\n    }\r\n    /**\r\n     * Runs the collision intersection logic on the members of this pair\r\n     */\r\n    collide() {\r\n        return this.colliderA.collide(this.colliderB);\r\n    }\r\n    /**\r\n     * Check if the collider is part of the pair\r\n     * @param collider\r\n     * @returns\r\n     */\r\n    hasCollider(collider) {\r\n        return collider === this.colliderA || collider === this.colliderB;\r\n    }\r\n    /**\r\n     * Calculates the unique pair hash id for this collision pair (owning id)\r\n     */\r\n    static calculatePairHash(idA, idB) {\r\n        if (idA.value < idB.value) {\r\n            return `#${idA.value}+${idB.value}`;\r\n        }\r\n        else {\r\n            return `#${idB.value}+${idA.value}`;\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Math/projection.ts\n/**\r\n * A 1 dimensional projection on an axis, used to test overlaps\r\n */\r\nclass Projection {\r\n    constructor(min, max) {\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n    overlaps(projection) {\r\n        return this.max > projection.min && projection.max > this.min;\r\n    }\r\n    getOverlap(projection) {\r\n        if (this.overlaps(projection)) {\r\n            if (this.max > projection.max) {\r\n                return projection.max - this.min;\r\n            }\r\n            else {\r\n                return this.max - projection.min;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Detection/DynamicTree.ts\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Dynamic Tree Node used for tracking bounds within the tree\r\n */\r\nclass TreeNode {\r\n    constructor(parent) {\r\n        this.parent = parent;\r\n        this.parent = parent || null;\r\n        this.data = null;\r\n        this.bounds = new BoundingBox();\r\n        this.left = null;\r\n        this.right = null;\r\n        this.height = 0;\r\n    }\r\n    isLeaf() {\r\n        return !this.left && !this.right;\r\n    }\r\n}\r\n/**\r\n * The DynamicTrees provides a spatial partitioning data structure for quickly querying for overlapping bounding boxes for\r\n * all tracked bodies. The worst case performance of this is O(n*log(n)) where n is the number of bodies in the tree.\r\n *\r\n * Internally the bounding boxes are organized as a balanced binary tree of bounding boxes, where the leaf nodes are tracked bodies.\r\n * Every non-leaf node is a bounding box that contains child bounding boxes.\r\n */\r\nclass DynamicTree {\r\n    constructor(worldBounds = new BoundingBox(-Number.MAX_VALUE, -Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE)) {\r\n        this.worldBounds = worldBounds;\r\n        this.root = null;\r\n        this.nodes = {};\r\n    }\r\n    /**\r\n     * Inserts a node into the dynamic tree\r\n     */\r\n    _insert(leaf) {\r\n        // If there are no nodes in the tree, make this the root leaf\r\n        if (this.root === null) {\r\n            this.root = leaf;\r\n            this.root.parent = null;\r\n            return;\r\n        }\r\n        // Search the tree for a node that is not a leaf and find the best place to insert\r\n        const leafAABB = leaf.bounds;\r\n        let currentRoot = this.root;\r\n        while (!currentRoot.isLeaf()) {\r\n            const left = currentRoot.left;\r\n            const right = currentRoot.right;\r\n            const area = currentRoot.bounds.getPerimeter();\r\n            const combinedAABB = currentRoot.bounds.combine(leafAABB);\r\n            const combinedArea = combinedAABB.getPerimeter();\r\n            // Calculate cost heuristic for creating a new parent and leaf\r\n            const cost = 2 * combinedArea;\r\n            // Minimum cost of pushing the leaf down the tree\r\n            const inheritanceCost = 2 * (combinedArea - area);\r\n            // Cost of descending\r\n            let leftCost = 0;\r\n            const leftCombined = leafAABB.combine(left.bounds);\r\n            let newArea;\r\n            let oldArea;\r\n            if (left.isLeaf()) {\r\n                leftCost = leftCombined.getPerimeter() + inheritanceCost;\r\n            }\r\n            else {\r\n                oldArea = left.bounds.getPerimeter();\r\n                newArea = leftCombined.getPerimeter();\r\n                leftCost = newArea - oldArea + inheritanceCost;\r\n            }\r\n            let rightCost = 0;\r\n            const rightCombined = leafAABB.combine(right.bounds);\r\n            if (right.isLeaf()) {\r\n                rightCost = rightCombined.getPerimeter() + inheritanceCost;\r\n            }\r\n            else {\r\n                oldArea = right.bounds.getPerimeter();\r\n                newArea = rightCombined.getPerimeter();\r\n                rightCost = newArea - oldArea + inheritanceCost;\r\n            }\r\n            // cost is acceptable\r\n            if (cost < leftCost && cost < rightCost) {\r\n                break;\r\n            }\r\n            // Descend to the depths\r\n            if (leftCost < rightCost) {\r\n                currentRoot = left;\r\n            }\r\n            else {\r\n                currentRoot = right;\r\n            }\r\n        }\r\n        // Create the new parent node and insert into the tree\r\n        const oldParent = currentRoot.parent;\r\n        const newParent = new TreeNode(oldParent);\r\n        newParent.bounds = leafAABB.combine(currentRoot.bounds);\r\n        newParent.height = currentRoot.height + 1;\r\n        if (oldParent !== null) {\r\n            // The sibling node was not the root\r\n            if (oldParent.left === currentRoot) {\r\n                oldParent.left = newParent;\r\n            }\r\n            else {\r\n                oldParent.right = newParent;\r\n            }\r\n            newParent.left = currentRoot;\r\n            newParent.right = leaf;\r\n            currentRoot.parent = newParent;\r\n            leaf.parent = newParent;\r\n        }\r\n        else {\r\n            // The sibling node was the root\r\n            newParent.left = currentRoot;\r\n            newParent.right = leaf;\r\n            currentRoot.parent = newParent;\r\n            leaf.parent = newParent;\r\n            this.root = newParent;\r\n        }\r\n        // Walk up the tree fixing heights and AABBs\r\n        let currentNode = leaf.parent;\r\n        while (currentNode) {\r\n            currentNode = this._balance(currentNode);\r\n            if (!currentNode.left) {\r\n                throw new Error('Parent of current leaf cannot have a null left child' + currentNode);\r\n            }\r\n            if (!currentNode.right) {\r\n                throw new Error('Parent of current leaf cannot have a null right child' + currentNode);\r\n            }\r\n            currentNode.height = 1 + Math.max(currentNode.left.height, currentNode.right.height);\r\n            currentNode.bounds = currentNode.left.bounds.combine(currentNode.right.bounds);\r\n            currentNode = currentNode.parent;\r\n        }\r\n    }\r\n    /**\r\n     * Removes a node from the dynamic tree\r\n     */\r\n    _remove(leaf) {\r\n        if (leaf === this.root) {\r\n            this.root = null;\r\n            return;\r\n        }\r\n        const parent = leaf.parent;\r\n        const grandParent = parent.parent;\r\n        let sibling;\r\n        if (parent.left === leaf) {\r\n            sibling = parent.right;\r\n        }\r\n        else {\r\n            sibling = parent.left;\r\n        }\r\n        if (grandParent) {\r\n            if (grandParent.left === parent) {\r\n                grandParent.left = sibling;\r\n            }\r\n            else {\r\n                grandParent.right = sibling;\r\n            }\r\n            sibling.parent = grandParent;\r\n            let currentNode = grandParent;\r\n            while (currentNode) {\r\n                currentNode = this._balance(currentNode);\r\n                currentNode.bounds = currentNode.left.bounds.combine(currentNode.right.bounds);\r\n                currentNode.height = 1 + Math.max(currentNode.left.height, currentNode.right.height);\r\n                currentNode = currentNode.parent;\r\n            }\r\n        }\r\n        else {\r\n            this.root = sibling;\r\n            sibling.parent = null;\r\n        }\r\n    }\r\n    /**\r\n     * Tracks a body in the dynamic tree\r\n     */\r\n    trackCollider(collider) {\r\n        const node = new TreeNode();\r\n        node.data = collider;\r\n        node.bounds = collider.bounds;\r\n        node.bounds.left -= 2;\r\n        node.bounds.top -= 2;\r\n        node.bounds.right += 2;\r\n        node.bounds.bottom += 2;\r\n        this.nodes[collider.id.value] = node;\r\n        this._insert(node);\r\n    }\r\n    /**\r\n     * Updates the dynamic tree given the current bounds of each body being tracked\r\n     */\r\n    updateCollider(collider) {\r\n        var _a;\r\n        const node = this.nodes[collider.id.value];\r\n        if (!node) {\r\n            return false;\r\n        }\r\n        const b = collider.bounds;\r\n        // if the body is outside the world no longer update it\r\n        if (!this.worldBounds.contains(b)) {\r\n            Logger.getInstance().warn('Collider with id ' + collider.id.value + ' is outside the world bounds and will no longer be tracked for physics');\r\n            this.untrackCollider(collider);\r\n            return false;\r\n        }\r\n        if (node.bounds.contains(b)) {\r\n            return false;\r\n        }\r\n        this._remove(node);\r\n        b.left -= Physics.boundsPadding;\r\n        b.top -= Physics.boundsPadding;\r\n        b.right += Physics.boundsPadding;\r\n        b.bottom += Physics.boundsPadding;\r\n        // THIS IS CAUSING UNECESSARY CHECKS\r\n        if (collider.owner) {\r\n            const body = (_a = collider.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\r\n            if (body) {\r\n                const multdx = ((body.vel.x * 32) / 1000) * Physics.dynamicTreeVelocityMultiplier;\r\n                const multdy = ((body.vel.y * 32) / 1000) * Physics.dynamicTreeVelocityMultiplier;\r\n                if (multdx < 0) {\r\n                    b.left += multdx;\r\n                }\r\n                else {\r\n                    b.right += multdx;\r\n                }\r\n                if (multdy < 0) {\r\n                    b.top += multdy;\r\n                }\r\n                else {\r\n                    b.bottom += multdy;\r\n                }\r\n            }\r\n        }\r\n        node.bounds = b;\r\n        this._insert(node);\r\n        return true;\r\n    }\r\n    /**\r\n     * Untracks a body from the dynamic tree\r\n     */\r\n    untrackCollider(collider) {\r\n        const node = this.nodes[collider.id.value];\r\n        if (!node) {\r\n            return;\r\n        }\r\n        this._remove(node);\r\n        this.nodes[collider.id.value] = null;\r\n        delete this.nodes[collider.id.value];\r\n    }\r\n    /**\r\n     * Balances the tree about a node\r\n     */\r\n    _balance(node) {\r\n        if (node === null) {\r\n            throw new Error('Cannot balance at null node');\r\n        }\r\n        if (node.isLeaf() || node.height < 2) {\r\n            return node;\r\n        }\r\n        const left = node.left;\r\n        const right = node.right;\r\n        const a = node;\r\n        const b = left;\r\n        const c = right;\r\n        const d = left.left;\r\n        const e = left.right;\r\n        const f = right.left;\r\n        const g = right.right;\r\n        const balance = c.height - b.height;\r\n        // Rotate c node up\r\n        if (balance > 1) {\r\n            // Swap the right node with it's parent\r\n            c.left = a;\r\n            c.parent = a.parent;\r\n            a.parent = c;\r\n            // The original node's old parent should point to the right node\r\n            // this is mega confusing\r\n            if (c.parent) {\r\n                if (c.parent.left === a) {\r\n                    c.parent.left = c;\r\n                }\r\n                else {\r\n                    c.parent.right = c;\r\n                }\r\n            }\r\n            else {\r\n                this.root = c;\r\n            }\r\n            // Rotate\r\n            if (f.height > g.height) {\r\n                c.right = f;\r\n                a.right = g;\r\n                g.parent = a;\r\n                a.bounds = b.bounds.combine(g.bounds);\r\n                c.bounds = a.bounds.combine(f.bounds);\r\n                a.height = 1 + Math.max(b.height, g.height);\r\n                c.height = 1 + Math.max(a.height, f.height);\r\n            }\r\n            else {\r\n                c.right = g;\r\n                a.right = f;\r\n                f.parent = a;\r\n                a.bounds = b.bounds.combine(f.bounds);\r\n                c.bounds = a.bounds.combine(g.bounds);\r\n                a.height = 1 + Math.max(b.height, f.height);\r\n                c.height = 1 + Math.max(a.height, g.height);\r\n            }\r\n            return c;\r\n        }\r\n        // Rotate left node up\r\n        if (balance < -1) {\r\n            // swap\r\n            b.left = a;\r\n            b.parent = a.parent;\r\n            a.parent = b;\r\n            // node's old parent should point to b\r\n            if (b.parent) {\r\n                if (b.parent.left === a) {\r\n                    b.parent.left = b;\r\n                }\r\n                else {\r\n                    if (b.parent.right !== a) {\r\n                        throw 'Error rotating Dynamic Tree';\r\n                    }\r\n                    b.parent.right = b;\r\n                }\r\n            }\r\n            else {\r\n                this.root = b;\r\n            }\r\n            // rotate\r\n            if (d.height > e.height) {\r\n                b.right = d;\r\n                a.left = e;\r\n                e.parent = a;\r\n                a.bounds = c.bounds.combine(e.bounds);\r\n                b.bounds = a.bounds.combine(d.bounds);\r\n                a.height = 1 + Math.max(c.height, e.height);\r\n                b.height = 1 + Math.max(a.height, d.height);\r\n            }\r\n            else {\r\n                b.right = e;\r\n                a.left = d;\r\n                d.parent = a;\r\n                a.bounds = c.bounds.combine(d.bounds);\r\n                b.bounds = a.bounds.combine(e.bounds);\r\n                a.height = 1 + Math.max(c.height, d.height);\r\n                b.height = 1 + Math.max(a.height, e.height);\r\n            }\r\n            return b;\r\n        }\r\n        return node;\r\n    }\r\n    /**\r\n     * Returns the internal height of the tree, shorter trees are better. Performance drops as the tree grows\r\n     */\r\n    getHeight() {\r\n        if (this.root === null) {\r\n            return 0;\r\n        }\r\n        return this.root.height;\r\n    }\r\n    /**\r\n     * Queries the Dynamic Axis Aligned Tree for bodies that could be colliding with the provided body.\r\n     *\r\n     * In the query callback, it will be passed a potential collider. Returning true from this callback indicates\r\n     * that you are complete with your query and you do not want to continue. Returning false will continue searching\r\n     * the tree until all possible colliders have been returned.\r\n     */\r\n    query(collider, callback) {\r\n        const bounds = collider.bounds;\r\n        const helper = (currentNode) => {\r\n            if (currentNode && currentNode.bounds.intersect(bounds)) {\r\n                if (currentNode.isLeaf() && currentNode.data !== collider) {\r\n                    if (callback.call(collider, currentNode.data)) {\r\n                        return true;\r\n                    }\r\n                }\r\n                else {\r\n                    return helper(currentNode.left) || helper(currentNode.right);\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n        helper(this.root);\r\n    }\r\n    /**\r\n     * Queries the Dynamic Axis Aligned Tree for bodies that could be intersecting. By default the raycast query uses an infinitely\r\n     * long ray to test the tree specified by `max`.\r\n     *\r\n     * In the query callback, it will be passed a potential body that intersects with the raycast. Returning true from this\r\n     * callback indicates that your are complete with your query and do not want to continue. Return false will continue searching\r\n     * the tree until all possible bodies that would intersect with the ray have been returned.\r\n     */\r\n    rayCastQuery(ray, max = Infinity, callback) {\r\n        const helper = (currentNode) => {\r\n            if (currentNode && currentNode.bounds.rayCast(ray, max)) {\r\n                if (currentNode.isLeaf()) {\r\n                    if (callback.call(ray, currentNode.data)) {\r\n                        // ray hit a leaf! return the body\r\n                        return true;\r\n                    }\r\n                }\r\n                else {\r\n                    // ray hit but not at a leaf, recurse deeper\r\n                    return helper(currentNode.left) || helper(currentNode.right);\r\n                }\r\n            }\r\n            return false; // ray missed\r\n        };\r\n        helper(this.root);\r\n    }\r\n    getNodes() {\r\n        const helper = (currentNode) => {\r\n            if (currentNode) {\r\n                return [currentNode].concat(helper(currentNode.left), helper(currentNode.right));\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n        };\r\n        return helper(this.root);\r\n    }\r\n    debug(ex) {\r\n        // draw all the nodes in the Dynamic Tree\r\n        const helper = (currentNode) => {\r\n            if (currentNode) {\r\n                if (currentNode.isLeaf()) {\r\n                    currentNode.bounds.draw(ex, Color.Green);\r\n                }\r\n                else {\r\n                    currentNode.bounds.draw(ex, Color.White);\r\n                }\r\n                if (currentNode.left) {\r\n                    helper(currentNode.left);\r\n                }\r\n                if (currentNode.right) {\r\n                    helper(currentNode.right);\r\n                }\r\n            }\r\n        };\r\n        helper(this.root);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Math/ray.ts\n/**\r\n * A 2D ray that can be cast into the scene to do collision detection\r\n */\r\nclass Ray {\r\n    /**\r\n     * @param pos The starting position for the ray\r\n     * @param dir The vector indicating the direction of the ray\r\n     */\r\n    constructor(pos, dir) {\r\n        this.pos = pos;\r\n        this.dir = dir.normalize();\r\n    }\r\n    /**\r\n     * Tests a whether this ray intersects with a line segment. Returns a number greater than or equal to 0 on success.\r\n     * This number indicates the mathematical intersection time.\r\n     * @param line  The line to test\r\n     */\r\n    intersect(line) {\r\n        const numerator = line.begin.sub(this.pos);\r\n        // Test is line and ray are parallel and non intersecting\r\n        if (this.dir.cross(line.getSlope()) === 0 && numerator.cross(this.dir) !== 0) {\r\n            return -1;\r\n        }\r\n        // Lines are parallel\r\n        const divisor = this.dir.cross(line.getSlope());\r\n        if (divisor === 0) {\r\n            return -1;\r\n        }\r\n        const t = numerator.cross(line.getSlope()) / divisor;\r\n        if (t >= 0) {\r\n            const u = numerator.cross(this.dir) / divisor / line.getLength();\r\n            if (u >= 0 && u <= 1) {\r\n                return t;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    intersectPoint(line) {\r\n        const time = this.intersect(line);\r\n        if (time < 0) {\r\n            return null;\r\n        }\r\n        return this.getPoint(time);\r\n    }\r\n    /**\r\n     * Returns the point of intersection given the intersection time\r\n     */\r\n    getPoint(time) {\r\n        return this.pos.add(this.dir.scale(time));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Detection/DynamicTreeCollisionProcessor.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Responsible for performing the collision broadphase (locating potential colllisions) and\r\n * the narrowphase (actual collision contacts)\r\n */\r\nclass DynamicTreeCollisionProcessor {\r\n    constructor() {\r\n        this._dynamicCollisionTree = new DynamicTree();\r\n        this._collisions = new Set();\r\n        this._collisionPairCache = [];\r\n        this._colliders = [];\r\n    }\r\n    getColliders() {\r\n        return this._colliders;\r\n    }\r\n    /**\r\n     * Tracks a physics body for collisions\r\n     */\r\n    track(target) {\r\n        if (!target) {\r\n            Logger.getInstance().warn('Cannot track null collider');\r\n            return;\r\n        }\r\n        if (target instanceof CompositeCollider) {\r\n            const colliders = target.getColliders();\r\n            for (const c of colliders) {\r\n                c.owner = target.owner;\r\n                this._colliders.push(c);\r\n                this._dynamicCollisionTree.trackCollider(c);\r\n            }\r\n        }\r\n        else {\r\n            this._colliders.push(target);\r\n            this._dynamicCollisionTree.trackCollider(target);\r\n        }\r\n    }\r\n    /**\r\n     * Untracks a physics body\r\n     */\r\n    untrack(target) {\r\n        if (!target) {\r\n            Logger.getInstance().warn('Cannot untrack a null collider');\r\n            return;\r\n        }\r\n        if (target instanceof CompositeCollider) {\r\n            const colliders = target.getColliders();\r\n            for (const c of colliders) {\r\n                const index = this._colliders.indexOf(c);\r\n                if (index !== -1) {\r\n                    this._colliders.splice(index, 1);\r\n                }\r\n                this._dynamicCollisionTree.untrackCollider(c);\r\n            }\r\n        }\r\n        else {\r\n            const index = this._colliders.indexOf(target);\r\n            if (index !== -1) {\r\n                this._colliders.splice(index, 1);\r\n            }\r\n            this._dynamicCollisionTree.untrackCollider(target);\r\n        }\r\n    }\r\n    _shouldGenerateCollisionPair(colliderA, colliderB) {\r\n        // if the collision pair must be 2 separate colliders\r\n        // Also separate owners for composite colliders\r\n        if ((colliderA.id !== null &&\r\n            colliderB.id !== null &&\r\n            colliderA.id === colliderB.id) ||\r\n            (colliderA.owner !== null &&\r\n                colliderB.owner !== null &&\r\n                colliderA.owner === colliderB.owner)) {\r\n            return false;\r\n        }\r\n        // if the collision pair has been calculated already short circuit\r\n        const hash = Pair.calculatePairHash(colliderA.id, colliderB.id);\r\n        if (this._collisions.has(hash)) {\r\n            return false; // pair exists easy exit return false\r\n        }\r\n        // if the pair has a member with zero dimension\r\n        if (colliderA.localBounds.hasZeroDimensions() || colliderB.localBounds.hasZeroDimensions()) {\r\n            return false;\r\n        }\r\n        return Pair.canCollide(colliderA, colliderB);\r\n    }\r\n    /**\r\n     * Detects potential collision pairs in a broadphase approach with the dynamic aabb tree strategy\r\n     */\r\n    broadphase(targets, delta, stats) {\r\n        const seconds = delta / 1000;\r\n        // Retrieve the list of potential colliders, exclude killed, prevented, and self\r\n        const potentialColliders = targets.filter((other) => {\r\n            var _a, _b;\r\n            const body = (_a = other.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\r\n            return ((_b = other.owner) === null || _b === void 0 ? void 0 : _b.active) && body.collisionType !== CollisionType.PreventCollision;\r\n        });\r\n        // clear old list of collision pairs\r\n        this._collisionPairCache = [];\r\n        this._collisions.clear();\r\n        // check for normal collision pairs\r\n        let collider;\r\n        for (let j = 0, l = potentialColliders.length; j < l; j++) {\r\n            collider = potentialColliders[j];\r\n            // Query the collision tree for potential colliders\r\n            this._dynamicCollisionTree.query(collider, (other) => {\r\n                if (this._shouldGenerateCollisionPair(collider, other)) {\r\n                    const pair = new Pair(collider, other);\r\n                    this._collisions.add(pair.id);\r\n                    this._collisionPairCache.push(pair);\r\n                }\r\n                // Always return false, to query whole tree. Returning true in the query method stops searching\r\n                return false;\r\n            });\r\n        }\r\n        if (stats) {\r\n            stats.physics.pairs = this._collisionPairCache.length;\r\n        }\r\n        // Check dynamic tree for fast moving objects\r\n        // Fast moving objects are those moving at least there smallest bound per frame\r\n        if (Physics.checkForFastBodies) {\r\n            for (const collider of potentialColliders) {\r\n                const body = collider.owner.get(BodyComponent);\r\n                // Skip non-active objects. Does not make sense on other collision types\r\n                if (body.collisionType !== CollisionType.Active) {\r\n                    continue;\r\n                }\r\n                // Maximum travel distance next frame\r\n                const updateDistance = body.vel.size * seconds + // velocity term\r\n                    body.acc.size * 0.5 * seconds * seconds; // acc term\r\n                // Find the minimum dimension\r\n                const minDimension = Math.min(collider.bounds.height, collider.bounds.width);\r\n                if (Physics.disableMinimumSpeedForFastBody || updateDistance > minDimension / 2) {\r\n                    if (stats) {\r\n                        stats.physics.fastBodies++;\r\n                    }\r\n                    // start with the oldPos because the integration for actors has already happened\r\n                    // objects resting on a surface may be slightly penetrating in the current position\r\n                    const updateVec = body.pos.sub(body.oldPos);\r\n                    const centerPoint = collider.center;\r\n                    const furthestPoint = collider.getFurthestPoint(body.vel);\r\n                    const origin = furthestPoint.sub(updateVec);\r\n                    const ray = new Ray(origin, body.vel);\r\n                    // back the ray up by -2x surfaceEpsilon to account for fast moving objects starting on the surface\r\n                    ray.pos = ray.pos.add(ray.dir.scale(-2 * Physics.surfaceEpsilon));\r\n                    let minCollider;\r\n                    let minTranslate = new Vector(Infinity, Infinity);\r\n                    this._dynamicCollisionTree.rayCastQuery(ray, updateDistance + Physics.surfaceEpsilon * 2, (other) => {\r\n                        if (collider !== other && Pair.canCollide(collider, other)) {\r\n                            const hitPoint = other.rayCast(ray, updateDistance + Physics.surfaceEpsilon * 10);\r\n                            if (hitPoint) {\r\n                                const translate = hitPoint.sub(origin);\r\n                                if (translate.size < minTranslate.size) {\r\n                                    minTranslate = translate;\r\n                                    minCollider = other;\r\n                                }\r\n                            }\r\n                        }\r\n                        return false;\r\n                    });\r\n                    if (minCollider && Vector.isValid(minTranslate)) {\r\n                        const pair = new Pair(collider, minCollider);\r\n                        if (!this._collisions.has(pair.id)) {\r\n                            this._collisions.add(pair.id);\r\n                            this._collisionPairCache.push(pair);\r\n                        }\r\n                        // move the fast moving object to the other body\r\n                        // need to push into the surface by ex.Physics.surfaceEpsilon\r\n                        const shift = centerPoint.sub(furthestPoint);\r\n                        body.pos = origin\r\n                            .add(shift)\r\n                            .add(minTranslate)\r\n                            .add(ray.dir.scale(10 * Physics.surfaceEpsilon)); // needed to push the shape slightly into contact\r\n                        collider.update(body.transform);\r\n                        if (stats) {\r\n                            stats.physics.fastBodyCollisions++;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // return cache\r\n        return this._collisionPairCache;\r\n    }\r\n    /**\r\n     * Applies narrow phase on collision pairs to find actual area intersections\r\n     * Adds actual colliding pairs to stats' Frame data\r\n     */\r\n    narrowphase(pairs, stats) {\r\n        let contacts = [];\r\n        for (let i = 0; i < pairs.length; i++) {\r\n            const newContacts = pairs[i].collide();\r\n            contacts = contacts.concat(newContacts);\r\n            if (stats && newContacts.length > 0) {\r\n                for (const c of newContacts) {\r\n                    stats.physics.contacts.set(c.id, c);\r\n                }\r\n            }\r\n        }\r\n        if (stats) {\r\n            stats.physics.collisions += contacts.length;\r\n        }\r\n        return contacts;\r\n    }\r\n    /**\r\n     * Update the dynamic tree positions\r\n     */\r\n    update(targets) {\r\n        let updated = 0;\r\n        const len = targets.length;\r\n        for (let i = 0; i < len; i++) {\r\n            if (this._dynamicCollisionTree.updateCollider(targets[i])) {\r\n                updated++;\r\n            }\r\n        }\r\n        return updated;\r\n    }\r\n    debug(ex) {\r\n        this._dynamicCollisionTree.debug(ex);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Colliders/Collider.ts\n\r\n\r\n/**\r\n * A collision collider specifies the geometry that can detect when other collision colliders intersect\r\n * for the purposes of colliding 2 objects in excalibur.\r\n */\r\nclass Collider {\r\n    constructor() {\r\n        this.id = createId('collider', Collider._ID++);\r\n        this.events = new EventDispatcher(this);\r\n    }\r\n    /**\r\n     * Returns a boolean indicating whether this body collided with\r\n     * or was in stationary contact with\r\n     * the body of the other [[Collider]]\r\n     */\r\n    touching(other) {\r\n        const contact = this.collide(other);\r\n        if (contact) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\nCollider._ID = 0;\r\n\n;// CONCATENATED MODULE: ./Collision/Colliders/CompositeCollider.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CompositeCollider extends Collider {\r\n    constructor(colliders) {\r\n        super();\r\n        this._collisionProcessor = new DynamicTreeCollisionProcessor();\r\n        this._dynamicAABBTree = new DynamicTree();\r\n        this._colliders = [];\r\n        for (const c of colliders) {\r\n            this.addCollider(c);\r\n        }\r\n    }\r\n    clearColliders() {\r\n        this._colliders = [];\r\n    }\r\n    addCollider(collider) {\r\n        this.events.wire(collider.events);\r\n        this._colliders.push(collider);\r\n        this._collisionProcessor.track(collider);\r\n        this._dynamicAABBTree.trackCollider(collider);\r\n    }\r\n    removeCollider(collider) {\r\n        this.events.unwire(collider.events);\r\n        removeItemFromArray(collider, this._colliders);\r\n        this._collisionProcessor.untrack(collider);\r\n        this._dynamicAABBTree.untrackCollider(collider);\r\n    }\r\n    getColliders() {\r\n        return this._colliders;\r\n    }\r\n    get worldPos() {\r\n        var _a, _b;\r\n        // TODO transform component world pos\r\n        return (_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) !== null && _b !== void 0 ? _b : Vector.Zero;\r\n    }\r\n    get center() {\r\n        var _a, _b;\r\n        return (_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) !== null && _b !== void 0 ? _b : Vector.Zero;\r\n    }\r\n    get bounds() {\r\n        var _a, _b;\r\n        // TODO cache this\r\n        const colliders = this.getColliders();\r\n        const results = colliders.reduce((acc, collider) => acc.combine(collider.bounds), (_b = (_a = colliders[0]) === null || _a === void 0 ? void 0 : _a.bounds) !== null && _b !== void 0 ? _b : new BoundingBox().translate(this.worldPos));\r\n        return results;\r\n    }\r\n    get localBounds() {\r\n        var _a, _b;\r\n        // TODO cache this\r\n        const colliders = this.getColliders();\r\n        const results = colliders.reduce((acc, collider) => acc.combine(collider.localBounds), (_b = (_a = colliders[0]) === null || _a === void 0 ? void 0 : _a.localBounds) !== null && _b !== void 0 ? _b : new BoundingBox());\r\n        return results;\r\n    }\r\n    get axes() {\r\n        // TODO cache this\r\n        const colliders = this.getColliders();\r\n        let axes = [];\r\n        for (const collider of colliders) {\r\n            axes = axes.concat(collider.axes);\r\n        }\r\n        return axes;\r\n    }\r\n    getFurthestPoint(direction) {\r\n        const colliders = this.getColliders();\r\n        const furthestPoints = [];\r\n        for (const collider of colliders) {\r\n            furthestPoints.push(collider.getFurthestPoint(direction));\r\n        }\r\n        // Pick best point from all colliders\r\n        let bestPoint = furthestPoints[0];\r\n        let maxDistance = -Number.MAX_VALUE;\r\n        for (const point of furthestPoints) {\r\n            const distance = point.dot(direction);\r\n            if (distance > maxDistance) {\r\n                bestPoint = point;\r\n                maxDistance = distance;\r\n            }\r\n        }\r\n        return bestPoint;\r\n    }\r\n    getInertia(mass) {\r\n        const colliders = this.getColliders();\r\n        let totalInertia = 0;\r\n        for (const collider of colliders) {\r\n            totalInertia += collider.getInertia(mass);\r\n        }\r\n        return totalInertia;\r\n    }\r\n    collide(other) {\r\n        let otherColliders = [other];\r\n        if (other instanceof CompositeCollider) {\r\n            otherColliders = other.getColliders();\r\n        }\r\n        const pairs = [];\r\n        for (const c of otherColliders) {\r\n            this._dynamicAABBTree.query(c, (potentialCollider) => {\r\n                pairs.push(new Pair(c, potentialCollider));\r\n                return false;\r\n            });\r\n        }\r\n        let contacts = [];\r\n        for (const p of pairs) {\r\n            contacts = contacts.concat(p.collide());\r\n        }\r\n        return contacts;\r\n    }\r\n    getClosestLineBetween(other) {\r\n        const colliders = this.getColliders();\r\n        const lines = [];\r\n        if (other instanceof CompositeCollider) {\r\n            const otherColliders = other.getColliders();\r\n            for (const colliderA of colliders) {\r\n                for (const colliderB of otherColliders) {\r\n                    const maybeLine = colliderA.getClosestLineBetween(colliderB);\r\n                    if (maybeLine) {\r\n                        lines.push(maybeLine);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (const collider of colliders) {\r\n                const maybeLine = other.getClosestLineBetween(collider);\r\n                if (maybeLine) {\r\n                    lines.push(maybeLine);\r\n                }\r\n            }\r\n        }\r\n        if (lines.length) {\r\n            let minLength = lines[0].getLength();\r\n            let minLine = lines[0];\r\n            for (const line of lines) {\r\n                const length = line.getLength();\r\n                if (length < minLength) {\r\n                    minLength = length;\r\n                    minLine = line;\r\n                }\r\n            }\r\n            return minLine;\r\n        }\r\n        return null;\r\n    }\r\n    contains(point) {\r\n        const colliders = this.getColliders();\r\n        for (const collider of colliders) {\r\n            if (collider.contains(point)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    rayCast(ray, max) {\r\n        const colliders = this.getColliders();\r\n        const points = [];\r\n        for (const collider of colliders) {\r\n            const vec = collider.rayCast(ray, max);\r\n            if (vec) {\r\n                points.push(vec);\r\n            }\r\n        }\r\n        if (points.length) {\r\n            let minPoint = points[0];\r\n            let minDistance = minPoint.dot(ray.dir);\r\n            for (const point of points) {\r\n                const distance = ray.dir.dot(point);\r\n                if (distance < minDistance) {\r\n                    minPoint = point;\r\n                    minDistance = distance;\r\n                }\r\n            }\r\n            return minPoint;\r\n        }\r\n        return null;\r\n    }\r\n    project(axis) {\r\n        const colliders = this.getColliders();\r\n        const projs = [];\r\n        for (const collider of colliders) {\r\n            const proj = collider.project(axis);\r\n            if (proj) {\r\n                projs.push(proj);\r\n            }\r\n        }\r\n        // Merge all proj's on the same axis\r\n        if (projs.length) {\r\n            const newProjection = new Projection(projs[0].min, projs[0].max);\r\n            for (const proj of projs) {\r\n                newProjection.min = Math.min(proj.min, newProjection.min);\r\n                newProjection.max = Math.max(proj.max, newProjection.max);\r\n            }\r\n            return newProjection;\r\n        }\r\n        return null;\r\n    }\r\n    update(transform) {\r\n        if (transform) {\r\n            const colliders = this.getColliders();\r\n            for (const collider of colliders) {\r\n                collider.owner = this.owner;\r\n                collider.update(transform);\r\n            }\r\n        }\r\n    }\r\n    draw(ctx, color, pos) {\r\n        const colliders = this.getColliders();\r\n        for (const collider of colliders) {\r\n            collider.draw(ctx, color, pos);\r\n        }\r\n    }\r\n    debug(ex, color) {\r\n        const colliders = this.getColliders();\r\n        for (const collider of colliders) {\r\n            collider.debug(ex, color);\r\n        }\r\n    }\r\n    debugDraw(ctx, color) {\r\n        const colliders = this.getColliders();\r\n        for (const collider of colliders) {\r\n            collider.draw(ctx, color);\r\n        }\r\n    }\r\n    clone() {\r\n        return new CompositeCollider(this._colliders.map((c) => c.clone()));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Math/line.ts\n\r\n/**\r\n * A 2D line segment\r\n */\r\nclass Line {\r\n    /**\r\n     * @param begin  The starting point of the line segment\r\n     * @param end  The ending point of the line segment\r\n     */\r\n    constructor(begin, end) {\r\n        this.begin = begin;\r\n        this.end = end;\r\n    }\r\n    /**\r\n     * Gets the raw slope (m) of the line. Will return (+/-)Infinity for vertical lines.\r\n     */\r\n    get slope() {\r\n        return (this.end.y - this.begin.y) / (this.end.x - this.begin.x);\r\n    }\r\n    /**\r\n     * Gets the Y-intercept (b) of the line. Will return (+/-)Infinity if there is no intercept.\r\n     */\r\n    get intercept() {\r\n        return this.begin.y - this.slope * this.begin.x;\r\n    }\r\n    /**\r\n     * Gets the normal of the line\r\n     */\r\n    normal() {\r\n        return this.end.sub(this.begin).normal();\r\n    }\r\n    dir() {\r\n        return this.end.sub(this.begin);\r\n    }\r\n    getPoints() {\r\n        return [this.begin, this.end];\r\n    }\r\n    /**\r\n     * Returns the slope of the line in the form of a vector of length 1\r\n     */\r\n    getSlope() {\r\n        const begin = this.begin;\r\n        const end = this.end;\r\n        const distance = begin.distance(end);\r\n        return end.sub(begin).scale(1 / distance);\r\n    }\r\n    /**\r\n     * Returns the edge of the line as vector, the length of the vector is the length of the edge\r\n     */\r\n    getEdge() {\r\n        const begin = this.begin;\r\n        const end = this.end;\r\n        return end.sub(begin);\r\n    }\r\n    /**\r\n     * Returns the length of the line segment in pixels\r\n     */\r\n    getLength() {\r\n        const begin = this.begin;\r\n        const end = this.end;\r\n        const distance = begin.distance(end);\r\n        return distance;\r\n    }\r\n    /**\r\n     * Returns the midpoint of the edge\r\n     */\r\n    get midpoint() {\r\n        return this.begin.add(this.end).scale(0.5);\r\n    }\r\n    /**\r\n     * Flips the direction of the line segment\r\n     */\r\n    flip() {\r\n        return new Line(this.end, this.begin);\r\n    }\r\n    /**\r\n     * Tests if a given point is below the line, points in the normal direction above the line are considered above.\r\n     * @param point\r\n     */\r\n    below(point) {\r\n        const above2 = (this.end.x - this.begin.x) * (point.y - this.begin.y) - (this.end.y - this.begin.y) * (point.x - this.begin.x);\r\n        return above2 >= 0;\r\n    }\r\n    /**\r\n     * Returns the clip point\r\n     * @param sideVector Vector that traces the line\r\n     * @param length Length to clip along side\r\n     */\r\n    clip(sideVector, length) {\r\n        let dir = sideVector;\r\n        dir = dir.normalize();\r\n        const near = dir.dot(this.begin) - length;\r\n        const far = dir.dot(this.end) - length;\r\n        const results = [];\r\n        if (near <= 0) {\r\n            results.push(this.begin);\r\n        }\r\n        if (far <= 0) {\r\n            results.push(this.end);\r\n        }\r\n        if (near * far < 0) {\r\n            const clipTime = near / (near - far);\r\n            results.push(this.begin.add(this.end.sub(this.begin).scale(clipTime)));\r\n        }\r\n        if (results.length !== 2) {\r\n            return null;\r\n        }\r\n        return new Line(results[0], results[1]);\r\n    }\r\n    /**\r\n     * Find the perpendicular distance from the line to a point\r\n     * https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\r\n     * @param point\r\n     */\r\n    distanceToPoint(point, signed = false) {\r\n        const x0 = point.x;\r\n        const y0 = point.y;\r\n        const l = this.getLength();\r\n        const dy = this.end.y - this.begin.y;\r\n        const dx = this.end.x - this.begin.x;\r\n        const distance = (dy * x0 - dx * y0 + this.end.x * this.begin.y - this.end.y * this.begin.x) / l;\r\n        return signed ? distance : Math.abs(distance);\r\n    }\r\n    /**\r\n     * Find the perpendicular line from the line to a point\r\n     * https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\r\n     * (a - p) - ((a - p) * n)n\r\n     * a is a point on the line\r\n     * p is the arbitrary point above the line\r\n     * n is a unit vector in direction of the line\r\n     * @param point\r\n     */\r\n    findVectorToPoint(point) {\r\n        const aMinusP = this.begin.sub(point);\r\n        const n = this.getSlope();\r\n        return aMinusP.sub(n.scale(aMinusP.dot(n)));\r\n    }\r\n    /**\r\n     * Finds a point on the line given only an X or a Y value. Given an X value, the function returns\r\n     * a new point with the calculated Y value and vice-versa.\r\n     *\r\n     * @param x The known X value of the target point\r\n     * @param y The known Y value of the target point\r\n     * @returns A new point with the other calculated axis value\r\n     */\r\n    findPoint(x = null, y = null) {\r\n        const m = this.slope;\r\n        const b = this.intercept;\r\n        if (x !== null) {\r\n            return new Vector(x, m * x + b);\r\n        }\r\n        else if (y !== null) {\r\n            return new Vector((y - b) / m, y);\r\n        }\r\n        else {\r\n            throw new Error('You must provide an X or a Y value');\r\n        }\r\n    }\r\n    /**\r\n     * @see http://stackoverflow.com/a/11908158/109458\r\n     */\r\n    hasPoint() {\r\n        let currPoint;\r\n        let threshold = 0;\r\n        if (typeof arguments[0] === 'number' && typeof arguments[1] === 'number') {\r\n            currPoint = new Vector(arguments[0], arguments[1]);\r\n            threshold = arguments[2] || 0;\r\n        }\r\n        else if (arguments[0] instanceof Vector) {\r\n            currPoint = arguments[0];\r\n            threshold = arguments[1] || 0;\r\n        }\r\n        else {\r\n            throw 'Could not determine the arguments for Vector.hasPoint';\r\n        }\r\n        const dxc = currPoint.x - this.begin.x;\r\n        const dyc = currPoint.y - this.begin.y;\r\n        const dx1 = this.end.x - this.begin.x;\r\n        const dy1 = this.end.y - this.begin.y;\r\n        const cross = dxc * dy1 - dyc * dx1;\r\n        // check whether point lines on the line\r\n        if (Math.abs(cross) > threshold) {\r\n            return false;\r\n        }\r\n        // check whether point lies in-between start and end\r\n        if (Math.abs(dx1) >= Math.abs(dy1)) {\r\n            return dx1 > 0 ? this.begin.x <= currPoint.x && currPoint.x <= this.end.x : this.end.x <= currPoint.x && currPoint.x <= this.begin.x;\r\n        }\r\n        else {\r\n            return dy1 > 0 ? this.begin.y <= currPoint.y && currPoint.y <= this.end.y : this.end.y <= currPoint.y && currPoint.y <= this.begin.y;\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Colliders/ClosestLineJumpTable.ts\n\r\n\r\n\r\n/**\r\n * Finds the closes line between 2 line segments, were the magnitude of u, v are the lengths of each segment\r\n * L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\r\n * L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\r\n * @param p0 Point where L1 begins\r\n * @param u Direction and length of L1\r\n * @param q0 Point were L2 begins\r\n * @param v Direction and length of L2\r\n */\r\nfunction ClosestLine(p0, u, q0, v) {\r\n    // Distance between 2 lines http://geomalgorithms.com/a07-_distance.html\r\n    // w(s, t) = P(s) - Q(t)\r\n    // The w(s, t) that has the minimum distance we will say is w(sClosest, tClosest) = wClosest\r\n    //\r\n    // wClosest is the vector that is uniquely perpendicular to the 2 line directions u & v.\r\n    // wClosest = w0 + sClosest * u - tClosest * v, where w0 is p0 - q0\r\n    //\r\n    // The closest point between 2 lines then satisfies this pair of equations\r\n    // 1: u * wClosest = 0\r\n    // 2: v * wClosest = 0\r\n    //\r\n    // Substituting wClosest into the equations we get\r\n    //\r\n    // 1: (u * u) * sClosest - (u * v) tClosest = -u * w0\r\n    // 2: (v * u) * sClosest - (v * v) tClosest = -v * w0\r\n    // simplify w0\r\n    const w0 = p0.sub(q0);\r\n    // simplify (u * u);\r\n    const a = u.dot(u);\r\n    // simplify (u * v);\r\n    const b = u.dot(v);\r\n    // simplify (v * v)\r\n    const c = v.dot(v);\r\n    // simplify (u * w0)\r\n    const d = u.dot(w0);\r\n    // simplify (v * w0)\r\n    const e = v.dot(w0);\r\n    // denominator ac - b^2\r\n    const denom = a * c - b * b;\r\n    let sDenom = denom;\r\n    let tDenom = denom;\r\n    // if denom is 0 they are parallel, use any point from either as the start in this case p0\r\n    if (denom === 0 || denom <= 0.01) {\r\n        const tClosestParallel = d / b;\r\n        return new Line(p0, q0.add(v.scale(tClosestParallel)));\r\n    }\r\n    // Solve for sClosest for infinite line\r\n    let sClosest = b * e - c * d; // / denom;\r\n    // Solve for tClosest for infinite line\r\n    let tClosest = a * e - b * d; // / denom;\r\n    // Solve for segments candidate edges, if sClosest and tClosest are outside their segments\r\n    if (sClosest < 0) {\r\n        sClosest = 0;\r\n        tClosest = e;\r\n        tDenom = c;\r\n    }\r\n    else if (sClosest > sDenom) {\r\n        sClosest = sDenom;\r\n        tClosest = e + b;\r\n        tDenom = c;\r\n    }\r\n    if (tClosest < 0) {\r\n        tClosest = 0;\r\n        if (-d < 0) {\r\n            sClosest = 0;\r\n        }\r\n        else if (-d > a) {\r\n            sClosest = sDenom;\r\n        }\r\n        else {\r\n            sClosest = -d;\r\n            sDenom = a;\r\n        }\r\n    }\r\n    else if (tClosest > tDenom) {\r\n        tClosest = tDenom;\r\n        if (-d + b < 0) {\r\n            sClosest = 0;\r\n        }\r\n        else if (-d + b > a) {\r\n            sClosest = sDenom;\r\n        }\r\n        else {\r\n            sClosest = -d + b;\r\n            sDenom = a;\r\n        }\r\n    }\r\n    sClosest = Math.abs(sClosest) < 0.001 ? 0 : sClosest / sDenom;\r\n    tClosest = Math.abs(tClosest) < 0.001 ? 0 : tClosest / tDenom;\r\n    return new Line(p0.add(u.scale(sClosest)), q0.add(v.scale(tClosest)));\r\n}\r\nconst ClosestLineJumpTable = {\r\n    PolygonPolygonClosestLine(polygonA, polygonB) {\r\n        // Find the 2 closest faces on each polygon\r\n        const otherWorldPos = polygonB.worldPos;\r\n        const otherDirection = otherWorldPos.sub(polygonA.worldPos);\r\n        const thisDirection = otherDirection.negate();\r\n        const rayTowardsOther = new Ray(polygonA.worldPos, otherDirection);\r\n        const rayTowardsThis = new Ray(otherWorldPos, thisDirection);\r\n        const thisPoint = polygonA.rayCast(rayTowardsOther).add(rayTowardsOther.dir.scale(0.1));\r\n        const otherPoint = polygonB.rayCast(rayTowardsThis).add(rayTowardsThis.dir.scale(0.1));\r\n        const thisFace = polygonA.getClosestFace(thisPoint);\r\n        const otherFace = polygonB.getClosestFace(otherPoint);\r\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\r\n        const p0 = thisFace.face.begin;\r\n        const u = thisFace.face.getEdge();\r\n        // L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\r\n        const q0 = otherFace.face.begin;\r\n        const v = otherFace.face.getEdge();\r\n        return ClosestLine(p0, u, q0, v);\r\n    },\r\n    PolygonEdgeClosestLine(polygon, edge) {\r\n        // Find the 2 closest faces on each polygon\r\n        const otherWorldPos = edge.worldPos;\r\n        const otherDirection = otherWorldPos.sub(polygon.worldPos);\r\n        const rayTowardsOther = new Ray(polygon.worldPos, otherDirection);\r\n        const thisPoint = polygon.rayCast(rayTowardsOther).add(rayTowardsOther.dir.scale(0.1));\r\n        const thisFace = polygon.getClosestFace(thisPoint);\r\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\r\n        const p0 = thisFace.face.begin;\r\n        const u = thisFace.face.getEdge();\r\n        // L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\r\n        const edgeLine = edge.asLine();\r\n        const edgeStart = edgeLine.begin;\r\n        const edgeVector = edgeLine.getEdge();\r\n        const q0 = edgeStart;\r\n        const v = edgeVector;\r\n        return ClosestLine(p0, u, q0, v);\r\n    },\r\n    PolygonCircleClosestLine(polygon, circle) {\r\n        // https://math.stackexchange.com/questions/1919177/how-to-find-point-on-line-closest-to-sphere\r\n        // Find the 2 closest faces on each polygon\r\n        const otherWorldPos = circle.worldPos;\r\n        const otherDirection = otherWorldPos.sub(polygon.worldPos);\r\n        const rayTowardsOther = new Ray(polygon.worldPos, otherDirection.normalize());\r\n        const thisPoint = polygon.rayCast(rayTowardsOther).add(rayTowardsOther.dir.scale(0.1));\r\n        const thisFace = polygon.getClosestFace(thisPoint);\r\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\r\n        const p0 = thisFace.face.begin;\r\n        const u = thisFace.face.getEdge();\r\n        // Time of minimum distance\r\n        let t = (u.x * (otherWorldPos.x - p0.x) + u.y * (otherWorldPos.y - p0.y)) / (u.x * u.x + u.y * u.y);\r\n        // If time of minimum is past the edge clamp\r\n        if (t > 1) {\r\n            t = 1;\r\n        }\r\n        else if (t < 0) {\r\n            t = 0;\r\n        }\r\n        // Minimum distance\r\n        const d = Math.sqrt(Math.pow(p0.x + u.x * t - otherWorldPos.x, 2) + Math.pow(p0.y + u.y * t - otherWorldPos.y, 2)) - circle.radius;\r\n        const circlex = ((p0.x + u.x * t - otherWorldPos.x) * circle.radius) / (circle.radius + d);\r\n        const circley = ((p0.y + u.y * t - otherWorldPos.y) * circle.radius) / (circle.radius + d);\r\n        return new Line(u.scale(t).add(p0), new Vector(otherWorldPos.x + circlex, otherWorldPos.y + circley));\r\n    },\r\n    CircleCircleClosestLine(circleA, circleB) {\r\n        // Find the 2 closest faces on each polygon\r\n        const otherWorldPos = circleB.worldPos;\r\n        const otherDirection = otherWorldPos.sub(circleA.worldPos);\r\n        const thisWorldPos = circleA.worldPos;\r\n        const thisDirection = thisWorldPos.sub(circleB.worldPos);\r\n        const rayTowardsOther = new Ray(circleA.worldPos, otherDirection);\r\n        const rayTowardsThis = new Ray(circleB.worldPos, thisDirection);\r\n        const thisPoint = circleA.rayCast(rayTowardsOther);\r\n        const otherPoint = circleB.rayCast(rayTowardsThis);\r\n        return new Line(thisPoint, otherPoint);\r\n    },\r\n    CircleEdgeClosestLine(circle, edge) {\r\n        // https://math.stackexchange.com/questions/1919177/how-to-find-point-on-line-closest-to-sphere\r\n        const circleWorlPos = circle.worldPos;\r\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\r\n        const edgeLine = edge.asLine();\r\n        const edgeStart = edgeLine.begin;\r\n        const edgeVector = edgeLine.getEdge();\r\n        const p0 = edgeStart;\r\n        const u = edgeVector;\r\n        // Time of minimum distance\r\n        let t = (u.x * (circleWorlPos.x - p0.x) + u.y * (circleWorlPos.y - p0.y)) / (u.x * u.x + u.y * u.y);\r\n        // If time of minimum is past the edge clamp to edge\r\n        if (t > 1) {\r\n            t = 1;\r\n        }\r\n        else if (t < 0) {\r\n            t = 0;\r\n        }\r\n        // Minimum distance\r\n        const d = Math.sqrt(Math.pow(p0.x + u.x * t - circleWorlPos.x, 2) + Math.pow(p0.y + u.y * t - circleWorlPos.y, 2)) - circle.radius;\r\n        const circlex = ((p0.x + u.x * t - circleWorlPos.x) * circle.radius) / (circle.radius + d);\r\n        const circley = ((p0.y + u.y * t - circleWorlPos.y) * circle.radius) / (circle.radius + d);\r\n        return new Line(u.scale(t).add(p0), new Vector(circleWorlPos.x + circlex, circleWorlPos.y + circley));\r\n    },\r\n    EdgeEdgeClosestLine(edgeA, edgeB) {\r\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\r\n        const edgeLineA = edgeA.asLine();\r\n        const edgeStartA = edgeLineA.begin;\r\n        const edgeVectorA = edgeLineA.getEdge();\r\n        const p0 = edgeStartA;\r\n        const u = edgeVectorA;\r\n        // L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\r\n        const edgeLineB = edgeB.asLine();\r\n        const edgeStartB = edgeLineB.begin;\r\n        const edgeVectorB = edgeLineB.getEdge();\r\n        const q0 = edgeStartB;\r\n        const v = edgeVectorB;\r\n        return ClosestLine(p0, u, q0, v);\r\n    }\r\n};\r\n\n;// CONCATENATED MODULE: ./Collision/Colliders/CircleCollider.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * This is a circle collider for the excalibur rigid body physics simulation\r\n */\r\nclass CircleCollider extends Collider {\r\n    constructor(options) {\r\n        super();\r\n        /**\r\n         * Position of the circle relative to the collider, by default (0, 0).\r\n         */\r\n        this.offset = Vector.Zero;\r\n        this.offset = options.offset || Vector.Zero;\r\n        this.radius = options.radius || 0;\r\n    }\r\n    get worldPos() {\r\n        var _a, _b;\r\n        return this.offset.add((_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) !== null && _b !== void 0 ? _b : Vector.Zero);\r\n    }\r\n    /**\r\n     * Returns a clone of this shape, not associated with any collider\r\n     */\r\n    clone() {\r\n        return new CircleCollider({\r\n            offset: this.offset.clone(),\r\n            radius: this.radius\r\n        });\r\n    }\r\n    /**\r\n     * Get the center of the collider in world coordinates\r\n     */\r\n    get center() {\r\n        var _a, _b;\r\n        return this.offset.add((_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) !== null && _b !== void 0 ? _b : Vector.Zero);\r\n    }\r\n    /**\r\n     * Tests if a point is contained in this collider\r\n     */\r\n    contains(point) {\r\n        var _a, _b;\r\n        const pos = (_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) !== null && _b !== void 0 ? _b : this.offset;\r\n        const distance = pos.distance(point);\r\n        if (distance <= this.radius) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Casts a ray at the Circle collider and returns the nearest point of collision\r\n     * @param ray\r\n     */\r\n    rayCast(ray, max = Infinity) {\r\n        //https://en.wikipedia.org/wiki/Line%E2%80%93sphere_intersection\r\n        const c = this.center;\r\n        const dir = ray.dir;\r\n        const orig = ray.pos;\r\n        const discriminant = Math.sqrt(Math.pow(dir.dot(orig.sub(c)), 2) - Math.pow(orig.sub(c).distance(), 2) + Math.pow(this.radius, 2));\r\n        if (discriminant < 0) {\r\n            // no intersection\r\n            return null;\r\n        }\r\n        else {\r\n            let toi = 0;\r\n            if (discriminant === 0) {\r\n                toi = -dir.dot(orig.sub(c));\r\n                if (toi > 0 && toi < max) {\r\n                    return ray.getPoint(toi);\r\n                }\r\n                return null;\r\n            }\r\n            else {\r\n                const toi1 = -dir.dot(orig.sub(c)) + discriminant;\r\n                const toi2 = -dir.dot(orig.sub(c)) - discriminant;\r\n                const positiveToi = [];\r\n                if (toi1 >= 0) {\r\n                    positiveToi.push(toi1);\r\n                }\r\n                if (toi2 >= 0) {\r\n                    positiveToi.push(toi2);\r\n                }\r\n                const mintoi = Math.min(...positiveToi);\r\n                if (mintoi <= max) {\r\n                    return ray.getPoint(mintoi);\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n    getClosestLineBetween(shape) {\r\n        if (shape instanceof CircleCollider) {\r\n            return ClosestLineJumpTable.CircleCircleClosestLine(this, shape);\r\n        }\r\n        else if (shape instanceof PolygonCollider) {\r\n            return ClosestLineJumpTable.PolygonCircleClosestLine(shape, this).flip();\r\n        }\r\n        else if (shape instanceof EdgeCollider) {\r\n            return ClosestLineJumpTable.CircleEdgeClosestLine(this, shape).flip();\r\n        }\r\n        else {\r\n            throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof shape}`);\r\n        }\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    collide(collider) {\r\n        if (collider instanceof CircleCollider) {\r\n            return CollisionJumpTable.CollideCircleCircle(this, collider);\r\n        }\r\n        else if (collider instanceof PolygonCollider) {\r\n            return CollisionJumpTable.CollideCirclePolygon(this, collider);\r\n        }\r\n        else if (collider instanceof EdgeCollider) {\r\n            return CollisionJumpTable.CollideCircleEdge(this, collider);\r\n        }\r\n        else {\r\n            throw new Error(`Circle could not collide with unknown CollisionShape ${typeof collider}`);\r\n        }\r\n    }\r\n    /**\r\n     * Find the point on the collider furthest in the direction specified\r\n     */\r\n    getFurthestPoint(direction) {\r\n        return this.center.add(direction.normalize().scale(this.radius));\r\n    }\r\n    /**\r\n     * Find the local point on the shape in the direction specified\r\n     * @param direction\r\n     */\r\n    getFurthestLocalPoint(direction) {\r\n        const dir = direction.normalize();\r\n        return dir.scale(this.radius);\r\n    }\r\n    /**\r\n     * Get the axis aligned bounding box for the circle collider in world coordinates\r\n     */\r\n    get bounds() {\r\n        var _a;\r\n        const tx = this._transform;\r\n        const bodyPos = (_a = tx === null || tx === void 0 ? void 0 : tx.globalPos) !== null && _a !== void 0 ? _a : Vector.Zero;\r\n        return new BoundingBox(this.offset.x + bodyPos.x - this.radius, this.offset.y + bodyPos.y - this.radius, this.offset.x + bodyPos.x + this.radius, this.offset.y + bodyPos.y + this.radius);\r\n    }\r\n    /**\r\n     * Get the axis aligned bounding box for the circle collider in local coordinates\r\n     */\r\n    get localBounds() {\r\n        return new BoundingBox(this.offset.x - this.radius, this.offset.y - this.radius, this.offset.x + this.radius, this.offset.y + this.radius);\r\n    }\r\n    /**\r\n     * Get axis not implemented on circles, since there are infinite axis in a circle\r\n     */\r\n    get axes() {\r\n        return [];\r\n    }\r\n    /**\r\n     * Returns the moment of inertia of a circle given it's mass\r\n     * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\r\n     */\r\n    getInertia(mass) {\r\n        return (mass * this.radius * this.radius) / 2;\r\n    }\r\n    /* istanbul ignore next */\r\n    update(transform) {\r\n        this._transform = transform;\r\n    }\r\n    /**\r\n     * Project the circle along a specified axis\r\n     */\r\n    project(axis) {\r\n        const scalars = [];\r\n        const point = this.center;\r\n        const dotProduct = point.dot(axis);\r\n        scalars.push(dotProduct);\r\n        scalars.push(dotProduct + this.radius);\r\n        scalars.push(dotProduct - this.radius);\r\n        return new Projection(Math.min.apply(Math, scalars), Math.max.apply(Math, scalars));\r\n    }\r\n    draw(ctx, color = Color.Green, pos = Vector.Zero) {\r\n        const newPos = pos.add(this.offset);\r\n        ctx.beginPath();\r\n        ctx.fillStyle = color.toString();\r\n        ctx.arc(newPos.x, newPos.y, this.radius, 0, Math.PI * 2);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    }\r\n    debug(ex, color) {\r\n        const tx = this._transform;\r\n        const pos = (tx === null || tx === void 0 ? void 0 : tx.globalPos) ? tx === null || tx === void 0 ? void 0 : tx.globalPos.add(this.offset) : this.offset;\r\n        ex.drawCircle(pos, this.radius, color);\r\n    }\r\n    /* istanbul ignore next */\r\n    debugDraw(ctx, color = Color.Green) {\r\n        const transform = this._transform;\r\n        const pos = transform ? transform.pos.add(this.offset) : this.offset;\r\n        const rotation = transform ? transform.rotation : 0;\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = color.toString();\r\n        ctx.arc(pos.x, pos.y, this.radius, 0, Math.PI * 2);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n        ctx.beginPath();\r\n        ctx.moveTo(pos.x, pos.y);\r\n        ctx.lineTo(Math.cos(rotation) * this.radius + pos.x, Math.sin(rotation) * this.radius + pos.y);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Detection/CollisionContact.ts\n\r\n\r\n\r\n\r\n/**\r\n * Collision contacts are used internally by Excalibur to resolve collision between colliders. This\r\n * Pair prevents collisions from being evaluated more than one time\r\n */\r\nclass CollisionContact {\r\n    constructor(colliderA, colliderB, mtv, normal, tangent, points, localPoints, info) {\r\n        this._canceled = false;\r\n        this.colliderA = colliderA;\r\n        this.colliderB = colliderB;\r\n        this.mtv = mtv;\r\n        this.normal = normal;\r\n        this.tangent = tangent;\r\n        this.points = points;\r\n        this.localPoints = localPoints;\r\n        this.info = info;\r\n        this.id = Pair.calculatePairHash(colliderA.id, colliderB.id);\r\n    }\r\n    /**\r\n     * Match contact awake state, except if body's are Fixed\r\n     */\r\n    matchAwake() {\r\n        const bodyA = this.colliderA.owner.get(BodyComponent);\r\n        const bodyB = this.colliderB.owner.get(BodyComponent);\r\n        if (bodyA && bodyB) {\r\n            if (bodyA.sleeping !== bodyB.sleeping) {\r\n                if (bodyA.sleeping && bodyA.collisionType !== CollisionType.Fixed && bodyB.sleepMotion >= Physics.wakeThreshold) {\r\n                    bodyA.setSleeping(false);\r\n                }\r\n                if (bodyB.sleeping && bodyB.collisionType !== CollisionType.Fixed && bodyA.sleepMotion >= Physics.wakeThreshold) {\r\n                    bodyB.setSleeping(false);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    isCanceled() {\r\n        return this._canceled;\r\n    }\r\n    cancel() {\r\n        this._canceled = true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Colliders/SeparatingAxis.ts\nclass SeparatingAxis {\r\n    static findPolygonPolygonSeparation(polyA, polyB) {\r\n        let bestSeparation = -Number.MAX_VALUE;\r\n        let bestSide = null;\r\n        let bestAxis = null;\r\n        let bestSideIndex = -1;\r\n        let bestOtherPoint = null;\r\n        const sides = polyA.getSides();\r\n        const localSides = polyA.getLocalSides();\r\n        for (let i = 0; i < sides.length; i++) {\r\n            const side = sides[i];\r\n            const axis = side.normal();\r\n            const vertB = polyB.getFurthestPoint(axis.negate());\r\n            // Separation on side i's axis\r\n            // We are looking for the largest separation between poly A's sides\r\n            const vertSeparation = side.distanceToPoint(vertB, true);\r\n            if (vertSeparation > bestSeparation) {\r\n                bestSeparation = vertSeparation;\r\n                bestSide = side;\r\n                bestAxis = axis;\r\n                bestSideIndex = i;\r\n                bestOtherPoint = vertB;\r\n            }\r\n        }\r\n        return {\r\n            collider: polyA,\r\n            separation: bestAxis ? bestSeparation : 99,\r\n            axis: bestAxis,\r\n            side: bestSide,\r\n            localSide: localSides[bestSideIndex],\r\n            sideId: bestSideIndex,\r\n            point: bestOtherPoint,\r\n            localPoint: bestAxis ? polyB.getFurthestLocalPoint(bestAxis.negate()) : null\r\n        };\r\n    }\r\n    static findCirclePolygonSeparation(circle, polygon) {\r\n        const axes = polygon.axes;\r\n        const pc = polygon.center;\r\n        // Special SAT with circles\r\n        const polyDir = pc.sub(circle.worldPos);\r\n        const closestPointOnPoly = polygon.getFurthestPoint(polyDir.negate());\r\n        axes.push(closestPointOnPoly.sub(circle.worldPos).normalize());\r\n        let minOverlap = Number.MAX_VALUE;\r\n        let minAxis = null;\r\n        let minIndex = -1;\r\n        for (let i = 0; i < axes.length; i++) {\r\n            const proj1 = polygon.project(axes[i]);\r\n            const proj2 = circle.project(axes[i]);\r\n            const overlap = proj1.getOverlap(proj2);\r\n            if (overlap <= 0) {\r\n                return null;\r\n            }\r\n            else {\r\n                if (overlap < minOverlap) {\r\n                    minOverlap = overlap;\r\n                    minAxis = axes[i];\r\n                    minIndex = i;\r\n                }\r\n            }\r\n        }\r\n        if (minIndex < 0) {\r\n            return null;\r\n        }\r\n        return minAxis.normalize().scale(minOverlap);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Colliders/CollisionJumpTable.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst CollisionJumpTable = {\r\n    CollideCircleCircle(circleA, circleB) {\r\n        const circleAPos = circleA.worldPos;\r\n        const circleBPos = circleB.worldPos;\r\n        const combinedRadius = circleA.radius + circleB.radius;\r\n        const distance = circleAPos.distance(circleBPos);\r\n        if (distance > combinedRadius) {\r\n            return [];\r\n        }\r\n        // negative means overlap\r\n        const separation = combinedRadius - distance;\r\n        // Normal points from A -> B\r\n        const normal = circleBPos.sub(circleAPos).normalize();\r\n        const tangent = normal.perpendicular();\r\n        const mvt = normal.scale(separation);\r\n        const point = circleA.getFurthestPoint(normal);\r\n        const local = circleA.getFurthestLocalPoint(normal);\r\n        const info = {\r\n            collider: circleA,\r\n            separation,\r\n            axis: normal,\r\n            point: point\r\n        };\r\n        return [new CollisionContact(circleA, circleB, mvt, normal, tangent, [point], [local], info)];\r\n    },\r\n    CollideCirclePolygon(circle, polygon) {\r\n        var _a, _b;\r\n        let minAxis = SeparatingAxis.findCirclePolygonSeparation(circle, polygon);\r\n        if (!minAxis) {\r\n            return [];\r\n        }\r\n        // make sure that the minAxis is pointing away from circle\r\n        const samedir = minAxis.dot(polygon.center.sub(circle.center));\r\n        minAxis = samedir < 0 ? minAxis.negate() : minAxis;\r\n        const point = circle.getFurthestPoint(minAxis);\r\n        const xf = (_b = (_a = circle.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent)) !== null && _b !== void 0 ? _b : new TransformComponent();\r\n        const local = xf.applyInverse(point);\r\n        const normal = minAxis.normalize();\r\n        const info = {\r\n            collider: circle,\r\n            separation: -minAxis.size,\r\n            axis: normal,\r\n            point: point,\r\n            localPoint: local,\r\n            side: polygon.findSide(normal.negate()),\r\n            localSide: polygon.findLocalSide(normal.negate())\r\n        };\r\n        return [new CollisionContact(circle, polygon, minAxis, normal, normal.perpendicular(), [point], [local], info)];\r\n    },\r\n    CollideCircleEdge(circle, edge) {\r\n        // TODO not sure this actually abides by local/world collisions\r\n        // Are edge.begin and edge.end local space or world space? I think they should be local\r\n        // center of the circle in world pos\r\n        const cc = circle.center;\r\n        // vector in the direction of the edge\r\n        const edgeWorld = edge.asLine();\r\n        const e = edgeWorld.end.sub(edgeWorld.begin);\r\n        // amount of overlap with the circle's center along the edge direction\r\n        const u = e.dot(edgeWorld.end.sub(cc));\r\n        const v = e.dot(cc.sub(edgeWorld.begin));\r\n        const side = edge.asLine();\r\n        const localSide = edge.asLocalLine();\r\n        // Potential region A collision (circle is on the left side of the edge, before the beginning)\r\n        if (v <= 0) {\r\n            const da = edgeWorld.begin.sub(cc);\r\n            const dda = da.dot(da); // quick and dirty way of calc'n distance in r^2 terms saves some sqrts\r\n            // save some sqrts\r\n            if (dda > circle.radius * circle.radius) {\r\n                return []; // no collision\r\n            }\r\n            const normal = da.normalize();\r\n            const separation = circle.radius - Math.sqrt(dda);\r\n            const info = {\r\n                collider: circle,\r\n                separation: separation,\r\n                axis: normal,\r\n                point: side.begin,\r\n                side: side,\r\n                localSide: localSide\r\n            };\r\n            return [\r\n                new CollisionContact(circle, edge, normal.scale(separation), normal, normal.perpendicular(), [side.begin], [localSide.begin], info)\r\n            ];\r\n        }\r\n        // Potential region B collision (circle is on the right side of the edge, after the end)\r\n        if (u <= 0) {\r\n            const db = edgeWorld.end.sub(cc);\r\n            const ddb = db.dot(db);\r\n            if (ddb > circle.radius * circle.radius) {\r\n                return [];\r\n            }\r\n            const normal = db.normalize();\r\n            const separation = circle.radius - Math.sqrt(ddb);\r\n            const info = {\r\n                collider: circle,\r\n                separation: separation,\r\n                axis: normal,\r\n                point: side.end,\r\n                side: side,\r\n                localSide: localSide\r\n            };\r\n            return [\r\n                new CollisionContact(circle, edge, normal.scale(separation), normal, normal.perpendicular(), [side.end], [localSide.end], info)\r\n            ];\r\n        }\r\n        // Otherwise potential region AB collision (circle is in the middle of the edge between the beginning and end)\r\n        const den = e.dot(e);\r\n        const pointOnEdge = edgeWorld.begin\r\n            .scale(u)\r\n            .add(edgeWorld.end.scale(v))\r\n            .scale(1 / den);\r\n        const d = cc.sub(pointOnEdge);\r\n        const dd = d.dot(d);\r\n        if (dd > circle.radius * circle.radius) {\r\n            return []; // no collision\r\n        }\r\n        let normal = e.perpendicular();\r\n        // flip correct direction\r\n        if (normal.dot(cc.sub(edgeWorld.begin)) < 0) {\r\n            normal.x = -normal.x;\r\n            normal.y = -normal.y;\r\n        }\r\n        normal = normal.normalize();\r\n        const separation = circle.radius - Math.sqrt(dd);\r\n        const mvt = normal.scale(separation);\r\n        const info = {\r\n            collider: circle,\r\n            separation: separation,\r\n            axis: normal,\r\n            point: pointOnEdge,\r\n            side: side,\r\n            localSide: localSide\r\n        };\r\n        return [\r\n            new CollisionContact(circle, edge, mvt, normal.negate(), normal.negate().perpendicular(), [pointOnEdge], [pointOnEdge.sub(edge.worldPos)], info)\r\n        ];\r\n    },\r\n    CollideEdgeEdge() {\r\n        // Edge-edge collision doesn't make sense\r\n        return [];\r\n    },\r\n    CollidePolygonEdge(polygon, edge) {\r\n        var _a;\r\n        const pc = polygon.center;\r\n        const ec = edge.center;\r\n        const dir = ec.sub(pc).normalize();\r\n        // build a temporary polygon from the edge to use SAT\r\n        const linePoly = new PolygonCollider({\r\n            points: [edge.begin, edge.end, edge.end.add(dir.scale(100)), edge.begin.add(dir.scale(100))],\r\n            offset: edge.offset\r\n        });\r\n        linePoly.owner = edge.owner;\r\n        const tx = (_a = edge.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent);\r\n        if (tx) {\r\n            linePoly.update(edge.owner.get(TransformComponent));\r\n        }\r\n        // Gross hack but poly-poly works well\r\n        const contact = this.CollidePolygonPolygon(polygon, linePoly);\r\n        if (contact.length) {\r\n            // Fudge the contact back to edge\r\n            contact[0].colliderB = edge;\r\n            contact[0].id = Pair.calculatePairHash(polygon.id, edge.id);\r\n            // contact[0].info.collider\r\n        }\r\n        return contact;\r\n    },\r\n    CollidePolygonPolygon(polyA, polyB) {\r\n        var _a, _b, _c, _d;\r\n        // Multi contact from SAT\r\n        // https://gamedev.stackexchange.com/questions/111390/multiple-contacts-for-sat-collision-detection\r\n        // do a SAT test to find a min axis if it exists\r\n        const separationA = SeparatingAxis.findPolygonPolygonSeparation(polyA, polyB);\r\n        // If there is no overlap from boxA's perspective we can end early\r\n        if (separationA.separation > 0) {\r\n            return [];\r\n        }\r\n        const separationB = SeparatingAxis.findPolygonPolygonSeparation(polyB, polyA);\r\n        // If there is no overlap from boxB's perspective exit now\r\n        if (separationB.separation > 0) {\r\n            return [];\r\n        }\r\n        // Separations are both negative, we want to pick the least negative (minimal movement)\r\n        const separation = separationA.separation > separationB.separation ? separationA : separationB;\r\n        // The incident side is the most opposite from the axes of collision on the other collider\r\n        const other = separation.collider === polyA ? polyB : polyA;\r\n        const incident = other.findSide(separation.axis.negate());\r\n        // Clip incident side by the perpendicular lines at each end of the reference side\r\n        // https://en.wikipedia.org/wiki/Sutherland%E2%80%93Hodgman_algorithm\r\n        const reference = separation.side;\r\n        const refDir = reference.dir().normalize();\r\n        // Find our contact points by clipping the incident by the collision side\r\n        const clipRight = incident.clip(refDir.negate(), -refDir.dot(reference.begin));\r\n        let clipLeft = null;\r\n        if (clipRight) {\r\n            clipLeft = clipRight.clip(refDir, refDir.dot(reference.end));\r\n        }\r\n        // If there is no left there is no collision\r\n        if (clipLeft) {\r\n            // We only want clip points below the reference edge, discard the others\r\n            const points = clipLeft.getPoints().filter((p) => {\r\n                return reference.below(p);\r\n            });\r\n            let normal = separation.axis;\r\n            let tangent = normal.perpendicular();\r\n            // Point Contact A -> B\r\n            if (polyB.worldPos.sub(polyA.worldPos).dot(normal) < 0) {\r\n                normal = normal.negate();\r\n                tangent = normal.perpendicular();\r\n            }\r\n            // Points are clipped from incident which is the other collider\r\n            // Store those as locals\r\n            let localPoints = [];\r\n            if (separation.collider === polyA) {\r\n                const xf = (_b = (_a = polyB.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent)) !== null && _b !== void 0 ? _b : new TransformComponent();\r\n                localPoints = points.map((p) => xf.applyInverse(p));\r\n            }\r\n            else {\r\n                const xf = (_d = (_c = polyA.owner) === null || _c === void 0 ? void 0 : _c.get(TransformComponent)) !== null && _d !== void 0 ? _d : new TransformComponent();\r\n                localPoints = points.map((p) => xf.applyInverse(p));\r\n            }\r\n            return [new CollisionContact(polyA, polyB, normal.scale(-separation.separation), normal, tangent, points, localPoints, separation)];\r\n        }\r\n        return [];\r\n    },\r\n    FindContactSeparation(contact, localPoint) {\r\n        var _a, _b, _c, _d;\r\n        const shapeA = contact.colliderA;\r\n        const txA = (_b = (_a = contact.colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent)) !== null && _b !== void 0 ? _b : new TransformComponent();\r\n        const shapeB = contact.colliderB;\r\n        const txB = (_d = (_c = contact.colliderB.owner) === null || _c === void 0 ? void 0 : _c.get(TransformComponent)) !== null && _d !== void 0 ? _d : new TransformComponent();\r\n        // both are circles\r\n        if (shapeA instanceof CircleCollider && shapeB instanceof CircleCollider) {\r\n            const combinedRadius = shapeA.radius + shapeB.radius;\r\n            const distance = txA.pos.distance(txB.pos);\r\n            const separation = combinedRadius - distance;\r\n            return -separation;\r\n        }\r\n        // both are polygons\r\n        if (shapeA instanceof PolygonCollider && shapeB instanceof PolygonCollider) {\r\n            if (contact.info.localSide) {\r\n                let side;\r\n                let worldPoint;\r\n                if (contact.info.collider === shapeA) {\r\n                    side = new Line(txA.apply(contact.info.localSide.begin), txA.apply(contact.info.localSide.end));\r\n                    worldPoint = txB.apply(localPoint);\r\n                }\r\n                else {\r\n                    side = new Line(txB.apply(contact.info.localSide.begin), txB.apply(contact.info.localSide.end));\r\n                    worldPoint = txA.apply(localPoint);\r\n                }\r\n                return side.distanceToPoint(worldPoint, true);\r\n            }\r\n        }\r\n        // polygon v circle\r\n        if ((shapeA instanceof PolygonCollider && shapeB instanceof CircleCollider) ||\r\n            (shapeB instanceof PolygonCollider && shapeA instanceof CircleCollider)) {\r\n            const worldPoint = txA.apply(localPoint);\r\n            if (contact.info.side) {\r\n                return contact.info.side.distanceToPoint(worldPoint, true);\r\n            }\r\n        }\r\n        // polygon v edge\r\n        if ((shapeA instanceof EdgeCollider && shapeB instanceof PolygonCollider) ||\r\n            (shapeB instanceof EdgeCollider && shapeA instanceof PolygonCollider)) {\r\n            let worldPoint;\r\n            if (contact.info.collider === shapeA) {\r\n                worldPoint = txB.apply(localPoint);\r\n            }\r\n            else {\r\n                worldPoint = txA.apply(localPoint);\r\n            }\r\n            if (contact.info.side) {\r\n                return contact.info.side.distanceToPoint(worldPoint, true);\r\n            }\r\n        }\r\n        // circle v edge\r\n        if ((shapeA instanceof CircleCollider && shapeB instanceof EdgeCollider) ||\r\n            (shapeB instanceof CircleCollider && shapeA instanceof EdgeCollider)) {\r\n            // Local point is always on the edge which is always shapeB\r\n            const worldPoint = txB.apply(localPoint);\r\n            let circlePoint;\r\n            if (shapeA instanceof CircleCollider) {\r\n                circlePoint = shapeA.getFurthestPoint(contact.normal);\r\n            }\r\n            const dist = worldPoint.distance(circlePoint);\r\n            if (contact.info.side) {\r\n                return dist > 0 ? -dist : 0;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n};\r\n\n;// CONCATENATED MODULE: ./Collision/Colliders/EdgeCollider.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Edge is a single line collider to create collisions with a single line.\r\n */\r\nclass EdgeCollider extends Collider {\r\n    constructor(options) {\r\n        var _a;\r\n        super();\r\n        this.begin = options.begin || Vector.Zero;\r\n        this.end = options.end || Vector.Zero;\r\n        this.offset = (_a = options.offset) !== null && _a !== void 0 ? _a : Vector.Zero;\r\n    }\r\n    /**\r\n     * Returns a clone of this Edge, not associated with any collider\r\n     */\r\n    clone() {\r\n        return new EdgeCollider({\r\n            begin: this.begin.clone(),\r\n            end: this.end.clone()\r\n        });\r\n    }\r\n    get worldPos() {\r\n        var _a;\r\n        const tx = this._transform;\r\n        return (_a = tx === null || tx === void 0 ? void 0 : tx.globalPos.add(this.offset)) !== null && _a !== void 0 ? _a : this.offset;\r\n    }\r\n    /**\r\n     * Get the center of the collision area in world coordinates\r\n     */\r\n    get center() {\r\n        const pos = this.begin.average(this.end).add(this._getBodyPos());\r\n        return pos;\r\n    }\r\n    _getBodyPos() {\r\n        var _a;\r\n        const tx = this._transform;\r\n        const bodyPos = (_a = tx === null || tx === void 0 ? void 0 : tx.globalPos) !== null && _a !== void 0 ? _a : Vector.Zero;\r\n        return bodyPos;\r\n    }\r\n    _getTransformedBegin() {\r\n        const tx = this._transform;\r\n        const angle = tx ? tx.globalRotation : 0;\r\n        return this.begin.rotate(angle).add(this._getBodyPos());\r\n    }\r\n    _getTransformedEnd() {\r\n        const tx = this._transform;\r\n        const angle = tx ? tx.globalRotation : 0;\r\n        return this.end.rotate(angle).add(this._getBodyPos());\r\n    }\r\n    /**\r\n     * Returns the slope of the line in the form of a vector\r\n     */\r\n    getSlope() {\r\n        const begin = this._getTransformedBegin();\r\n        const end = this._getTransformedEnd();\r\n        const distance = begin.distance(end);\r\n        return end.sub(begin).scale(1 / distance);\r\n    }\r\n    /**\r\n     * Returns the length of the line segment in pixels\r\n     */\r\n    getLength() {\r\n        const begin = this._getTransformedBegin();\r\n        const end = this._getTransformedEnd();\r\n        const distance = begin.distance(end);\r\n        return distance;\r\n    }\r\n    /**\r\n     * Tests if a point is contained in this collision area\r\n     */\r\n    contains() {\r\n        return false;\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    rayCast(ray, max = Infinity) {\r\n        const numerator = this._getTransformedBegin().sub(ray.pos);\r\n        // Test is line and ray are parallel and non intersecting\r\n        if (ray.dir.cross(this.getSlope()) === 0 && numerator.cross(ray.dir) !== 0) {\r\n            return null;\r\n        }\r\n        // Lines are parallel\r\n        const divisor = ray.dir.cross(this.getSlope());\r\n        if (divisor === 0) {\r\n            return null;\r\n        }\r\n        const t = numerator.cross(this.getSlope()) / divisor;\r\n        if (t >= 0 && t <= max) {\r\n            const u = numerator.cross(ray.dir) / divisor / this.getLength();\r\n            if (u >= 0 && u <= 1) {\r\n                return ray.getPoint(t);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     * Returns the closes line between this and another collider, from this -> collider\r\n     * @param shape\r\n     */\r\n    getClosestLineBetween(shape) {\r\n        if (shape instanceof CircleCollider) {\r\n            return ClosestLineJumpTable.CircleEdgeClosestLine(shape, this);\r\n        }\r\n        else if (shape instanceof PolygonCollider) {\r\n            return ClosestLineJumpTable.PolygonEdgeClosestLine(shape, this).flip();\r\n        }\r\n        else if (shape instanceof EdgeCollider) {\r\n            return ClosestLineJumpTable.EdgeEdgeClosestLine(this, shape);\r\n        }\r\n        else {\r\n            throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof shape}`);\r\n        }\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    collide(shape) {\r\n        if (shape instanceof CircleCollider) {\r\n            return CollisionJumpTable.CollideCircleEdge(shape, this);\r\n        }\r\n        else if (shape instanceof PolygonCollider) {\r\n            return CollisionJumpTable.CollidePolygonEdge(shape, this);\r\n        }\r\n        else if (shape instanceof EdgeCollider) {\r\n            return CollisionJumpTable.CollideEdgeEdge();\r\n        }\r\n        else {\r\n            throw new Error(`Edge could not collide with unknown CollisionShape ${typeof shape}`);\r\n        }\r\n    }\r\n    /**\r\n     * Find the point on the collider furthest in the direction specified\r\n     */\r\n    getFurthestPoint(direction) {\r\n        const transformedBegin = this._getTransformedBegin();\r\n        const transformedEnd = this._getTransformedEnd();\r\n        if (direction.dot(transformedBegin) > 0) {\r\n            return transformedBegin;\r\n        }\r\n        else {\r\n            return transformedEnd;\r\n        }\r\n    }\r\n    _boundsFromBeginEnd(begin, end, padding = 10) {\r\n        // A perfectly vertical or horizontal edge would have a bounds 0 width or height\r\n        // this causes problems for the collision system so we give them some padding\r\n        return new BoundingBox(Math.min(begin.x, end.x) - padding, Math.min(begin.y, end.y) - padding, Math.max(begin.x, end.x) + padding, Math.max(begin.y, end.y) + padding);\r\n    }\r\n    /**\r\n     * Get the axis aligned bounding box for the edge collider in world space\r\n     */\r\n    get bounds() {\r\n        const transformedBegin = this._getTransformedBegin();\r\n        const transformedEnd = this._getTransformedEnd();\r\n        return this._boundsFromBeginEnd(transformedBegin, transformedEnd);\r\n    }\r\n    /**\r\n     * Get the axis aligned bounding box for the edge collider in local space\r\n     */\r\n    get localBounds() {\r\n        return this._boundsFromBeginEnd(this.begin, this.end);\r\n    }\r\n    /**\r\n     * Returns this edge represented as a line in world coordinates\r\n     */\r\n    asLine() {\r\n        return new Line(this._getTransformedBegin(), this._getTransformedEnd());\r\n    }\r\n    /**\r\n     * Return this edge as a line in local line coordinates (relative to the position)\r\n     */\r\n    asLocalLine() {\r\n        return new Line(this.begin, this.end);\r\n    }\r\n    /**\r\n     * Get the axis associated with the edge\r\n     */\r\n    get axes() {\r\n        const e = this._getTransformedEnd().sub(this._getTransformedBegin());\r\n        const edgeNormal = e.normal();\r\n        const axes = [];\r\n        axes.push(edgeNormal);\r\n        axes.push(edgeNormal.negate());\r\n        axes.push(edgeNormal.normal());\r\n        axes.push(edgeNormal.normal().negate());\r\n        return axes;\r\n    }\r\n    /**\r\n     * Get the moment of inertia for an edge\r\n     * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\r\n     */\r\n    getInertia(mass) {\r\n        const length = this.end.sub(this.begin).distance() / 2;\r\n        return mass * length * length;\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    update(transform) {\r\n        this._transform = transform;\r\n    }\r\n    /**\r\n     * Project the edge along a specified axis\r\n     */\r\n    project(axis) {\r\n        const scalars = [];\r\n        const points = [this._getTransformedBegin(), this._getTransformedEnd()];\r\n        const len = points.length;\r\n        for (let i = 0; i < len; i++) {\r\n            scalars.push(points[i].dot(axis));\r\n        }\r\n        return new Projection(Math.min.apply(Math, scalars), Math.max.apply(Math, scalars));\r\n    }\r\n    draw(ctx, color = Color.Green, pos = Vector.Zero) {\r\n        const begin = this.begin.add(pos);\r\n        const end = this.end.add(pos);\r\n        ctx.strokeStyle = color.toString();\r\n        ctx.beginPath();\r\n        ctx.moveTo(begin.x, begin.y);\r\n        ctx.lineTo(end.x, end.y);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n    }\r\n    debug(ex, color) {\r\n        const begin = this._getTransformedBegin();\r\n        const end = this._getTransformedEnd();\r\n        ex.drawLine(begin, end, color, 2);\r\n        ex.drawCircle(begin, 2, color);\r\n        ex.drawCircle(end, 2, color);\r\n    }\r\n    /* istanbul ignore next */\r\n    debugDraw(ctx, color = Color.Red) {\r\n        const begin = this._getTransformedBegin();\r\n        const end = this._getTransformedEnd();\r\n        ctx.strokeStyle = color.toString();\r\n        ctx.beginPath();\r\n        ctx.moveTo(begin.x, begin.y);\r\n        ctx.lineTo(end.x, end.y);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Colliders/PolygonCollider.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Polygon collider for detecting collisions\r\n */\r\nclass PolygonCollider extends Collider {\r\n    constructor(options) {\r\n        var _a;\r\n        super();\r\n        this._transformedPoints = [];\r\n        this._axes = [];\r\n        this._sides = [];\r\n        this._localSides = [];\r\n        this.offset = (_a = options.offset) !== null && _a !== void 0 ? _a : Vector.Zero;\r\n        const winding = !!options.clockwiseWinding;\r\n        this.points = (winding ? options.points.reverse() : options.points) || [];\r\n        // calculate initial transformation\r\n        this._calculateTransformation();\r\n    }\r\n    /**\r\n     * Returns a clone of this ConvexPolygon, not associated with any collider\r\n     */\r\n    clone() {\r\n        return new PolygonCollider({\r\n            offset: this.offset.clone(),\r\n            points: this.points.map((p) => p.clone())\r\n        });\r\n    }\r\n    /**\r\n     * Returns the world position of the collider, which is the current body transform plus any defined offset\r\n     */\r\n    get worldPos() {\r\n        if (this._transform) {\r\n            return this._transform.pos.add(this.offset);\r\n        }\r\n        return this.offset;\r\n    }\r\n    /**\r\n     * Get the center of the collider in world coordinates\r\n     */\r\n    get center() {\r\n        return this.bounds.center;\r\n    }\r\n    /**\r\n     * Calculates the underlying transformation from the body relative space to world space\r\n     */\r\n    _calculateTransformation() {\r\n        const transform = this._transform;\r\n        const pos = transform ? transform.globalPos.add(this.offset) : this.offset;\r\n        const angle = transform ? transform.globalRotation : 0;\r\n        const scale = transform ? transform.globalScale : Vector.One;\r\n        const len = this.points.length;\r\n        this._transformedPoints.length = 0; // clear out old transform\r\n        for (let i = 0; i < len; i++) {\r\n            this._transformedPoints[i] = this.points[i].scale(scale).rotate(angle).add(pos);\r\n        }\r\n    }\r\n    /**\r\n     * Gets the points that make up the polygon in world space, from actor relative space (if specified)\r\n     */\r\n    getTransformedPoints() {\r\n        this._calculateTransformation();\r\n        return this._transformedPoints;\r\n    }\r\n    /**\r\n     * Gets the sides of the polygon in world space\r\n     */\r\n    getSides() {\r\n        if (this._sides.length) {\r\n            return this._sides;\r\n        }\r\n        const lines = [];\r\n        const points = this.getTransformedPoints();\r\n        const len = points.length;\r\n        for (let i = 0; i < len; i++) {\r\n            // This winding is important\r\n            lines.push(new Line(points[i], points[(i + 1) % len]));\r\n        }\r\n        this._sides = lines;\r\n        return this._sides;\r\n    }\r\n    /**\r\n     * Returns the local coordinate space sides\r\n     */\r\n    getLocalSides() {\r\n        if (this._localSides.length) {\r\n            return this._localSides;\r\n        }\r\n        const lines = [];\r\n        const points = this.points;\r\n        const len = points.length;\r\n        for (let i = 0; i < len; i++) {\r\n            // This winding is important\r\n            lines.push(new Line(points[i], points[(i + 1) % len]));\r\n        }\r\n        this._localSides = lines;\r\n        return this._localSides;\r\n    }\r\n    /**\r\n     * Given a direction vector find the world space side that is most in that direction\r\n     * @param direction\r\n     */\r\n    findSide(direction) {\r\n        const sides = this.getSides();\r\n        let bestSide = sides[0];\r\n        let maxDistance = -Number.MAX_VALUE;\r\n        for (let side = 0; side < sides.length; side++) {\r\n            const currentSide = sides[side];\r\n            const sideNormal = currentSide.normal();\r\n            const mostDirection = sideNormal.dot(direction);\r\n            if (mostDirection > maxDistance) {\r\n                bestSide = currentSide;\r\n                maxDistance = mostDirection;\r\n            }\r\n        }\r\n        return bestSide;\r\n    }\r\n    /**\r\n     * Given a direction vector find the local space side that is most in that direction\r\n     * @param direction\r\n     */\r\n    findLocalSide(direction) {\r\n        const sides = this.getLocalSides();\r\n        let bestSide = sides[0];\r\n        let maxDistance = -Number.MAX_VALUE;\r\n        for (let side = 0; side < sides.length; side++) {\r\n            const currentSide = sides[side];\r\n            const sideNormal = currentSide.normal();\r\n            const mostDirection = sideNormal.dot(direction);\r\n            if (mostDirection > maxDistance) {\r\n                bestSide = currentSide;\r\n                maxDistance = mostDirection;\r\n            }\r\n        }\r\n        return bestSide;\r\n    }\r\n    /**\r\n     * Get the axis associated with the convex polygon\r\n     */\r\n    get axes() {\r\n        if (this._axes.length) {\r\n            return this._axes;\r\n        }\r\n        const axes = this.getSides().map((s) => s.normal());\r\n        this._axes = axes;\r\n        return this._axes;\r\n    }\r\n    update(transform) {\r\n        this._transform = transform;\r\n        this._sides.length = 0;\r\n        this._localSides.length = 0;\r\n        this._axes.length = 0;\r\n        this._transformedPoints.length = 0;\r\n        this.getTransformedPoints();\r\n        this.getSides();\r\n        this.getLocalSides();\r\n    }\r\n    /**\r\n     * Tests if a point is contained in this collider in world space\r\n     */\r\n    contains(point) {\r\n        // Always cast to the right, as long as we cast in a consistent fixed direction we\r\n        // will be fine\r\n        const testRay = new Ray(point, new Vector(1, 0));\r\n        const intersectCount = this.getSides().reduce(function (accum, side) {\r\n            if (testRay.intersect(side) >= 0) {\r\n                return accum + 1;\r\n            }\r\n            return accum;\r\n        }, 0);\r\n        if (intersectCount % 2 === 0) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    getClosestLineBetween(collider) {\r\n        if (collider instanceof CircleCollider) {\r\n            return ClosestLineJumpTable.PolygonCircleClosestLine(this, collider);\r\n        }\r\n        else if (collider instanceof PolygonCollider) {\r\n            return ClosestLineJumpTable.PolygonPolygonClosestLine(this, collider);\r\n        }\r\n        else if (collider instanceof EdgeCollider) {\r\n            return ClosestLineJumpTable.PolygonEdgeClosestLine(this, collider);\r\n        }\r\n        else {\r\n            throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof collider}`);\r\n        }\r\n    }\r\n    /**\r\n     * Returns a collision contact if the 2 colliders collide, otherwise collide will\r\n     * return null.\r\n     * @param collider\r\n     */\r\n    collide(collider) {\r\n        if (collider instanceof CircleCollider) {\r\n            return CollisionJumpTable.CollideCirclePolygon(collider, this);\r\n        }\r\n        else if (collider instanceof PolygonCollider) {\r\n            return CollisionJumpTable.CollidePolygonPolygon(this, collider);\r\n        }\r\n        else if (collider instanceof EdgeCollider) {\r\n            return CollisionJumpTable.CollidePolygonEdge(this, collider);\r\n        }\r\n        else {\r\n            throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof collider}`);\r\n        }\r\n    }\r\n    /**\r\n     * Find the point on the collider furthest in the direction specified\r\n     */\r\n    getFurthestPoint(direction) {\r\n        const pts = this.getTransformedPoints();\r\n        let furthestPoint = null;\r\n        let maxDistance = -Number.MAX_VALUE;\r\n        for (let i = 0; i < pts.length; i++) {\r\n            const distance = direction.dot(pts[i]);\r\n            if (distance > maxDistance) {\r\n                maxDistance = distance;\r\n                furthestPoint = pts[i];\r\n            }\r\n        }\r\n        return furthestPoint;\r\n    }\r\n    /**\r\n     * Find the local point on the collider furthest in the direction specified\r\n     * @param direction\r\n     */\r\n    getFurthestLocalPoint(direction) {\r\n        const pts = this.points;\r\n        let furthestPoint = pts[0];\r\n        let maxDistance = -Number.MAX_VALUE;\r\n        for (let i = 0; i < pts.length; i++) {\r\n            const distance = direction.dot(pts[i]);\r\n            if (distance > maxDistance) {\r\n                maxDistance = distance;\r\n                furthestPoint = pts[i];\r\n            }\r\n        }\r\n        return furthestPoint;\r\n    }\r\n    /**\r\n     * Finds the closes face to the point using perpendicular distance\r\n     * @param point point to test against polygon\r\n     */\r\n    getClosestFace(point) {\r\n        const sides = this.getSides();\r\n        let min = Number.POSITIVE_INFINITY;\r\n        let faceIndex = -1;\r\n        let distance = -1;\r\n        for (let i = 0; i < sides.length; i++) {\r\n            const dist = sides[i].distanceToPoint(point);\r\n            if (dist < min) {\r\n                min = dist;\r\n                faceIndex = i;\r\n                distance = dist;\r\n            }\r\n        }\r\n        if (faceIndex !== -1) {\r\n            return {\r\n                distance: sides[faceIndex].normal().scale(distance),\r\n                face: sides[faceIndex]\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     * Get the axis aligned bounding box for the polygon collider in world coordinates\r\n     */\r\n    get bounds() {\r\n        var _a, _b, _c;\r\n        const tx = this._transform;\r\n        const scale = (_a = tx === null || tx === void 0 ? void 0 : tx.globalScale) !== null && _a !== void 0 ? _a : Vector.One;\r\n        const rotation = (_b = tx === null || tx === void 0 ? void 0 : tx.globalRotation) !== null && _b !== void 0 ? _b : 0;\r\n        const pos = ((_c = tx === null || tx === void 0 ? void 0 : tx.globalPos) !== null && _c !== void 0 ? _c : Vector.Zero).add(this.offset);\r\n        return this.localBounds.scale(scale).rotate(rotation).translate(pos);\r\n    }\r\n    /**\r\n     * Get the axis aligned bounding box for the polygon collider in local coordinates\r\n     */\r\n    get localBounds() {\r\n        return BoundingBox.fromPoints(this.points);\r\n    }\r\n    /**\r\n     * Get the moment of inertia for an arbitrary polygon\r\n     * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\r\n     */\r\n    getInertia(mass) {\r\n        let numerator = 0;\r\n        let denominator = 0;\r\n        for (let i = 0; i < this.points.length; i++) {\r\n            const iplusone = (i + 1) % this.points.length;\r\n            const crossTerm = this.points[iplusone].cross(this.points[i]);\r\n            numerator +=\r\n                crossTerm *\r\n                    (this.points[i].dot(this.points[i]) + this.points[i].dot(this.points[iplusone]) + this.points[iplusone].dot(this.points[iplusone]));\r\n            denominator += crossTerm;\r\n        }\r\n        return (mass / 6) * (numerator / denominator);\r\n    }\r\n    /**\r\n     * Casts a ray into the polygon and returns a vector representing the point of contact (in world space) or null if no collision.\r\n     */\r\n    rayCast(ray, max = Infinity) {\r\n        // find the minimum contact time greater than 0\r\n        // contact times less than 0 are behind the ray and we don't want those\r\n        const sides = this.getSides();\r\n        const len = sides.length;\r\n        let minContactTime = Number.MAX_VALUE;\r\n        let contactIndex = -1;\r\n        for (let i = 0; i < len; i++) {\r\n            const contactTime = ray.intersect(sides[i]);\r\n            if (contactTime >= 0 && contactTime < minContactTime && contactTime <= max) {\r\n                minContactTime = contactTime;\r\n                contactIndex = i;\r\n            }\r\n        }\r\n        // contact was found\r\n        if (contactIndex >= 0) {\r\n            return ray.getPoint(minContactTime);\r\n        }\r\n        // no contact found\r\n        return null;\r\n    }\r\n    /**\r\n     * Project the edges of the polygon along a specified axis\r\n     */\r\n    project(axis) {\r\n        const points = this.getTransformedPoints();\r\n        const len = points.length;\r\n        let min = Number.MAX_VALUE;\r\n        let max = -Number.MAX_VALUE;\r\n        for (let i = 0; i < len; i++) {\r\n            const scalar = points[i].dot(axis);\r\n            min = Math.min(min, scalar);\r\n            max = Math.max(max, scalar);\r\n        }\r\n        return new Projection(min, max);\r\n    }\r\n    draw(ctx, color = Color.Green, pos = Vector.Zero) {\r\n        const effectiveOffset = pos.add(this.offset);\r\n        ctx.beginPath();\r\n        ctx.fillStyle = color.toString();\r\n        const firstPoint = this.points[0].add(effectiveOffset);\r\n        ctx.moveTo(firstPoint.x, firstPoint.y);\r\n        // Points are relative\r\n        this.points\r\n            .map((p) => p.add(effectiveOffset))\r\n            .forEach(function (point) {\r\n            ctx.lineTo(point.x, point.y);\r\n        });\r\n        ctx.lineTo(firstPoint.x, firstPoint.y);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    }\r\n    debug(ex, color) {\r\n        const firstPoint = this.getTransformedPoints()[0];\r\n        const points = [firstPoint, ...this.getTransformedPoints(), firstPoint];\r\n        for (let i = 0; i < points.length - 1; i++) {\r\n            ex.drawLine(points[i], points[i + 1], color, 2);\r\n            ex.drawCircle(points[i], 2, color);\r\n            ex.drawCircle(points[i + 1], 2, color);\r\n        }\r\n    }\r\n    /* istanbul ignore next */\r\n    debugDraw(ctx, color = Color.Red) {\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = color.toString();\r\n        // Iterate through the supplied points and construct a 'polygon'\r\n        const firstPoint = this.getTransformedPoints()[0];\r\n        ctx.moveTo(firstPoint.x, firstPoint.y);\r\n        this.getTransformedPoints().forEach(function (point) {\r\n            ctx.lineTo(point.x, point.y);\r\n        });\r\n        ctx.lineTo(firstPoint.x, firstPoint.y);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Colliders/Shape.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Excalibur helper for defining colliders quickly\r\n */\r\nclass Shape {\r\n    /**\r\n     * Creates a box collider, under the hood defines a [[PolygonCollider]] collider\r\n     * @param width Width of the box\r\n     * @param height Height of the box\r\n     * @param anchor Anchor of the box (default (.5, .5)) which positions the box relative to the center of the collider's position\r\n     * @param offset Optional offset relative to the collider in local coordinates\r\n     */\r\n    static Box(width, height, anchor = Vector.Half, offset = Vector.Zero) {\r\n        return new PolygonCollider({\r\n            points: new BoundingBox(-width * anchor.x, -height * anchor.y, width - width * anchor.x, height - height * anchor.y).getPoints(),\r\n            offset: offset\r\n        });\r\n    }\r\n    /**\r\n     * Creates a new [[PolygonCollider|arbitrary polygon]] collider\r\n     *\r\n     * PolygonColliders are useful for creating convex polygon shapes\r\n     * @param points Points specified in counter clockwise\r\n     * @param clockwiseWinding Optionally changed the winding of points, by default false meaning counter-clockwise winding.\r\n     * @param offset Optional offset relative to the collider in local coordinates\r\n     */\r\n    static Polygon(points, clockwiseWinding = false, offset = Vector.Zero) {\r\n        return new PolygonCollider({\r\n            points: points,\r\n            offset: offset,\r\n            clockwiseWinding: clockwiseWinding\r\n        });\r\n    }\r\n    /**\r\n     * Creates a new [[CircleCollider|circle]] collider\r\n     *\r\n     * Circle colliders are useful for balls, or to make collisions more forgiving on sharp edges\r\n     * @param radius Radius of the circle collider\r\n     * @param offset Optional offset relative to the collider in local coordinates\r\n     */\r\n    static Circle(radius, offset = Vector.Zero) {\r\n        return new CircleCollider({\r\n            radius: radius,\r\n            offset: offset\r\n        });\r\n    }\r\n    /**\r\n     * Creates a new [[EdgeCollider|edge]] collider\r\n     *\r\n     * Edge colliders are useful for  floors, walls, and other barriers\r\n     * @param begin Beginning of the edge in local coordinates to the collider\r\n     * @param end Ending of the edge in local coordinates to the collider\r\n     */\r\n    static Edge(begin, end) {\r\n        return new EdgeCollider({\r\n            begin: begin,\r\n            end: end\r\n        });\r\n    }\r\n    /**\r\n     * Creates a new capsule shaped [[CompositeCollider]] using 2 circles and a box\r\n     *\r\n     * Capsule colliders are useful for platformers with incline or jagged floors to have a smooth\r\n     * player experience.\r\n     *\r\n     * @param width\r\n     * @param height\r\n     * @param offset Optional offset\r\n     */\r\n    static Capsule(width, height, offset = Vector.Zero) {\r\n        const logger = Logger.getInstance();\r\n        if (width === height) {\r\n            logger.warn('A capsule collider with equal width and height is a circle, consider using a ex.Shape.Circle or ex.CircleCollider');\r\n        }\r\n        const vertical = height >= width;\r\n        if (vertical) {\r\n            // height > width, if equal maybe use a circle\r\n            const capsule = new CompositeCollider([\r\n                Shape.Circle(width / 2, vec(0, -height / 2 + width / 2).add(offset)),\r\n                Shape.Box(width, height - width, Vector.Half, offset),\r\n                Shape.Circle(width / 2, vec(0, height / 2 - width / 2).add(offset))\r\n            ]);\r\n            return capsule;\r\n        }\r\n        else {\r\n            // width > height, if equal maybe use a circle\r\n            const capsule = new CompositeCollider([\r\n                Shape.Circle(height / 2, vec(-width / 2 + height / 2, 0).add(offset)),\r\n                Shape.Box(width - height, height, Vector.Half, offset),\r\n                Shape.Circle(height / 2, vec(width / 2 - height / 2, 0).add(offset))\r\n            ]);\r\n            return capsule;\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/ColliderComponent.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ColliderComponent extends Component {\r\n    constructor(collider) {\r\n        super();\r\n        this.type = 'ex.collider';\r\n        this.events = new EventDispatcher(this);\r\n        /**\r\n         * Observable that notifies when a collider is added to the body\r\n         */\r\n        this.$colliderAdded = new Observable();\r\n        /**\r\n         * Observable that notifies when a collider is removed from the body\r\n         */\r\n        this.$colliderRemoved = new Observable();\r\n        this.set(collider);\r\n    }\r\n    /**\r\n     * Get the current collider geometry\r\n     * @returns\r\n     */\r\n    get() {\r\n        return this._collider;\r\n    }\r\n    /**\r\n     * Set the collider geometry\r\n     * @param collider\r\n     * @returns the collider you set\r\n     */\r\n    set(collider) {\r\n        this.clear();\r\n        if (collider) {\r\n            this._collider = collider;\r\n            this._collider.owner = this.owner;\r\n            this.events.wire(collider.events);\r\n            this.$colliderAdded.notifyAll(collider);\r\n            this.update();\r\n        }\r\n        return collider;\r\n    }\r\n    /**\r\n     * Remove collider geometry from collider component\r\n     */\r\n    clear() {\r\n        if (this._collider) {\r\n            this.events.unwire(this._collider.events);\r\n            this.$colliderRemoved.notifyAll(this._collider);\r\n            this._collider.owner = null;\r\n            this._collider = null;\r\n        }\r\n    }\r\n    /**\r\n     * Return world space bounds\r\n     */\r\n    get bounds() {\r\n        var _a, _b;\r\n        return (_b = (_a = this._collider) === null || _a === void 0 ? void 0 : _a.bounds) !== null && _b !== void 0 ? _b : new BoundingBox();\r\n    }\r\n    /**\r\n     * Return local space bounds\r\n     */\r\n    get localBounds() {\r\n        var _a, _b;\r\n        return (_b = (_a = this._collider) === null || _a === void 0 ? void 0 : _a.localBounds) !== null && _b !== void 0 ? _b : new BoundingBox();\r\n    }\r\n    /**\r\n     * Update the collider's transformed geometry\r\n     */\r\n    update() {\r\n        var _a;\r\n        const tx = (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent);\r\n        if (this._collider) {\r\n            this._collider.owner = this.owner;\r\n            if (tx) {\r\n                this._collider.update(tx);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Collide component with another\r\n     * @param other\r\n     * @returns\r\n     */\r\n    collide(other) {\r\n        let colliderA = this._collider;\r\n        let colliderB = other._collider;\r\n        if (!colliderA || !colliderB) {\r\n            return [];\r\n        }\r\n        // If we have a composite lefthand side :(\r\n        // Might bite us, but to avoid updating all the handlers make composite always left side\r\n        let flipped = false;\r\n        if (colliderB instanceof CompositeCollider) {\r\n            colliderA = colliderB;\r\n            colliderB = this._collider;\r\n            flipped = true;\r\n        }\r\n        if (this._collider) {\r\n            const contacts = colliderA.collide(colliderB);\r\n            if (contacts) {\r\n                if (flipped) {\r\n                    contacts.forEach((contact) => {\r\n                        contact.mtv = contact.mtv.negate();\r\n                        contact.normal = contact.normal.negate();\r\n                        contact.tangent = contact.normal.perpendicular();\r\n                        contact.colliderA = this._collider;\r\n                        contact.colliderB = other._collider;\r\n                    });\r\n                }\r\n                return contacts;\r\n            }\r\n            return [];\r\n        }\r\n        return [];\r\n    }\r\n    onAdd(entity) {\r\n        if (this._collider) {\r\n            this.update();\r\n        }\r\n        // Wire up the collider events to the owning entity\r\n        this.events.on('precollision', (evt) => {\r\n            const precollision = evt;\r\n            entity.events.emit('precollision', new PreCollisionEvent(precollision.target.owner, precollision.other.owner, precollision.side, precollision.intersection));\r\n        });\r\n        this.events.on('postcollision', (evt) => {\r\n            const postcollision = evt;\r\n            entity.events.emit('postcollision', new PostCollisionEvent(postcollision.target.owner, postcollision.other.owner, postcollision.side, postcollision.intersection));\r\n        });\r\n        this.events.on('collisionstart', (evt) => {\r\n            const start = evt;\r\n            entity.events.emit('collisionstart', new CollisionStartEvent(start.target.owner, start.other.owner, start.contact));\r\n        });\r\n        this.events.on('collisionend', (evt) => {\r\n            const end = evt;\r\n            entity.events.emit('collisionend', new CollisionEndEvent(end.target.owner, end.other.owner));\r\n        });\r\n    }\r\n    onRemove() {\r\n        this.events.clear();\r\n        this.$colliderRemoved.notifyAll(this._collider);\r\n    }\r\n    /**\r\n     * Sets up a box geometry based on the current bounds of the associated actor of this physics body.\r\n     *\r\n     * If no width/height are specified the body will attempt to use the associated actor's width/height.\r\n     *\r\n     * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\r\n     */\r\n    useBoxCollider(width, height, anchor = Vector.Half, center = Vector.Zero) {\r\n        const collider = Shape.Box(width, height, anchor, center);\r\n        return (this.set(collider));\r\n    }\r\n    /**\r\n     * Sets up a [[PolygonCollider|polygon]] collision geometry based on a list of of points relative\r\n     *  to the anchor of the associated actor\r\n     * of this physics body.\r\n     *\r\n     * Only [convex polygon](https://en.wikipedia.org/wiki/Convex_polygon) definitions are supported.\r\n     *\r\n     * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\r\n     */\r\n    usePolygonCollider(points, center = Vector.Zero) {\r\n        const poly = Shape.Polygon(points, false, center);\r\n        return (this.set(poly));\r\n    }\r\n    /**\r\n     * Sets up a [[Circle|circle collision geometry]] as the only collider with a specified radius in pixels.\r\n     *\r\n     * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\r\n     */\r\n    useCircleCollider(radius, center = Vector.Zero) {\r\n        const collider = Shape.Circle(radius, center);\r\n        return (this.set(collider));\r\n    }\r\n    /**\r\n     * Sets up an [[Edge|edge collision geometry]] with a start point and an end point relative to the anchor of the associated actor\r\n     * of this physics body.\r\n     *\r\n     * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\r\n     */\r\n    useEdgeCollider(begin, end) {\r\n        const collider = Shape.Edge(begin, end);\r\n        return (this.set(collider));\r\n    }\r\n    /**\r\n     * Setups up a [[CompositeCollider]] which can define any arbitrary set of excalibur colliders\r\n     * @param colliders\r\n     * @returns\r\n     */\r\n    useCompositeCollider(colliders) {\r\n        return (this.set(new CompositeCollider(colliders)));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/BodyComponent.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DegreeOfFreedom;\r\n(function (DegreeOfFreedom) {\r\n    DegreeOfFreedom[\"Rotation\"] = \"rotation\";\r\n    DegreeOfFreedom[\"X\"] = \"x\";\r\n    DegreeOfFreedom[\"Y\"] = \"y\";\r\n})(DegreeOfFreedom || (DegreeOfFreedom = {}));\r\n/**\r\n * Body describes all the physical properties pos, vel, acc, rotation, angular velocity for the purpose of\r\n * of physics simulation.\r\n */\r\nclass BodyComponent extends Component {\r\n    constructor(options) {\r\n        var _a, _b, _c;\r\n        super();\r\n        this.type = 'ex.body';\r\n        this.dependencies = [TransformComponent, MotionComponent];\r\n        this.id = createId('body', BodyComponent._ID++);\r\n        this.events = new EventDispatcher(this);\r\n        /**\r\n         * Collision type for the rigidbody physics simulation, by default [[CollisionType.PreventCollision]]\r\n         */\r\n        this.collisionType = CollisionType.PreventCollision;\r\n        /**\r\n         * The collision group for the body's colliders, by default body colliders collide with everything\r\n         */\r\n        this.group = CollisionGroup.All;\r\n        /**\r\n         * The amount of mass the body has\r\n         */\r\n        this.mass = Physics.defaultMass;\r\n        /**\r\n         * Amount of \"motion\" the body has before sleeping. If below [[Physics.sleepEpsilon]] it goes to \"sleep\"\r\n         */\r\n        this.sleepMotion = Physics.sleepEpsilon * 5;\r\n        /**\r\n         * Can this body sleep, by default bodies do not sleep\r\n         */\r\n        this.canSleep = Physics.bodiesCanSleepByDefault;\r\n        this._sleeping = false;\r\n        /**\r\n         * The also known as coefficient of restitution of this actor, represents the amount of energy preserved after collision or the\r\n         * bounciness. If 1, it is 100% bouncy, 0 it completely absorbs.\r\n         */\r\n        this.bounciness = 0.2;\r\n        /**\r\n         * The coefficient of friction on this actor\r\n         */\r\n        this.friction = 0.99;\r\n        /**\r\n         * Should use global gravity [[Physics.gravity]] in it's physics simulation, default is true\r\n         */\r\n        this.useGravity = true;\r\n        /**\r\n         * Degrees of freedom to limit\r\n         */\r\n        this.limitDegreeOfFreedom = [];\r\n        /**\r\n         * The position of the actor last frame (x, y) in pixels\r\n         */\r\n        this.oldPos = new Vector(0, 0);\r\n        /**\r\n         * The velocity of the actor last frame (vx, vy) in pixels/second\r\n         */\r\n        this.oldVel = new Vector(0, 0);\r\n        /**\r\n         * Gets/sets the acceleration of the actor from the last frame. This does not include the global acc [[Physics.acc]].\r\n         */\r\n        this.oldAcc = Vector.Zero;\r\n        /**\r\n         * Gets/sets the rotation of the body from the last frame.\r\n         */\r\n        this.oldRotation = 0; // radians\r\n        /**\r\n         * The scale of the actor last frame\r\n         * @deprecated ex.Body.scale will be removed in v0.25.0\r\n         */\r\n        this.oldScale = Vector.One;\r\n        if (options) {\r\n            this.collisionType = (_a = options.type) !== null && _a !== void 0 ? _a : this.collisionType;\r\n            this.group = (_b = options.group) !== null && _b !== void 0 ? _b : this.group;\r\n            this.useGravity = (_c = options.useGravity) !== null && _c !== void 0 ? _c : this.useGravity;\r\n        }\r\n    }\r\n    /**\r\n     * The inverse mass (1/mass) of the body. If [[CollisionType.Fixed]] this is 0, meaning \"infinite\" mass\r\n     */\r\n    get inverseMass() {\r\n        return this.collisionType === CollisionType.Fixed ? 0 : 1 / this.mass;\r\n    }\r\n    /**\r\n     * Whether this body is sleeping or not\r\n     */\r\n    get sleeping() {\r\n        return this._sleeping;\r\n    }\r\n    /**\r\n     * Set the sleep state of the body\r\n     * @param sleeping\r\n     */\r\n    setSleeping(sleeping) {\r\n        this._sleeping = sleeping;\r\n        if (!sleeping) {\r\n            // Give it a kick to keep it from falling asleep immediately\r\n            this.sleepMotion = Physics.sleepEpsilon * 5;\r\n        }\r\n        else {\r\n            this.vel = Vector.Zero;\r\n            this.acc = Vector.Zero;\r\n            this.angularVelocity = 0;\r\n            this.sleepMotion = 0;\r\n        }\r\n    }\r\n    /**\r\n     * Update body's [[BodyComponent.sleepMotion]] for the purpose of sleeping\r\n     */\r\n    updateMotion() {\r\n        if (this._sleeping) {\r\n            this.setSleeping(true);\r\n        }\r\n        const currentMotion = this.vel.size * this.vel.size + Math.abs(this.angularVelocity * this.angularVelocity);\r\n        const bias = Physics.sleepBias;\r\n        this.sleepMotion = bias * this.sleepMotion + (1 - bias) * currentMotion;\r\n        this.sleepMotion = clamp(this.sleepMotion, 0, 10 * Physics.sleepEpsilon);\r\n        if (this.canSleep && this.sleepMotion < Physics.sleepEpsilon) {\r\n            this.setSleeping(true);\r\n        }\r\n    }\r\n    /**\r\n     * Get the moment of inertia from the [[ColliderComponent]]\r\n     */\r\n    get inertia() {\r\n        // Inertia is a property of the geometry, so this is a little goofy but seems to be okay?\r\n        const collider = this.owner.get(ColliderComponent);\r\n        if (collider === null || collider === void 0 ? void 0 : collider.get()) {\r\n            return collider.get().getInertia(this.mass);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Get the inverse moment of inertial from the [[ColliderComponent]]. If [[CollisionType.Fixed]] this is 0, meaning \"infinite\" mass\r\n     */\r\n    get inverseInertia() {\r\n        return this.collisionType === CollisionType.Fixed ? 0 : 1 / this.inertia;\r\n    }\r\n    /**\r\n     * Returns if the owner is active\r\n     */\r\n    get active() {\r\n        var _a;\r\n        return !!((_a = this.owner) === null || _a === void 0 ? void 0 : _a.active);\r\n    }\r\n    get center() {\r\n        return this.pos;\r\n    }\r\n    get transform() {\r\n        var _a;\r\n        return (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent);\r\n    }\r\n    get motion() {\r\n        var _a;\r\n        return (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(MotionComponent);\r\n    }\r\n    /**\r\n     * The (x, y) position of the actor this will be in the middle of the actor if the\r\n     * [[Actor.anchor]] is set to (0.5, 0.5) which is default.\r\n     * If you want the (x, y) position to be the top left of the actor specify an anchor of (0, 0).\r\n     */\r\n    get pos() {\r\n        return this.transform.globalPos;\r\n    }\r\n    set pos(val) {\r\n        this.transform.globalPos = val;\r\n    }\r\n    /**\r\n     * The current velocity vector (vx, vy) of the actor in pixels/second\r\n     */\r\n    get vel() {\r\n        return this.motion.vel;\r\n    }\r\n    set vel(val) {\r\n        this.motion.vel = val;\r\n    }\r\n    /**\r\n     * The current acceleration vector (ax, ay) of the actor in pixels/second/second. An acceleration pointing down such as (0, 100) may\r\n     * be useful to simulate a gravitational effect.\r\n     */\r\n    get acc() {\r\n        return this.motion.acc;\r\n    }\r\n    set acc(val) {\r\n        this.motion.acc = val;\r\n    }\r\n    /**\r\n     * The current torque applied to the actor\r\n     */\r\n    get torque() {\r\n        return this.motion.torque;\r\n    }\r\n    set torque(val) {\r\n        this.motion.torque = val;\r\n    }\r\n    /**\r\n     * The rotation of the body in radians\r\n     */\r\n    get rotation() {\r\n        return this.transform.globalRotation;\r\n    }\r\n    set rotation(val) {\r\n        this.transform.globalRotation = val;\r\n    }\r\n    /**\r\n     * The scale vector of the actor\r\n     * @deprecated ex.Body.scale will be removed in v0.25.0, Use ex.Transform.scale\r\n     */\r\n    get scale() {\r\n        return this.transform.globalScale;\r\n    }\r\n    set scale(val) {\r\n        this.transform.globalScale = val;\r\n    }\r\n    /**\r\n     * The x scalar velocity of the actor in scale/second\r\n     * @deprecated ex.Body.scale will be removed in v0.25.0\r\n     */\r\n    get sx() {\r\n        return this.motion.scaleFactor.x;\r\n    }\r\n    set sx(xFactor) {\r\n        this.motion.scaleFactor.x = xFactor;\r\n    }\r\n    /**\r\n     * The y scalar velocity of the actor in scale/second\r\n     * @deprecated ex.Body.scale will be removed in v0.25.0\r\n     */\r\n    get sy() {\r\n        return this.motion.scaleFactor.y;\r\n    }\r\n    set sy(yFactor) {\r\n        this.motion.scaleFactor.y = yFactor;\r\n    }\r\n    /**\r\n     * The rotational velocity of the actor in radians/second\r\n     * @deprecated\r\n     */\r\n    get rx() {\r\n        return this.motion.angularVelocity;\r\n    }\r\n    /**\r\n     * The rotational velocity of the actor in radians/second\r\n     * @deprecated\r\n     */\r\n    set rx(value) {\r\n        this.motion.angularVelocity = value;\r\n    }\r\n    /**\r\n     * Get the angular velocity in radians/second\r\n     */\r\n    get angularVelocity() {\r\n        return this.motion.angularVelocity;\r\n    }\r\n    /**\r\n     * Set the angular velocity in radians/second\r\n     */\r\n    set angularVelocity(value) {\r\n        this.motion.angularVelocity = value;\r\n    }\r\n    /**\r\n     * Apply a specific impulse to the body\r\n     * @param point\r\n     * @param impulse\r\n     */\r\n    applyImpulse(point, impulse) {\r\n        if (this.collisionType !== CollisionType.Active) {\r\n            return; // only active objects participate in the simulation\r\n        }\r\n        const finalImpulse = impulse.scale(this.inverseMass);\r\n        if (this.limitDegreeOfFreedom.includes(DegreeOfFreedom.X)) {\r\n            finalImpulse.x = 0;\r\n        }\r\n        if (this.limitDegreeOfFreedom.includes(DegreeOfFreedom.Y)) {\r\n            finalImpulse.y = 0;\r\n        }\r\n        this.vel.addEqual(finalImpulse);\r\n        if (!this.limitDegreeOfFreedom.includes(DegreeOfFreedom.Rotation)) {\r\n            const distanceFromCenter = point.sub(this.pos);\r\n            this.angularVelocity += this.inverseInertia * distanceFromCenter.cross(impulse);\r\n        }\r\n    }\r\n    /**\r\n     * Apply only linear impulse to the body\r\n     * @param impulse\r\n     */\r\n    applyLinearImpulse(impulse) {\r\n        if (this.collisionType !== CollisionType.Active) {\r\n            return; // only active objects participate in the simulation\r\n        }\r\n        const finalImpulse = impulse.scale(this.inverseMass);\r\n        if (this.limitDegreeOfFreedom.includes(DegreeOfFreedom.X)) {\r\n            finalImpulse.x = 0;\r\n        }\r\n        if (this.limitDegreeOfFreedom.includes(DegreeOfFreedom.Y)) {\r\n            finalImpulse.y = 0;\r\n        }\r\n        this.vel = this.vel.add(finalImpulse);\r\n    }\r\n    /**\r\n     * Apply only angular impuse to the body\r\n     * @param point\r\n     * @param impulse\r\n     */\r\n    applyAngularImpulse(point, impulse) {\r\n        if (this.collisionType !== CollisionType.Active) {\r\n            return; // only active objects participate in the simulation\r\n        }\r\n        if (!this.limitDegreeOfFreedom.includes(DegreeOfFreedom.Rotation)) {\r\n            const distanceFromCenter = point.sub(this.pos);\r\n            this.angularVelocity += this.inverseInertia * distanceFromCenter.cross(impulse);\r\n        }\r\n    }\r\n    /**\r\n     * Sets the old versions of pos, vel, acc, and scale.\r\n     */\r\n    captureOldTransform() {\r\n        // Capture old values before integration step updates them\r\n        this.oldVel.setTo(this.vel.x, this.vel.y);\r\n        this.oldPos.setTo(this.pos.x, this.pos.y);\r\n        this.oldAcc.setTo(this.acc.x, this.acc.y);\r\n        this.oldScale.setTo(this.scale.x, this.scale.y);\r\n        this.oldRotation = this.rotation;\r\n    }\r\n    debugDraw(_ctx) {\r\n        // pass\r\n    }\r\n}\r\nBodyComponent._ID = 0;\r\n\n;// CONCATENATED MODULE: ./Util/CullingBox.ts\n\r\n\r\n/**\r\n * @deprecated Will be removed in 0.26.0\r\n */\r\nclass CullingBox {\r\n    constructor() {\r\n        this._topLeft = new Vector(0, 0);\r\n        this._topRight = new Vector(0, 0);\r\n        this._bottomLeft = new Vector(0, 0);\r\n        this._bottomRight = new Vector(0, 0);\r\n    }\r\n    isSpriteOffScreen(actor, engine) {\r\n        const drawingWidth = actor.currentDrawing.drawWidth;\r\n        const drawingHeight = actor.currentDrawing.drawHeight;\r\n        const rotation = actor.rotation;\r\n        const anchor = actor.center;\r\n        const worldPos = actor.getGlobalPos();\r\n        this._topLeft = vec(worldPos.x - drawingWidth / 2, worldPos.y - drawingHeight / 2);\r\n        this._topLeft = this._topLeft.rotate(rotation, anchor);\r\n        this._topRight = vec(worldPos.x + drawingWidth / 2, worldPos.y - drawingHeight / 2);\r\n        this._topRight = this._topRight.rotate(rotation, anchor);\r\n        this._bottomLeft = vec(worldPos.x - drawingWidth / 2, worldPos.y + drawingHeight / 2);\r\n        this._bottomLeft = this._bottomLeft.rotate(rotation, anchor);\r\n        this._bottomRight = vec(worldPos.x + drawingWidth / 2, worldPos.y + drawingHeight / 2);\r\n        this._bottomRight = this._bottomRight.rotate(rotation, anchor);\r\n        const topLeftScreen = engine.worldToScreenCoordinates(this._topLeft);\r\n        const topRightScreen = engine.worldToScreenCoordinates(this._topRight);\r\n        const bottomLeftScreen = engine.worldToScreenCoordinates(this._bottomLeft);\r\n        const bottomRightScreen = engine.worldToScreenCoordinates(this._bottomRight);\r\n        this._xCoords = [];\r\n        this._yCoords = [];\r\n        this._xCoords.push(topLeftScreen.x, topRightScreen.x, bottomLeftScreen.x, bottomRightScreen.x);\r\n        this._yCoords.push(topLeftScreen.y, topRightScreen.y, bottomLeftScreen.y, bottomRightScreen.y);\r\n        this._xMin = Math.min.apply(null, this._xCoords);\r\n        this._yMin = Math.min.apply(null, this._yCoords);\r\n        this._xMax = Math.max.apply(null, this._xCoords);\r\n        this._yMax = Math.max.apply(null, this._yCoords);\r\n        const minWorld = engine.screenToWorldCoordinates(new Vector(this._xMin, this._yMin));\r\n        const maxWorld = engine.screenToWorldCoordinates(new Vector(this._xMax, this._yMax));\r\n        this._xMinWorld = minWorld.x;\r\n        this._yMinWorld = minWorld.y;\r\n        this._xMaxWorld = maxWorld.x;\r\n        this._yMaxWorld = maxWorld.y;\r\n        const boundingPoints = [\r\n            new Vector(this._xMin, this._yMin),\r\n            new Vector(this._xMax, this._yMin),\r\n            new Vector(this._xMin, this._yMax),\r\n            new Vector(this._xMax, this._yMax) // bottom right\r\n        ];\r\n        // sprite can be wider than canvas screen (and still visible within canvas)\r\n        // top or bottom of sprite must be within canvas\r\n        if (boundingPoints[0].x < 0 &&\r\n            boundingPoints[1].x > engine.canvas.clientWidth &&\r\n            (boundingPoints[0].y > 0 || boundingPoints[2].y < engine.canvas.clientHeight)) {\r\n            return false;\r\n        }\r\n        // sprite can be taller than canvas screen (and still visible within canvas)\r\n        // left or right of sprite must be within canvas\r\n        if (boundingPoints[0].y < 0 &&\r\n            boundingPoints[2].y > engine.canvas.clientHeight &&\r\n            (boundingPoints[1].x > 0 || boundingPoints[0].x < engine.canvas.clientWidth)) {\r\n            return false;\r\n        }\r\n        // otherwise if any corner is visible, we're not offscreen\r\n        for (let i = 0; i < boundingPoints.length; i++) {\r\n            if (boundingPoints[i].x > 0 &&\r\n                boundingPoints[i].y > 0 &&\r\n                boundingPoints[i].x < engine.canvas.clientWidth &&\r\n                boundingPoints[i].y < engine.canvas.clientHeight) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    debugDraw(ctx) {\r\n        // bounding rectangle\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = Color.White.toString();\r\n        ctx.rect(this._xMinWorld, this._yMinWorld, this._xMaxWorld - this._xMinWorld, this._yMaxWorld - this._yMinWorld);\r\n        ctx.stroke();\r\n        ctx.fillStyle = Color.Red.toString();\r\n        ctx.beginPath();\r\n        ctx.arc(this._topLeft.x, this._topLeft.y, 5, 0, Math.PI * 2);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n        ctx.fillStyle = Color.Green.toString();\r\n        ctx.beginPath();\r\n        ctx.arc(this._topRight.x, this._topRight.y, 5, 0, Math.PI * 2);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n        ctx.fillStyle = Color.Blue.toString();\r\n        ctx.beginPath();\r\n        ctx.arc(this._bottomLeft.x, this._bottomLeft.y, 5, 0, Math.PI * 2);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n        ctx.fillStyle = Color.Magenta.toString();\r\n        ctx.beginPath();\r\n        ctx.arc(this._bottomRight.x, this._bottomRight.y, 5, 0, Math.PI * 2);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Traits/OffscreenCulling.ts\n\r\n\r\n\r\n/**\r\n * @deprecated will be removed in 0.26.0\r\n */\r\nclass OffscreenCulling {\r\n    constructor() {\r\n        this.cullingBox = new CullingBox();\r\n    }\r\n    update(actor, engine) {\r\n        const events = actor.eventDispatcher;\r\n        let isSpriteOffScreen = true;\r\n        if (actor.currentDrawing != null) {\r\n            isSpriteOffScreen = this.cullingBox.isSpriteOffScreen(actor, engine);\r\n        }\r\n        let actorBoundsOffscreen = false;\r\n        if (engine && engine.currentScene && engine.currentScene.camera && engine.currentScene.camera.viewport && !actor.parent) {\r\n            actorBoundsOffscreen = !engine.currentScene.camera.viewport.intersect(actor.collider.bounds);\r\n        }\r\n        if (!actor.isOffScreen) {\r\n            if (actorBoundsOffscreen && isSpriteOffScreen) {\r\n                events.emit('exitviewport', new ExitViewPortEvent(actor));\r\n                actor.addComponent(new TagComponent('offscreen'));\r\n            }\r\n        }\r\n        else {\r\n            if (!actorBoundsOffscreen || !isSpriteOffScreen) {\r\n                events.emit('enterviewport', new EnterViewPortEvent(actor));\r\n                actor.removeComponent('offscreen');\r\n            }\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Traits/CapturePointer.ts\n/**\r\n * Revises pointer events path accordingly to the actor\r\n * @deprecated Will be removed in 0.26.0\r\n */\r\nclass CapturePointer {\r\n    update(actor, engine) {\r\n        if (!actor.enableCapturePointer) {\r\n            return;\r\n        }\r\n        if (actor.isKilled()) {\r\n            return;\r\n        }\r\n        engine.input.pointers.checkAndUpdateActorUnderPointer(actor);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/Entity.ts\n\r\n\r\n\r\n\r\n\r\n/**\r\n * AddedComponent message\r\n */\r\nclass AddedComponent {\r\n    constructor(data) {\r\n        this.data = data;\r\n        this.type = 'Component Added';\r\n    }\r\n}\r\n/**\r\n * Type guard to know if message is f an Added Component\r\n */\r\nfunction isAddedComponent(x) {\r\n    return !!x && x.type === 'Component Added';\r\n}\r\n/**\r\n * RemovedComponent message\r\n */\r\nclass RemovedComponent {\r\n    constructor(data) {\r\n        this.data = data;\r\n        this.type = 'Component Removed';\r\n    }\r\n}\r\n/**\r\n * Type guard to know if message is for a Removed Component\r\n */\r\nfunction isRemovedComponent(x) {\r\n    return !!x && x.type === 'Component Removed';\r\n}\r\n/**\r\n * An Entity is the base type of anything that can have behavior in Excalibur, they are part of the built in entity component system\r\n *\r\n * Entities can be strongly typed with the components they contain\r\n *\r\n * ```typescript\r\n * const entity = new Entity<ComponentA | ComponentB>();\r\n * entity.components.a; // Type ComponentA\r\n * entity.components.b; // Type ComponentB\r\n * ```\r\n */\r\nclass Entity extends Class {\r\n    constructor(components, name) {\r\n        super();\r\n        /**\r\n         * The unique identifier for the entity\r\n         */\r\n        this.id = Entity._ID++;\r\n        this._name = 'anonymous';\r\n        /**\r\n         * Whether this entity is active, if set to false it will be reclaimed\r\n         */\r\n        this.active = true;\r\n        /**\r\n         * Bucket to hold on to deferred removals\r\n         */\r\n        this._componentsToRemove = [];\r\n        this._componentTypeToInstance = new Map();\r\n        this._componentStringToInstance = new Map();\r\n        this._tagsMemo = [];\r\n        this._typesMemo = [];\r\n        /**\r\n         * Observable that keeps track of component add or remove changes on the entity\r\n         */\r\n        this.componentAdded$ = new Observable();\r\n        this.componentRemoved$ = new Observable();\r\n        this._parent = null;\r\n        this.childrenAdded$ = new Observable();\r\n        this.childrenRemoved$ = new Observable();\r\n        this._children = [];\r\n        this._isInitialized = false;\r\n        this._setName(name);\r\n        if (components) {\r\n            for (const component of components) {\r\n                this.addComponent(component);\r\n            }\r\n        }\r\n    }\r\n    _setName(name) {\r\n        if (name) {\r\n            this._name = name;\r\n        }\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    get events() {\r\n        return this.eventDispatcher;\r\n    }\r\n    /**\r\n     * Kill the entity, means it will no longer be updated. Kills are deferred to the end of the update.\r\n     */\r\n    kill() {\r\n        this.active = false;\r\n    }\r\n    isKilled() {\r\n        return !this.active;\r\n    }\r\n    /**\r\n     * Specifically get the tags on the entity from [[TagComponent]]\r\n     */\r\n    get tags() {\r\n        return this._tagsMemo;\r\n    }\r\n    /**\r\n     * Check if a tag exists on the entity\r\n     * @param tag name to check for\r\n     */\r\n    hasTag(tag) {\r\n        return this.tags.includes(tag);\r\n    }\r\n    /**\r\n     * Adds a tag to an entity\r\n     * @param tag\r\n     * @returns Entity\r\n     */\r\n    addTag(tag) {\r\n        return this.addComponent(new TagComponent(tag));\r\n    }\r\n    /**\r\n     * Removes a tag on the entity\r\n     *\r\n     * Removals are deferred until the end of update\r\n     * @param tag\r\n     * @param force Remove component immediately, no deferred\r\n     */\r\n    removeTag(tag, force = false) {\r\n        return this.removeComponent(tag, force);\r\n    }\r\n    /**\r\n     * The types of the components on the Entity\r\n     */\r\n    get types() {\r\n        return this._typesMemo;\r\n    }\r\n    _rebuildMemos() {\r\n        this._tagsMemo = Array.from(this._componentStringToInstance.values())\r\n            .filter((c) => c instanceof TagComponent)\r\n            .map((c) => c.type);\r\n        this._typesMemo = Array.from(this._componentStringToInstance.keys());\r\n    }\r\n    getComponents() {\r\n        return Array.from(this._componentStringToInstance.values());\r\n    }\r\n    _notifyAddComponent(component) {\r\n        this._rebuildMemos();\r\n        const added = new AddedComponent({\r\n            component,\r\n            entity: this\r\n        });\r\n        this.componentAdded$.notifyAll(added);\r\n    }\r\n    _notifyRemoveComponent(component) {\r\n        const removed = new RemovedComponent({\r\n            component,\r\n            entity: this\r\n        });\r\n        this.componentRemoved$.notifyAll(removed);\r\n        this._rebuildMemos();\r\n    }\r\n    get parent() {\r\n        return this._parent;\r\n    }\r\n    /**\r\n     * Get the direct children of this entity\r\n     */\r\n    get children() {\r\n        return this._children;\r\n    }\r\n    /**\r\n     * Unparents this entity, if there is a parent. Otherwise it does nothing.\r\n     */\r\n    unparent() {\r\n        if (this._parent) {\r\n            this._parent.removeChild(this);\r\n            this._parent = null;\r\n        }\r\n    }\r\n    /**\r\n     * Adds an entity to be a child of this entity\r\n     * @param entity\r\n     */\r\n    addChild(entity) {\r\n        if (entity.parent === null) {\r\n            if (this.getAncestors().includes(entity)) {\r\n                throw new Error('Cycle detected, cannot add entity');\r\n            }\r\n            this._children.push(entity);\r\n            entity._parent = this;\r\n            this.childrenAdded$.notifyAll(entity);\r\n        }\r\n        else {\r\n            throw new Error('Entity already has a parent, cannot add without unparenting');\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Remove an entity from children if it exists\r\n     * @param entity\r\n     */\r\n    removeChild(entity) {\r\n        if (entity.parent === this) {\r\n            removeItemFromArray(entity, this._children);\r\n            entity._parent = null;\r\n            this.childrenRemoved$.notifyAll(entity);\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Removes all children from this entity\r\n     */\r\n    removeAllChildren() {\r\n        this.children.forEach((c) => {\r\n            this.removeChild(c);\r\n        });\r\n        return this;\r\n    }\r\n    /**\r\n     * Returns a list of parent entities starting with the topmost parent. Includes the current entity.\r\n     */\r\n    getAncestors() {\r\n        const result = [this];\r\n        let current = this.parent;\r\n        while (current) {\r\n            result.push(current);\r\n            current = current.parent;\r\n        }\r\n        return result.reverse();\r\n    }\r\n    /**\r\n     * Returns a list of all the entities that descend from this entity. Includes the current entity.\r\n     */\r\n    getDescendants() {\r\n        let result = [this];\r\n        let queue = [this];\r\n        while (queue.length > 0) {\r\n            const curr = queue.pop();\r\n            queue = queue.concat(curr.children);\r\n            result = result.concat(curr.children);\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Creates a deep copy of the entity and a copy of all its components\r\n     */\r\n    clone() {\r\n        const newEntity = new Entity();\r\n        for (const c of this.types) {\r\n            newEntity.addComponent(this.get(c).clone());\r\n        }\r\n        for (const child of this.children) {\r\n            newEntity.addChild(child.clone());\r\n        }\r\n        return newEntity;\r\n    }\r\n    /**\r\n     * Adds a copy of all the components from another template entity as a \"prefab\"\r\n     * @param templateEntity Entity to use as a template\r\n     * @param force Force component replacement if it aleady exists on the target entity\r\n     */\r\n    addTemplate(templateEntity, force = false) {\r\n        for (const c of templateEntity.getComponents()) {\r\n            this.addComponent(c.clone(), force);\r\n        }\r\n        for (const child of templateEntity.children) {\r\n            this.addChild(child.clone().addTemplate(child));\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Adds a component to the entity\r\n     * @param component Component or Entity to add copy of components from\r\n     * @param force Optionally overwrite any existing components of the same type\r\n     */\r\n    addComponent(component, force = false) {\r\n        // if component already exists, skip if not forced\r\n        if (this.has(component.type)) {\r\n            if (force) {\r\n                // Remove existing component type if exists when forced\r\n                this.removeComponent(component);\r\n            }\r\n            else {\r\n                // early exit component exiss\r\n                return this;\r\n            }\r\n        }\r\n        // TODO circular dependencies will be a problem\r\n        if (component.dependencies && component.dependencies.length) {\r\n            for (const ctor of component.dependencies) {\r\n                this.addComponent(new ctor());\r\n            }\r\n        }\r\n        component.owner = this;\r\n        const constuctorType = component.constructor;\r\n        this._componentTypeToInstance.set(constuctorType, component);\r\n        this._componentStringToInstance.set(component.type, component);\r\n        if (component.onAdd) {\r\n            component.onAdd(this);\r\n        }\r\n        this._notifyAddComponent(component);\r\n        return this;\r\n    }\r\n    /**\r\n     * Removes a component from the entity, by default removals are deferred to the end of entity update to avoid consistency issues\r\n     *\r\n     * Components can be force removed with the `force` flag, the removal is not deferred and happens immediately\r\n     * @param componentOrType\r\n     * @param force\r\n     */\r\n    removeComponent(componentOrType, force = false) {\r\n        if (force) {\r\n            if (typeof componentOrType === 'string') {\r\n                this._removeComponentByType(componentOrType);\r\n            }\r\n            else if (componentOrType instanceof Component) {\r\n                this._removeComponentByType(componentOrType.type);\r\n            }\r\n        }\r\n        else {\r\n            this._componentsToRemove.push(componentOrType);\r\n        }\r\n        return this;\r\n    }\r\n    _removeComponentByType(type) {\r\n        if (this.has(type)) {\r\n            const component = this.get(type);\r\n            component.owner = null;\r\n            if (component.onRemove) {\r\n                component.onRemove(this);\r\n            }\r\n            const ctor = component.constructor;\r\n            this._componentTypeToInstance.delete(ctor);\r\n            this._componentStringToInstance.delete(component.type);\r\n            this._notifyRemoveComponent(component);\r\n        }\r\n    }\r\n    /**\r\n     * @hidden\r\n     * @internal\r\n     */\r\n    processComponentRemoval() {\r\n        for (const componentOrType of this._componentsToRemove) {\r\n            const type = typeof componentOrType === 'string' ? componentOrType : componentOrType.type;\r\n            this._removeComponentByType(type);\r\n        }\r\n        this._componentsToRemove.length = 0;\r\n    }\r\n    has(type) {\r\n        if (typeof type === 'string') {\r\n            return this._componentStringToInstance.has(type);\r\n        }\r\n        else {\r\n            return this._componentTypeToInstance.has(type);\r\n        }\r\n    }\r\n    get(type) {\r\n        if (typeof type === 'string') {\r\n            return this._componentStringToInstance.get(type);\r\n        }\r\n        else {\r\n            return this._componentTypeToInstance.get(type);\r\n        }\r\n    }\r\n    /**\r\n     * Gets whether the actor is Initialized\r\n     */\r\n    get isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n    /**\r\n     * Initializes this entity, meant to be called by the Scene before first update not by users of Excalibur.\r\n     *\r\n     * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\r\n     *\r\n     * @internal\r\n     */\r\n    _initialize(engine) {\r\n        if (!this.isInitialized) {\r\n            this.onInitialize(engine);\r\n            super.emit('initialize', new InitializeEvent(engine, this));\r\n            this._isInitialized = true;\r\n        }\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\r\n     *\r\n     * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\r\n     * @internal\r\n     */\r\n    _preupdate(engine, delta) {\r\n        this.emit('preupdate', new PreUpdateEvent(engine, delta, this));\r\n        this.onPreUpdate(engine, delta);\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\r\n     *\r\n     * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\r\n     * @internal\r\n     */\r\n    _postupdate(engine, delta) {\r\n        this.emit('postupdate', new PostUpdateEvent(engine, delta, this));\r\n        this.onPostUpdate(engine, delta);\r\n    }\r\n    /**\r\n     * `onInitialize` is called before the first update of the entity. This method is meant to be\r\n     * overridden.\r\n     *\r\n     * Synonymous with the event handler `.on('initialize', (evt) => {...})`\r\n     */\r\n    onInitialize(_engine) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\r\n     *\r\n     * `onPreUpdate` is called directly before an entity is updated.\r\n     */\r\n    onPreUpdate(_engine, _delta) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('postupdate', (evt) =>{...})`\r\n     *\r\n     * `onPostUpdate` is called directly after an entity is updated.\r\n     */\r\n    onPostUpdate(_engine, _delta) {\r\n        // Override me\r\n    }\r\n    /**\r\n     *\r\n     * Entity update lifecycle, called internally\r\n     *\r\n     * @internal\r\n     * @param engine\r\n     * @param delta\r\n     */\r\n    update(engine, delta) {\r\n        this._initialize(engine);\r\n        this._preupdate(engine, delta);\r\n        for (const child of this.children) {\r\n            child.update(engine, delta);\r\n        }\r\n        this._postupdate(engine, delta);\r\n    }\r\n}\r\nEntity._ID = 0;\r\n\n;// CONCATENATED MODULE: ./Drawing/CanvasDrawComponent.ts\n\r\n/**\r\n * Shim to draw to the canvas when in LegacyDrawing mode\r\n * @deprecated\r\n */\r\nclass CanvasDrawComponent extends Component {\r\n    constructor(draw) {\r\n        var _a;\r\n        super();\r\n        this.draw = draw;\r\n        this.type = 'ex.canvas';\r\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n        this.draw = (_a = this.draw) !== null && _a !== void 0 ? _a : (() => { });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/GraphicsComponent.ts\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Type guard for checking if a Graphic HasTick (used for graphics that change over time like animations)\r\n * @param graphic\r\n */\r\nfunction hasGraphicsTick(graphic) {\r\n    return !!graphic.tick;\r\n}\r\nclass GraphicsLayer {\r\n    constructor(_options, _graphics) {\r\n        this._options = _options;\r\n        this._graphics = _graphics;\r\n        this.graphics = [];\r\n    }\r\n    get name() {\r\n        return this._options.name;\r\n    }\r\n    hide(nameOrGraphic) {\r\n        if (!nameOrGraphic) {\r\n            this.graphics.length = 0;\r\n        }\r\n        else {\r\n            let gfx = null;\r\n            if (nameOrGraphic instanceof Graphic) {\r\n                gfx = nameOrGraphic;\r\n            }\r\n            else {\r\n                gfx = this._graphics.getGraphic(nameOrGraphic);\r\n            }\r\n            this.graphics = this.graphics.filter((g) => g.graphic !== gfx);\r\n        }\r\n    }\r\n    /**\r\n     * Show a graphic by name or instance at an offset, graphics are shown in the order in which `show()` is called.\r\n     *\r\n     * If `show()` is called multiple times for the same graphic it will be shown multiple times.\r\n     * @param nameOrGraphic\r\n     * @param options\r\n     */\r\n    show(nameOrGraphic, options) {\r\n        options = Object.assign({}, options);\r\n        let gfx;\r\n        if (nameOrGraphic instanceof Graphic) {\r\n            gfx = this._graphics.copyGraphics ? nameOrGraphic.clone() : nameOrGraphic;\r\n        }\r\n        else {\r\n            gfx = this._graphics.getGraphic(nameOrGraphic);\r\n            if (!gfx) {\r\n                Logger.getInstance().error(`No such graphic added to component named ${nameOrGraphic}. These named graphics are available: `, this._graphics.getNames());\r\n            }\r\n        }\r\n        if (gfx) {\r\n            this.graphics.push({ graphic: gfx, options });\r\n            return gfx;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    /**\r\n     * Use a specific graphic, swap out any current graphics being shown\r\n     * @param nameOrGraphic\r\n     * @param options\r\n     */\r\n    use(nameOrGraphic, options) {\r\n        options = Object.assign({}, options);\r\n        this.hide();\r\n        return this.show(nameOrGraphic, options);\r\n    }\r\n    /**\r\n     * Current order of the layer, higher numbers are on top, lower numbers are on the bottom.\r\n     *\r\n     * For example a layer with `order = -1` would be under a layer of `order = 1`\r\n     */\r\n    get order() {\r\n        return this._options.order;\r\n    }\r\n    /**\r\n     * Set the order of the layer, higher numbers are on top, lower numbers are on the bottom.\r\n     *\r\n     * For example a layer with `order = -1` would be under a layer of `order = 1`\r\n     */\r\n    set order(order) {\r\n        this._options.order = order;\r\n    }\r\n    /**\r\n     * Get or set the pixel offset from the layer anchor for all graphics in the layer\r\n     */\r\n    get offset() {\r\n        var _a;\r\n        return (_a = this._options.offset) !== null && _a !== void 0 ? _a : Vector.Zero;\r\n    }\r\n    set offset(value) {\r\n        this._options.offset = value;\r\n    }\r\n    get currentKeys() {\r\n        var _a;\r\n        return (_a = this.name) !== null && _a !== void 0 ? _a : 'anonymous';\r\n    }\r\n}\r\nclass GraphicsLayers {\r\n    constructor(_component) {\r\n        this._component = _component;\r\n        this._layers = [];\r\n        this._layerMap = {};\r\n        this.default = new GraphicsLayer({ name: 'default', order: 0 }, _component);\r\n        this._maybeAddLayer(this.default);\r\n    }\r\n    create(options) {\r\n        const layer = new GraphicsLayer(options, this._component);\r\n        return this._maybeAddLayer(layer);\r\n    }\r\n    get(name) {\r\n        if (name) {\r\n            return this._getLayer(name);\r\n        }\r\n        return this._layers;\r\n    }\r\n    currentKeys() {\r\n        const graphicsLayerKeys = [];\r\n        for (const layer of this._layers) {\r\n            graphicsLayerKeys.push(layer.currentKeys);\r\n        }\r\n        return graphicsLayerKeys;\r\n    }\r\n    has(name) {\r\n        return name in this._layerMap;\r\n    }\r\n    _maybeAddLayer(layer) {\r\n        if (this._layerMap[layer.name]) {\r\n            // todo log warning\r\n            return this._layerMap[layer.name];\r\n        }\r\n        this._layerMap[layer.name] = layer;\r\n        this._layers.push(layer);\r\n        this._layers.sort((a, b) => a.order - b.order);\r\n        return layer;\r\n    }\r\n    _getLayer(name) {\r\n        return this._layerMap[name];\r\n    }\r\n}\r\n/**\r\n * Component to manage drawings, using with the position component\r\n */\r\nclass GraphicsComponent extends Component {\r\n    constructor(options) {\r\n        super();\r\n        this.type = 'ex.graphics';\r\n        this._graphics = {};\r\n        /**\r\n         * Sets or gets wether any drawing should be visible in this component\r\n         */\r\n        this.visible = true;\r\n        /**\r\n         * Sets or gets wither all drawings should have an opacity applied\r\n         */\r\n        this.opacity = 1;\r\n        /**\r\n         * Offset to apply to graphics by default\r\n         */\r\n        this.offset = Vector.Zero;\r\n        /**\r\n         * Anchor to apply to graphics by default\r\n         */\r\n        this.anchor = Vector.Half;\r\n        /**\r\n         * If set to true graphics added to the component will be copied. This can affect performance\r\n         */\r\n        this.copyGraphics = false;\r\n        this._bounds = null;\r\n        // Defaults\r\n        options = Object.assign({ visible: this.visible }, options);\r\n        const { current, anchor, opacity, visible, graphics, offset, copyGraphics, onPreDraw, onPostDraw } = options;\r\n        this._graphics = graphics || {};\r\n        this.offset = offset !== null && offset !== void 0 ? offset : this.offset;\r\n        this.opacity = opacity !== null && opacity !== void 0 ? opacity : this.opacity;\r\n        this.anchor = anchor !== null && anchor !== void 0 ? anchor : this.anchor;\r\n        this.copyGraphics = copyGraphics !== null && copyGraphics !== void 0 ? copyGraphics : this.copyGraphics;\r\n        this.onPreDraw = onPreDraw !== null && onPreDraw !== void 0 ? onPreDraw : this.onPreDraw;\r\n        this.onPostDraw = onPostDraw !== null && onPostDraw !== void 0 ? onPostDraw : this.onPostDraw;\r\n        this.visible = !!visible;\r\n        this.layers = new GraphicsLayers(this);\r\n        if (current && this._graphics[current]) {\r\n            this.show(this._graphics[current]);\r\n        }\r\n    }\r\n    getGraphic(name) {\r\n        return this._graphics[name];\r\n    }\r\n    /**\r\n     * Get registered graphics names\r\n     */\r\n    getNames() {\r\n        return Object.keys(this._graphics);\r\n    }\r\n    /**\r\n     * Returns the currently displayed graphics and their offsets, empty array if hidden\r\n     */\r\n    get current() {\r\n        return this.layers.default.graphics;\r\n    }\r\n    /**\r\n     * Returns all graphics associated with this component\r\n     */\r\n    get graphics() {\r\n        return this._graphics;\r\n    }\r\n    add(nameOrGraphic, graphic) {\r\n        let name = 'default';\r\n        let graphicToSet = null;\r\n        if (typeof nameOrGraphic === 'string') {\r\n            name = nameOrGraphic;\r\n            graphicToSet = graphic;\r\n        }\r\n        else {\r\n            graphicToSet = nameOrGraphic;\r\n        }\r\n        this._graphics[name] = this.copyGraphics ? graphicToSet.clone() : graphicToSet;\r\n        if (name === 'default') {\r\n            this.show('default');\r\n        }\r\n        return graphicToSet;\r\n    }\r\n    /**\r\n     * Show a graphic by name on the **default** layer, returns the new [[Graphic]]\r\n     */\r\n    show(nameOrGraphic, options) {\r\n        return this.layers.default.show(nameOrGraphic, options);\r\n    }\r\n    /**\r\n     * Use a graphic only, swap out any graphics on the **default** layer, returns the new [[Graphic]]\r\n     * @param nameOrGraphic\r\n     * @param options\r\n     */\r\n    use(nameOrGraphic, options) {\r\n        return this.layers.default.use(nameOrGraphic, options);\r\n    }\r\n    hide(nameOrGraphic) {\r\n        this.layers.default.hide(nameOrGraphic);\r\n    }\r\n    set localBounds(bounds) {\r\n        this._bounds = bounds;\r\n    }\r\n    get localBounds() {\r\n        if (this._bounds) {\r\n            return this._bounds;\r\n        }\r\n        let bb = new BoundingBox();\r\n        for (const layer of this.layers.get()) {\r\n            for (const { graphic, options } of layer.graphics) {\r\n                let anchor = this.anchor;\r\n                let offset = this.offset;\r\n                if (options === null || options === void 0 ? void 0 : options.anchor) {\r\n                    anchor = options.anchor;\r\n                }\r\n                if (options === null || options === void 0 ? void 0 : options.offset) {\r\n                    offset = options.offset;\r\n                }\r\n                const bounds = graphic.localBounds;\r\n                const offsetX = -bounds.width * graphic.scale.x * anchor.x + offset.x;\r\n                const offsetY = -bounds.height * graphic.scale.y * anchor.y + offset.y;\r\n                bb = graphic === null || graphic === void 0 ? void 0 : graphic.localBounds.translate(vec(offsetX + layer.offset.x, offsetY + layer.offset.y)).combine(bb);\r\n            }\r\n        }\r\n        return bb;\r\n    }\r\n    /**\r\n     * Update underlying graphics if necesary, called internally\r\n     * @param elapsed\r\n     * @internal\r\n     */\r\n    update(elapsed, idempotencyToken = 0) {\r\n        for (const layer of this.layers.get()) {\r\n            for (const { graphic } of layer.graphics) {\r\n                if (hasGraphicsTick(graphic)) {\r\n                    graphic === null || graphic === void 0 ? void 0 : graphic.tick(elapsed, idempotencyToken);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Rectangle.ts\n\r\n/**\r\n * A Rectangle [[Graphic]] for drawing rectangles to the [[ExcaliburGraphicsContext]]\r\n */\r\nclass Rectangle extends Raster {\r\n    constructor(options) {\r\n        super(options);\r\n        this.width = options.width;\r\n        this.height = options.height;\r\n        this.rasterize();\r\n    }\r\n    clone() {\r\n        return new Rectangle(Object.assign(Object.assign({ width: this.width, height: this.height }, this.cloneGraphicOptions()), this.cloneRasterOptions()));\r\n    }\r\n    execute(ctx) {\r\n        if (this.color) {\r\n            ctx.fillRect(0, 0, this.width, this.height);\r\n        }\r\n        if (this.strokeColor) {\r\n            ctx.strokeRect(0, 0, this.width, this.height);\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Circle.ts\n\r\n/**\r\n * A circle [[Graphic]] for drawing circles to the [[ExcaliburGraphicsContext]]\r\n */\r\nclass Circle extends Raster {\r\n    constructor(options) {\r\n        var _a;\r\n        super(options);\r\n        this._radius = 0;\r\n        this.padding = (_a = options.padding) !== null && _a !== void 0 ? _a : 2; // default 2 padding for circles looks nice\r\n        this.radius = options.radius;\r\n        this.rasterize();\r\n    }\r\n    get radius() {\r\n        return this._radius;\r\n    }\r\n    set radius(value) {\r\n        this._radius = value;\r\n        this.width = this._radius * 2;\r\n        this.height = this._radius * 2;\r\n        this.flagDirty();\r\n    }\r\n    clone() {\r\n        return new Circle(Object.assign(Object.assign({ radius: this.radius }, this.cloneGraphicOptions()), this.cloneRasterOptions()));\r\n    }\r\n    execute(ctx) {\r\n        if (this.radius > 0) {\r\n            ctx.beginPath();\r\n            ctx.arc(this.radius, this.radius, this.radius, 0, Math.PI * 2);\r\n            if (this.color) {\r\n                ctx.fill();\r\n            }\r\n            if (this.strokeColor) {\r\n                ctx.stroke();\r\n            }\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Util/EasingFunctions.ts\nvar EasingFunctions_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n/**\r\n * Standard easing functions for motion in Excalibur, defined on a domain of [0, duration] and a range from [+startValue,+endValue]\r\n * Given a time, the function will return a value from positive startValue to positive endValue.\r\n *\r\n * ```js\r\n * function Linear (t) {\r\n *    return t * t;\r\n * }\r\n *\r\n * // accelerating from zero velocity\r\n * function EaseInQuad (t) {\r\n *    return t * t;\r\n * }\r\n *\r\n * // decelerating to zero velocity\r\n * function EaseOutQuad (t) {\r\n *    return t * (2 - t);\r\n * }\r\n *\r\n * // acceleration until halfway, then deceleration\r\n * function EaseInOutQuad (t) {\r\n *    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n * }\r\n *\r\n * // accelerating from zero velocity\r\n * function EaseInCubic (t) {\r\n *    return t * t * t;\r\n * }\r\n *\r\n * // decelerating to zero velocity\r\n * function EaseOutCubic (t) {\r\n *    return (--t) * t * t + 1;\r\n * }\r\n *\r\n * // acceleration until halfway, then deceleration\r\n * function EaseInOutCubic (t) {\r\n *    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\r\n * }\r\n * ```\r\n */\r\nclass EasingFunctions {\r\n    static CreateReversibleEasingFunction(easing) {\r\n        return (time, start, end, duration) => {\r\n            if (end < start) {\r\n                return start - (easing(time, end, start, duration) - end);\r\n            }\r\n            else {\r\n                return easing(time, start, end, duration);\r\n            }\r\n        };\r\n    }\r\n    static CreateReversableEasingFunction(easing) {\r\n        return EasingFunctions.CreateReversibleEasingFunction(easing);\r\n    }\r\n    static CreateVectorEasingFunction(easing) {\r\n        return (time, start, end, duration) => {\r\n            return new Vector(easing(time, start.x, end.x, duration), easing(time, start.y, end.y, duration));\r\n        };\r\n    }\r\n}\r\nEasingFunctions.Linear = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\r\n    endValue = endValue - startValue;\r\n    return (endValue * currentTime) / duration + startValue;\r\n});\r\nEasingFunctions.EaseInQuad = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\r\n    endValue = endValue - startValue;\r\n    currentTime /= duration;\r\n    return endValue * currentTime * currentTime + startValue;\r\n});\r\nEasingFunctions.EaseOutQuad = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\r\n    endValue = endValue - startValue;\r\n    currentTime /= duration;\r\n    return -endValue * currentTime * (currentTime - 2) + startValue;\r\n});\r\nEasingFunctions.EaseInOutQuad = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\r\n    endValue = endValue - startValue;\r\n    currentTime /= duration / 2;\r\n    if (currentTime < 1) {\r\n        return (endValue / 2) * currentTime * currentTime + startValue;\r\n    }\r\n    currentTime--;\r\n    return (-endValue / 2) * (currentTime * (currentTime - 2) - 1) + startValue;\r\n});\r\nEasingFunctions.EaseInCubic = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\r\n    endValue = endValue - startValue;\r\n    currentTime /= duration;\r\n    return endValue * currentTime * currentTime * currentTime + startValue;\r\n});\r\nEasingFunctions.EaseOutCubic = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\r\n    endValue = endValue - startValue;\r\n    currentTime /= duration;\r\n    currentTime--;\r\n    return endValue * (currentTime * currentTime * currentTime + 1) + startValue;\r\n});\r\nEasingFunctions.EaseInOutCubic = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\r\n    endValue = endValue - startValue;\r\n    currentTime /= duration / 2;\r\n    if (currentTime < 1) {\r\n        return (endValue / 2) * currentTime * currentTime * currentTime + startValue;\r\n    }\r\n    currentTime -= 2;\r\n    return (endValue / 2) * (currentTime * currentTime * currentTime + 2) + startValue;\r\n});\r\nEasingFunctions_decorate([\r\n    obsolete({\r\n        message: 'Alias for incorrect spelling used in older versions, will be removed in v0.25.0',\r\n        alternateMethod: 'CreateReversibleEasingFunction'\r\n    })\r\n], EasingFunctions, \"CreateReversableEasingFunction\", null);\r\n\n;// CONCATENATED MODULE: ./Actions/ActionQueue.ts\n/**\r\n * Action Queues represent an ordered sequence of actions\r\n *\r\n * Action queues are part of the [[ActionContext|Action API]] and\r\n * store the list of actions to be executed for an [[Actor]].\r\n *\r\n * Actors implement [[Actor.actions]] which can be manipulated by\r\n * advanced users to adjust the actions currently being executed in the\r\n * queue.\r\n */\r\nclass ActionQueue {\r\n    constructor(entity) {\r\n        this._actions = [];\r\n        this._completedActions = [];\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Add an action to the sequence\r\n     * @param action\r\n     */\r\n    add(action) {\r\n        this._actions.push(action);\r\n    }\r\n    /**\r\n     * Remove an action by reference from the sequence\r\n     * @param action\r\n     */\r\n    remove(action) {\r\n        const index = this._actions.indexOf(action);\r\n        this._actions.splice(index, 1);\r\n    }\r\n    /**\r\n     * Removes all actions from this sequence\r\n     */\r\n    clearActions() {\r\n        this._actions.length = 0;\r\n        this._completedActions.length = 0;\r\n        if (this._currentAction) {\r\n            this._currentAction.stop();\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     * @returns The total list of actions in this sequence complete or not\r\n     */\r\n    getActions() {\r\n        return this._actions.concat(this._completedActions);\r\n    }\r\n    /**\r\n     *\r\n     * @returns `true` if there are more actions to process in the sequence\r\n     */\r\n    hasNext() {\r\n        return this._actions.length > 0;\r\n    }\r\n    /**\r\n     * @returns `true` if the current sequence of actions is done\r\n     */\r\n    isComplete() {\r\n        return this._actions.length === 0;\r\n    }\r\n    /**\r\n     * Resets the sequence of actions, this is used to restart a sequence from the beginning\r\n     */\r\n    reset() {\r\n        this._actions = this.getActions();\r\n        const len = this._actions.length;\r\n        for (let i = 0; i < len; i++) {\r\n            this._actions[i].reset();\r\n        }\r\n        this._completedActions = [];\r\n    }\r\n    /**\r\n     * Update the queue which updates actions and handles completing actions\r\n     * @param elapsedMs\r\n     */\r\n    update(elapsedMs) {\r\n        if (this._actions.length > 0) {\r\n            this._currentAction = this._actions[0];\r\n            this._currentAction.update(elapsedMs);\r\n            if (this._currentAction.isComplete(this._entity)) {\r\n                this._completedActions.push(this._actions.shift());\r\n            }\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/Repeat.ts\n\r\nclass Repeat {\r\n    constructor(entity, repeatBuilder, repeat) {\r\n        this._stopped = false;\r\n        this._repeatBuilder = repeatBuilder;\r\n        this._repeatContext = new ActionContext(entity);\r\n        this._actionQueue = this._repeatContext.getQueue();\r\n        this._repeat = repeat;\r\n        this._originalRepeat = repeat;\r\n        this._repeatBuilder(this._repeatContext);\r\n        this._repeat--; // current execution is the first repeat\r\n    }\r\n    update(delta) {\r\n        if (this._actionQueue.isComplete()) {\r\n            this._actionQueue.clearActions();\r\n            this._repeatBuilder(this._repeatContext);\r\n            this._repeat--;\r\n        }\r\n        this._actionQueue.update(delta);\r\n    }\r\n    isComplete() {\r\n        return this._stopped || (this._repeat <= 0 && this._actionQueue.isComplete());\r\n    }\r\n    stop() {\r\n        this._stopped = true;\r\n    }\r\n    reset() {\r\n        this._repeat = this._originalRepeat;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/RepeatForever.ts\n\r\n/**\r\n * RepeatForever Action implementation, it is recommended you use the fluent action\r\n * context API.\r\n *\r\n *\r\n */\r\nclass RepeatForever {\r\n    constructor(entity, repeatBuilder) {\r\n        this._stopped = false;\r\n        this._repeatBuilder = repeatBuilder;\r\n        this._repeatContext = new ActionContext(entity);\r\n        this._actionQueue = this._repeatContext.getQueue();\r\n        this._repeatBuilder(this._repeatContext);\r\n    }\r\n    update(delta) {\r\n        if (this._stopped) {\r\n            return;\r\n        }\r\n        if (this._actionQueue.isComplete()) {\r\n            this._actionQueue.clearActions();\r\n            this._repeatBuilder(this._repeatContext);\r\n        }\r\n        this._actionQueue.update(delta);\r\n    }\r\n    isComplete() {\r\n        return this._stopped;\r\n    }\r\n    stop() {\r\n        this._stopped = true;\r\n        this._actionQueue.clearActions();\r\n    }\r\n    reset() {\r\n        return;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/MoveBy.ts\n\r\n\r\n\r\n\r\nclass MoveBy {\r\n    constructor(entity, offsetX, offsetY, speed) {\r\n        this._started = false;\r\n        this._stopped = false;\r\n        this._entity = entity;\r\n        this._tx = entity.get(TransformComponent);\r\n        this._motion = entity.get(MotionComponent);\r\n        this._speed = speed;\r\n        this._offset = new Vector(offsetX, offsetY);\r\n        if (speed <= 0) {\r\n            Logger.getInstance().error('Attempted to moveBy with speed less than or equal to zero : ' + speed);\r\n            throw new Error('Speed must be greater than 0 pixels per second');\r\n        }\r\n    }\r\n    update(_delta) {\r\n        if (!this._started) {\r\n            this._started = true;\r\n            this._start = new Vector(this._tx.pos.x, this._tx.pos.y);\r\n            this._end = this._start.add(this._offset);\r\n            this._distance = this._offset.size;\r\n            this._dir = this._end.sub(this._start).normalize();\r\n        }\r\n        if (this.isComplete(this._entity)) {\r\n            this._tx.pos = vec(this._end.x, this._end.y);\r\n            this._motion.vel = vec(0, 0);\r\n        }\r\n        else {\r\n            this._motion.vel = this._dir.scale(this._speed);\r\n        }\r\n    }\r\n    isComplete(entity) {\r\n        const tx = entity.get(TransformComponent);\r\n        return this._stopped || tx.pos.distance(this._start) >= this._distance;\r\n    }\r\n    stop() {\r\n        this._motion.vel = vec(0, 0);\r\n        this._stopped = true;\r\n    }\r\n    reset() {\r\n        this._started = false;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/MoveTo.ts\n\r\n\r\n\r\nclass MoveTo {\r\n    constructor(entity, destx, desty, speed) {\r\n        this.entity = entity;\r\n        this._started = false;\r\n        this._stopped = false;\r\n        this._tx = entity.get(TransformComponent);\r\n        this._motion = entity.get(MotionComponent);\r\n        this._end = new Vector(destx, desty);\r\n        this._speed = speed;\r\n    }\r\n    update(_delta) {\r\n        if (!this._started) {\r\n            this._started = true;\r\n            this._start = new Vector(this._tx.pos.x, this._tx.pos.y);\r\n            this._distance = this._start.distance(this._end);\r\n            this._dir = this._end.sub(this._start).normalize();\r\n        }\r\n        const m = this._dir.scale(this._speed);\r\n        this._motion.vel = vec(m.x, m.y);\r\n        if (this.isComplete(this.entity)) {\r\n            this._tx.pos = vec(this._end.x, this._end.y);\r\n            this._motion.vel = vec(0, 0);\r\n        }\r\n    }\r\n    isComplete(entity) {\r\n        const tx = entity.get(TransformComponent);\r\n        return this._stopped || new Vector(tx.pos.x, tx.pos.y).distance(this._start) >= this._distance;\r\n    }\r\n    stop() {\r\n        this._motion.vel = vec(0, 0);\r\n        this._stopped = true;\r\n    }\r\n    reset() {\r\n        this._started = false;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/RotationType.ts\n/**\r\n * An enum that describes the strategies that rotation actions can use\r\n */\r\nvar RotationType;\r\n(function (RotationType) {\r\n    /**\r\n     * Rotation via `ShortestPath` will use the smallest angle\r\n     * between the starting and ending points. This strategy is the default behavior.\r\n     */\r\n    RotationType[RotationType[\"ShortestPath\"] = 0] = \"ShortestPath\";\r\n    /**\r\n     * Rotation via `LongestPath` will use the largest angle\r\n     * between the starting and ending points.\r\n     */\r\n    RotationType[RotationType[\"LongestPath\"] = 1] = \"LongestPath\";\r\n    /**\r\n     * Rotation via `Clockwise` will travel in a clockwise direction,\r\n     * regardless of the starting and ending points.\r\n     */\r\n    RotationType[RotationType[\"Clockwise\"] = 2] = \"Clockwise\";\r\n    /**\r\n     * Rotation via `CounterClockwise` will travel in a counterclockwise direction,\r\n     * regardless of the starting and ending points.\r\n     */\r\n    RotationType[RotationType[\"CounterClockwise\"] = 3] = \"CounterClockwise\";\r\n})(RotationType || (RotationType = {}));\r\n\n;// CONCATENATED MODULE: ./Actions/Action/RotateTo.ts\n\r\n\r\n\r\n\r\nclass RotateTo {\r\n    constructor(entity, angleRadians, speed, rotationType) {\r\n        this._started = false;\r\n        this._stopped = false;\r\n        this._tx = entity.get(TransformComponent);\r\n        this._motion = entity.get(MotionComponent);\r\n        this._end = angleRadians;\r\n        this._speed = speed;\r\n        this._rotationType = rotationType || RotationType.ShortestPath;\r\n    }\r\n    update(_delta) {\r\n        if (!this._started) {\r\n            this._started = true;\r\n            this._start = this._tx.rotation;\r\n            this._currentNonCannonAngle = this._tx.rotation;\r\n            const distance1 = Math.abs(this._end - this._start);\r\n            const distance2 = TwoPI - distance1;\r\n            if (distance1 > distance2) {\r\n                this._shortDistance = distance2;\r\n                this._longDistance = distance1;\r\n            }\r\n            else {\r\n                this._shortDistance = distance1;\r\n                this._longDistance = distance2;\r\n            }\r\n            this._shortestPathIsPositive = (this._start - this._end + TwoPI) % TwoPI >= Math.PI;\r\n            switch (this._rotationType) {\r\n                case RotationType.ShortestPath:\r\n                    this._distance = this._shortDistance;\r\n                    if (this._shortestPathIsPositive) {\r\n                        this._direction = 1;\r\n                    }\r\n                    else {\r\n                        this._direction = -1;\r\n                    }\r\n                    break;\r\n                case RotationType.LongestPath:\r\n                    this._distance = this._longDistance;\r\n                    if (this._shortestPathIsPositive) {\r\n                        this._direction = -1;\r\n                    }\r\n                    else {\r\n                        this._direction = 1;\r\n                    }\r\n                    break;\r\n                case RotationType.Clockwise:\r\n                    this._direction = 1;\r\n                    if (this._shortestPathIsPositive) {\r\n                        this._distance = this._shortDistance;\r\n                    }\r\n                    else {\r\n                        this._distance = this._longDistance;\r\n                    }\r\n                    break;\r\n                case RotationType.CounterClockwise:\r\n                    this._direction = -1;\r\n                    if (!this._shortestPathIsPositive) {\r\n                        this._distance = this._shortDistance;\r\n                    }\r\n                    else {\r\n                        this._distance = this._longDistance;\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n        this._motion.angularVelocity = this._direction * this._speed;\r\n        this._currentNonCannonAngle += this._direction * this._speed * (_delta / 1000);\r\n        if (this.isComplete()) {\r\n            this._tx.rotation = this._end;\r\n            this._motion.angularVelocity = 0;\r\n            this._stopped = true;\r\n        }\r\n    }\r\n    isComplete() {\r\n        const distanceTravelled = Math.abs(this._currentNonCannonAngle - this._start);\r\n        return this._stopped || distanceTravelled >= Math.abs(this._distance);\r\n    }\r\n    stop() {\r\n        this._motion.angularVelocity = 0;\r\n        this._stopped = true;\r\n    }\r\n    reset() {\r\n        this._started = false;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/RotateBy.ts\n\r\n\r\n\r\n\r\nclass RotateBy {\r\n    constructor(entity, angleRadiansOffset, speed, rotationType) {\r\n        this._started = false;\r\n        this._stopped = false;\r\n        this._tx = entity.get(TransformComponent);\r\n        this._motion = entity.get(MotionComponent);\r\n        this._speed = speed;\r\n        this._offset = angleRadiansOffset;\r\n        this._rotationType = rotationType || RotationType.ShortestPath;\r\n    }\r\n    update(_delta) {\r\n        if (!this._started) {\r\n            this._started = true;\r\n            this._start = this._tx.rotation;\r\n            this._currentNonCannonAngle = this._tx.rotation;\r\n            this._end = this._start + this._offset;\r\n            const distance1 = Math.abs(this._end - this._start);\r\n            const distance2 = TwoPI - distance1;\r\n            if (distance1 > distance2) {\r\n                this._shortDistance = distance2;\r\n                this._longDistance = distance1;\r\n            }\r\n            else {\r\n                this._shortDistance = distance1;\r\n                this._longDistance = distance2;\r\n            }\r\n            this._shortestPathIsPositive = (this._start - this._end + TwoPI) % TwoPI >= Math.PI;\r\n            switch (this._rotationType) {\r\n                case RotationType.ShortestPath:\r\n                    this._distance = this._shortDistance;\r\n                    if (this._shortestPathIsPositive) {\r\n                        this._direction = 1;\r\n                    }\r\n                    else {\r\n                        this._direction = -1;\r\n                    }\r\n                    break;\r\n                case RotationType.LongestPath:\r\n                    this._distance = this._longDistance;\r\n                    if (this._shortestPathIsPositive) {\r\n                        this._direction = -1;\r\n                    }\r\n                    else {\r\n                        this._direction = 1;\r\n                    }\r\n                    break;\r\n                case RotationType.Clockwise:\r\n                    this._direction = 1;\r\n                    if (this._shortDistance >= 0) {\r\n                        this._distance = this._shortDistance;\r\n                    }\r\n                    else {\r\n                        this._distance = this._longDistance;\r\n                    }\r\n                    break;\r\n                case RotationType.CounterClockwise:\r\n                    this._direction = -1;\r\n                    if (this._shortDistance <= 0) {\r\n                        this._distance = this._shortDistance;\r\n                    }\r\n                    else {\r\n                        this._distance = this._longDistance;\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n        this._motion.angularVelocity = this._direction * this._speed;\r\n        this._currentNonCannonAngle += this._direction * this._speed * (_delta / 1000);\r\n        if (this.isComplete()) {\r\n            this._tx.rotation = this._end;\r\n            this._motion.angularVelocity = 0;\r\n            this._stopped = true;\r\n        }\r\n    }\r\n    isComplete() {\r\n        const distanceTravelled = Math.abs(this._currentNonCannonAngle - this._start);\r\n        return this._stopped || distanceTravelled >= Math.abs(this._distance);\r\n    }\r\n    stop() {\r\n        this._motion.angularVelocity = 0;\r\n        this._stopped = true;\r\n    }\r\n    reset() {\r\n        this._started = false;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/ScaleTo.ts\n\r\n\r\n\r\nclass ScaleTo {\r\n    constructor(entity, scaleX, scaleY, speedX, speedY) {\r\n        this._started = false;\r\n        this._stopped = false;\r\n        this._tx = entity.get(TransformComponent);\r\n        this._motion = entity.get(MotionComponent);\r\n        this._endX = scaleX;\r\n        this._endY = scaleY;\r\n        this._speedX = speedX;\r\n        this._speedY = speedY;\r\n    }\r\n    update(_delta) {\r\n        if (!this._started) {\r\n            this._started = true;\r\n            this._startX = this._tx.scale.x;\r\n            this._startY = this._tx.scale.y;\r\n            this._distanceX = Math.abs(this._endX - this._startX);\r\n            this._distanceY = Math.abs(this._endY - this._startY);\r\n        }\r\n        if (!(Math.abs(this._tx.scale.x - this._startX) >= this._distanceX)) {\r\n            const directionX = this._endY < this._startY ? -1 : 1;\r\n            this._motion.scaleFactor.x = this._speedX * directionX;\r\n        }\r\n        else {\r\n            this._motion.scaleFactor.x = 0;\r\n        }\r\n        if (!(Math.abs(this._tx.scale.y - this._startY) >= this._distanceY)) {\r\n            const directionY = this._endY < this._startY ? -1 : 1;\r\n            this._motion.scaleFactor.y = this._speedY * directionY;\r\n        }\r\n        else {\r\n            this._motion.scaleFactor.y = 0;\r\n        }\r\n        if (this.isComplete()) {\r\n            this._tx.scale = vec(this._endX, this._endY);\r\n            this._motion.scaleFactor.x = 0;\r\n            this._motion.scaleFactor.y = 0;\r\n        }\r\n    }\r\n    isComplete() {\r\n        return (this._stopped ||\r\n            (Math.abs(this._tx.scale.y - this._startX) >= this._distanceX && Math.abs(this._tx.scale.y - this._startY) >= this._distanceY));\r\n    }\r\n    stop() {\r\n        this._motion.scaleFactor.x = 0;\r\n        this._motion.scaleFactor.y = 0;\r\n        this._stopped = true;\r\n    }\r\n    reset() {\r\n        this._started = false;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/ScaleBy.ts\n\r\n\r\n\r\nclass ScaleBy {\r\n    constructor(entity, scaleOffsetX, scaleOffsetY, speed) {\r\n        this._started = false;\r\n        this._stopped = false;\r\n        this._tx = entity.get(TransformComponent);\r\n        this._motion = entity.get(MotionComponent);\r\n        this._offset = new Vector(scaleOffsetX, scaleOffsetY);\r\n        this._speedX = this._speedY = speed;\r\n    }\r\n    update(_delta) {\r\n        if (!this._started) {\r\n            this._started = true;\r\n            this._startScale = this._tx.scale.clone();\r\n            this._endScale = this._startScale.add(this._offset);\r\n            this._distanceX = Math.abs(this._endScale.x - this._startScale.x);\r\n            this._distanceY = Math.abs(this._endScale.y - this._startScale.y);\r\n            this._directionX = this._endScale.x < this._startScale.x ? -1 : 1;\r\n            this._directionY = this._endScale.y < this._startScale.y ? -1 : 1;\r\n        }\r\n        this._motion.scaleFactor.x = this._speedX * this._directionX;\r\n        this._motion.scaleFactor.y = this._speedY * this._directionY;\r\n        if (this.isComplete()) {\r\n            this._tx.scale = this._endScale;\r\n            this._motion.scaleFactor.x = 0;\r\n            this._motion.scaleFactor.y = 0;\r\n        }\r\n    }\r\n    isComplete() {\r\n        return (this._stopped ||\r\n            (Math.abs(this._tx.scale.x - this._startScale.x) >= this._distanceX &&\r\n                Math.abs(this._tx.scale.y - this._startScale.y) >= this._distanceY));\r\n    }\r\n    stop() {\r\n        this._motion.scaleFactor.x = 0;\r\n        this._motion.scaleFactor.y = 0;\r\n        this._stopped = true;\r\n    }\r\n    reset() {\r\n        this._started = false;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/CallMethod.ts\nclass CallMethod {\r\n    constructor(method) {\r\n        this._method = null;\r\n        this._hasBeenCalled = false;\r\n        this._method = method;\r\n    }\r\n    update(_delta) {\r\n        this._method();\r\n        this._hasBeenCalled = true;\r\n    }\r\n    isComplete() {\r\n        return this._hasBeenCalled;\r\n    }\r\n    reset() {\r\n        this._hasBeenCalled = false;\r\n    }\r\n    stop() {\r\n        this._hasBeenCalled = true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/EaseTo.ts\n\r\n\r\n\r\nclass EaseTo {\r\n    constructor(entity, x, y, duration, easingFcn) {\r\n        this.easingFcn = easingFcn;\r\n        this._currentLerpTime = 0;\r\n        this._lerpDuration = 1 * 1000; // 1 second\r\n        this._lerpStart = new Vector(0, 0);\r\n        this._lerpEnd = new Vector(0, 0);\r\n        this._initialized = false;\r\n        this._stopped = false;\r\n        this._distance = 0;\r\n        this._tx = entity.get(TransformComponent);\r\n        this._motion = entity.get(MotionComponent);\r\n        this._lerpDuration = duration;\r\n        this._lerpEnd = new Vector(x, y);\r\n    }\r\n    _initialize() {\r\n        this._lerpStart = new Vector(this._tx.pos.x, this._tx.pos.y);\r\n        this._currentLerpTime = 0;\r\n        this._distance = this._lerpStart.distance(this._lerpEnd);\r\n    }\r\n    update(delta) {\r\n        if (!this._initialized) {\r\n            this._initialize();\r\n            this._initialized = true;\r\n        }\r\n        // Need to update lerp time first, otherwise the first update will always be zero\r\n        this._currentLerpTime += delta;\r\n        let newX = this._tx.pos.x;\r\n        let newY = this._tx.pos.y;\r\n        if (this._currentLerpTime < this._lerpDuration) {\r\n            if (this._lerpEnd.x < this._lerpStart.x) {\r\n                newX =\r\n                    this._lerpStart.x -\r\n                        (this.easingFcn(this._currentLerpTime, this._lerpEnd.x, this._lerpStart.x, this._lerpDuration) - this._lerpEnd.x);\r\n            }\r\n            else {\r\n                newX = this.easingFcn(this._currentLerpTime, this._lerpStart.x, this._lerpEnd.x, this._lerpDuration);\r\n            }\r\n            if (this._lerpEnd.y < this._lerpStart.y) {\r\n                newY =\r\n                    this._lerpStart.y -\r\n                        (this.easingFcn(this._currentLerpTime, this._lerpEnd.y, this._lerpStart.y, this._lerpDuration) - this._lerpEnd.y);\r\n            }\r\n            else {\r\n                newY = this.easingFcn(this._currentLerpTime, this._lerpStart.y, this._lerpEnd.y, this._lerpDuration);\r\n            }\r\n            // Given the lerp position figure out the velocity in pixels per second\r\n            this._motion.vel = vec((newX - this._tx.pos.x) / (delta / 1000), (newY - this._tx.pos.y) / (delta / 1000));\r\n        }\r\n        else {\r\n            this._tx.pos = vec(this._lerpEnd.x, this._lerpEnd.y);\r\n            this._motion.vel = Vector.Zero;\r\n        }\r\n    }\r\n    isComplete(actor) {\r\n        return this._stopped || new Vector(actor.pos.x, actor.pos.y).distance(this._lerpStart) >= this._distance;\r\n    }\r\n    reset() {\r\n        this._initialized = false;\r\n    }\r\n    stop() {\r\n        this._motion.vel = vec(0, 0);\r\n        this._stopped = true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/Blink.ts\n\r\nclass Blink {\r\n    constructor(entity, timeVisible, timeNotVisible, numBlinks = 1) {\r\n        this._timeVisible = 0;\r\n        this._timeNotVisible = 0;\r\n        this._elapsedTime = 0;\r\n        this._totalTime = 0;\r\n        this._stopped = false;\r\n        this._started = false;\r\n        this._graphics = entity.get(GraphicsComponent);\r\n        this._timeVisible = timeVisible;\r\n        this._timeNotVisible = timeNotVisible;\r\n        this._duration = (timeVisible + timeNotVisible) * numBlinks;\r\n    }\r\n    update(delta) {\r\n        if (!this._started) {\r\n            this._started = true;\r\n        }\r\n        if (!this._graphics) {\r\n            return;\r\n        }\r\n        this._elapsedTime += delta;\r\n        this._totalTime += delta;\r\n        if (this._graphics.visible && this._elapsedTime >= this._timeVisible) {\r\n            this._graphics.visible = false;\r\n            this._elapsedTime = 0;\r\n        }\r\n        if (!this._graphics.visible && this._elapsedTime >= this._timeNotVisible) {\r\n            this._graphics.visible = true;\r\n            this._elapsedTime = 0;\r\n        }\r\n        if (this.isComplete()) {\r\n            this._graphics.visible = true;\r\n        }\r\n    }\r\n    isComplete() {\r\n        return this._stopped || this._totalTime >= this._duration;\r\n    }\r\n    stop() {\r\n        if (this._graphics) {\r\n            this._graphics.visible = true;\r\n        }\r\n        this._stopped = true;\r\n    }\r\n    reset() {\r\n        this._started = false;\r\n        this._elapsedTime = 0;\r\n        this._totalTime = 0;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/Fade.ts\n\r\n\r\nclass Fade {\r\n    constructor(entity, endOpacity, speed) {\r\n        this._multiplier = 1;\r\n        this._started = false;\r\n        this._stopped = false;\r\n        this._graphics = entity.get(GraphicsComponent);\r\n        this._endOpacity = endOpacity;\r\n        this._speed = speed;\r\n    }\r\n    update(delta) {\r\n        if (!this._graphics) {\r\n            return;\r\n        }\r\n        if (!this._started) {\r\n            this._started = true;\r\n            // determine direction when we start\r\n            if (this._endOpacity < this._graphics.opacity) {\r\n                this._multiplier = -1;\r\n            }\r\n            else {\r\n                this._multiplier = 1;\r\n            }\r\n        }\r\n        if (this._speed > 0) {\r\n            this._graphics.opacity += (this._multiplier *\r\n                (Math.abs(this._graphics.opacity - this._endOpacity) * delta)) / this._speed;\r\n        }\r\n        this._speed -= delta;\r\n        if (this.isComplete()) {\r\n            this._graphics.opacity = this._endOpacity;\r\n        }\r\n        Logger.getInstance().debug('[Action fade] Actor opacity:', this._graphics.opacity);\r\n    }\r\n    isComplete() {\r\n        return this._stopped || Math.abs(this._graphics.opacity - this._endOpacity) < 0.05;\r\n    }\r\n    stop() {\r\n        this._stopped = true;\r\n    }\r\n    reset() {\r\n        this._started = false;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/Delay.ts\nclass Delay {\r\n    constructor(delay) {\r\n        this._elapsedTime = 0;\r\n        this._started = false;\r\n        this._stopped = false;\r\n        this._delay = delay;\r\n    }\r\n    update(delta) {\r\n        if (!this._started) {\r\n            this._started = true;\r\n        }\r\n        this._elapsedTime += delta;\r\n    }\r\n    isComplete() {\r\n        return this._stopped || this._elapsedTime >= this._delay;\r\n    }\r\n    stop() {\r\n        this._stopped = true;\r\n    }\r\n    reset() {\r\n        this._elapsedTime = 0;\r\n        this._started = false;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/Die.ts\n\r\nclass Die {\r\n    constructor(entity) {\r\n        this._stopped = false;\r\n        this._entity = entity;\r\n    }\r\n    update(_delta) {\r\n        this._entity.get(ActionsComponent).clearActions();\r\n        this._entity.kill();\r\n        this._stopped = true;\r\n    }\r\n    isComplete() {\r\n        return this._stopped;\r\n    }\r\n    stop() {\r\n        return;\r\n    }\r\n    reset() {\r\n        return;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/Follow.ts\n\r\n\r\n\r\nclass Follow {\r\n    constructor(entity, entityToFollow, followDistance) {\r\n        this._started = false;\r\n        this._stopped = false;\r\n        this._tx = entity.get(TransformComponent);\r\n        this._motion = entity.get(MotionComponent);\r\n        this._followTx = entityToFollow.get(TransformComponent);\r\n        this._followMotion = entityToFollow.get(MotionComponent);\r\n        this._current = new Vector(this._tx.pos.x, this._tx.pos.y);\r\n        this._end = new Vector(this._followTx.pos.x, this._followTx.pos.y);\r\n        this._maximumDistance = followDistance !== undefined ? followDistance : this._current.distance(this._end);\r\n        this._speed = 0;\r\n    }\r\n    update(_delta) {\r\n        if (!this._started) {\r\n            this._started = true;\r\n            this._distanceBetween = this._current.distance(this._end);\r\n            this._dir = this._end.sub(this._current).normalize();\r\n        }\r\n        const actorToFollowSpeed = Math.sqrt(Math.pow(this._followMotion.vel.x, 2) + Math.pow(this._followMotion.vel.y, 2));\r\n        if (actorToFollowSpeed !== 0) {\r\n            this._speed = actorToFollowSpeed;\r\n        }\r\n        this._current = vec(this._tx.pos.x, this._tx.pos.y);\r\n        this._end = vec(this._followTx.pos.x, this._followTx.pos.y);\r\n        this._distanceBetween = this._current.distance(this._end);\r\n        this._dir = this._end.sub(this._current).normalize();\r\n        if (this._distanceBetween >= this._maximumDistance) {\r\n            const m = this._dir.scale(this._speed);\r\n            this._motion.vel = vec(m.x, m.y);\r\n        }\r\n        else {\r\n            this._motion.vel = vec(0, 0);\r\n        }\r\n        if (this.isComplete()) {\r\n            this._tx.pos = vec(this._end.x, this._end.y);\r\n            this._motion.vel = vec(0, 0);\r\n        }\r\n    }\r\n    stop() {\r\n        this._motion.vel = vec(0, 0);\r\n        this._stopped = true;\r\n    }\r\n    isComplete() {\r\n        // the actor following should never stop unless specified to do so\r\n        return this._stopped;\r\n    }\r\n    reset() {\r\n        this._started = false;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/Action/Meet.ts\n\r\n\r\n\r\nclass Meet {\r\n    constructor(actor, actorToMeet, speed) {\r\n        this._started = false;\r\n        this._stopped = false;\r\n        this._speedWasSpecified = false;\r\n        this._tx = actor.get(TransformComponent);\r\n        this._motion = actor.get(MotionComponent);\r\n        this._meetTx = actorToMeet.get(TransformComponent);\r\n        this._meetMotion = actorToMeet.get(MotionComponent);\r\n        this._current = new Vector(this._tx.pos.x, this._tx.pos.y);\r\n        this._end = new Vector(this._meetTx.pos.x, this._meetTx.pos.y);\r\n        this._speed = speed || 0;\r\n        if (speed !== undefined) {\r\n            this._speedWasSpecified = true;\r\n        }\r\n    }\r\n    update(_delta) {\r\n        if (!this._started) {\r\n            this._started = true;\r\n            this._distanceBetween = this._current.distance(this._end);\r\n            this._dir = this._end.sub(this._current).normalize();\r\n        }\r\n        const actorToMeetSpeed = Math.sqrt(Math.pow(this._meetMotion.vel.x, 2) + Math.pow(this._meetMotion.vel.y, 2));\r\n        if (actorToMeetSpeed !== 0 && !this._speedWasSpecified) {\r\n            this._speed = actorToMeetSpeed;\r\n        }\r\n        this._current = vec(this._tx.pos.x, this._tx.pos.y);\r\n        this._end = vec(this._meetTx.pos.x, this._meetTx.pos.y);\r\n        this._distanceBetween = this._current.distance(this._end);\r\n        this._dir = this._end.sub(this._current).normalize();\r\n        const m = this._dir.scale(this._speed);\r\n        this._motion.vel = vec(m.x, m.y);\r\n        if (this.isComplete()) {\r\n            this._tx.pos = vec(this._end.x, this._end.y);\r\n            this._motion.vel = vec(0, 0);\r\n        }\r\n    }\r\n    isComplete() {\r\n        return this._stopped || this._distanceBetween <= 1;\r\n    }\r\n    stop() {\r\n        this._motion.vel = vec(0, 0);\r\n        this._stopped = true;\r\n    }\r\n    reset() {\r\n        this._started = false;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/ActionContext.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * The fluent Action API allows you to perform \"actions\" on\r\n * [[Actor|Actors]] such as following, moving, rotating, and\r\n * more. You can implement your own actions by implementing\r\n * the [[Action]] interface.\r\n */\r\nclass ActionContext {\r\n    constructor(entity) {\r\n        this._entity = entity;\r\n        this._queue = new ActionQueue(entity);\r\n    }\r\n    getQueue() {\r\n        return this._queue;\r\n    }\r\n    update(elapsedMs) {\r\n        this._queue.update(elapsedMs);\r\n    }\r\n    /**\r\n     * Clears all queued actions from the Actor\r\n     */\r\n    clearActions() {\r\n        this._queue.clearActions();\r\n    }\r\n    easeTo(...args) {\r\n        var _a, _b;\r\n        let x = 0;\r\n        let y = 0;\r\n        let duration = 0;\r\n        let easingFcn = EasingFunctions.Linear;\r\n        if (args[0] instanceof Vector) {\r\n            x = args[0].x;\r\n            y = args[0].y;\r\n            duration = args[1];\r\n            easingFcn = (_a = args[2]) !== null && _a !== void 0 ? _a : easingFcn;\r\n        }\r\n        else {\r\n            x = args[0];\r\n            y = args[1];\r\n            duration = args[2];\r\n            easingFcn = (_b = args[3]) !== null && _b !== void 0 ? _b : easingFcn;\r\n        }\r\n        this._queue.add(new EaseTo(this._entity, x, y, duration, easingFcn));\r\n        return this;\r\n    }\r\n    moveTo(xOrPos, yOrSpeed, speedOrUndefined) {\r\n        let x = 0;\r\n        let y = 0;\r\n        let speed = 0;\r\n        if (xOrPos instanceof Vector) {\r\n            x = xOrPos.x;\r\n            y = xOrPos.y;\r\n            speed = yOrSpeed;\r\n        }\r\n        else {\r\n            x = xOrPos;\r\n            y = yOrSpeed;\r\n            speed = speedOrUndefined;\r\n        }\r\n        this._queue.add(new MoveTo(this._entity, x, y, speed));\r\n        return this;\r\n    }\r\n    moveBy(xOffsetOrVector, yOffsetOrSpeed, speedOrUndefined) {\r\n        let xOffset = 0;\r\n        let yOffset = 0;\r\n        let speed = 0;\r\n        if (xOffsetOrVector instanceof Vector) {\r\n            xOffset = xOffsetOrVector.x;\r\n            yOffset = xOffsetOrVector.y;\r\n            speed = yOffsetOrSpeed;\r\n        }\r\n        else {\r\n            xOffset = xOffsetOrVector;\r\n            yOffset = yOffsetOrSpeed;\r\n            speed = speedOrUndefined;\r\n        }\r\n        this._queue.add(new MoveBy(this._entity, xOffset, yOffset, speed));\r\n        return this;\r\n    }\r\n    /**\r\n     * This method will rotate an actor to the specified angle at the speed\r\n     * specified (in radians per second) and return back the actor. This\r\n     * method is part of the actor 'Action' fluent API allowing action chaining.\r\n     * @param angleRadians  The angle to rotate to in radians\r\n     * @param speed         The angular velocity of the rotation specified in radians per second\r\n     * @param rotationType  The [[RotationType]] to use for this rotation\r\n     */\r\n    rotateTo(angleRadians, speed, rotationType) {\r\n        this._queue.add(new RotateTo(this._entity, angleRadians, speed, rotationType));\r\n        return this;\r\n    }\r\n    /**\r\n     * This method will rotate an actor by the specified angle offset, from it's current rotation given a certain speed\r\n     * in radians/sec and return back the actor. This method is part\r\n     * of the actor 'Action' fluent API allowing action chaining.\r\n     * @param angleRadiansOffset  The angle to rotate to in radians relative to the current rotation\r\n     * @param speed          The speed in radians/sec the actor should rotate at\r\n     * @param rotationType  The [[RotationType]] to use for this rotation, default is shortest path\r\n     */\r\n    rotateBy(angleRadiansOffset, speed, rotationType) {\r\n        this._queue.add(new RotateBy(this._entity, angleRadiansOffset, speed, rotationType));\r\n        return this;\r\n    }\r\n    scaleTo(sizeXOrVector, sizeYOrSpeed, speedXOrUndefined, speedYOrUndefined) {\r\n        let sizeX = 1;\r\n        let sizeY = 1;\r\n        let speedX = 0;\r\n        let speedY = 0;\r\n        if (sizeXOrVector instanceof Vector && sizeYOrSpeed instanceof Vector) {\r\n            sizeX = sizeXOrVector.x;\r\n            sizeY = sizeXOrVector.y;\r\n            speedX = sizeYOrSpeed.x;\r\n            speedY = sizeYOrSpeed.y;\r\n        }\r\n        if (typeof sizeXOrVector === 'number' && typeof sizeYOrSpeed === 'number') {\r\n            sizeX = sizeXOrVector;\r\n            sizeY = sizeYOrSpeed;\r\n            speedX = speedXOrUndefined;\r\n            speedY = speedYOrUndefined;\r\n        }\r\n        this._queue.add(new ScaleTo(this._entity, sizeX, sizeY, speedX, speedY));\r\n        return this;\r\n    }\r\n    scaleBy(sizeOffsetXOrVector, sizeOffsetYOrSpeed, speed) {\r\n        let sizeOffsetX = 1;\r\n        let sizeOffsetY = 1;\r\n        if (sizeOffsetXOrVector instanceof Vector) {\r\n            sizeOffsetX = sizeOffsetXOrVector.x;\r\n            sizeOffsetY = sizeOffsetXOrVector.y;\r\n            speed = sizeOffsetYOrSpeed;\r\n        }\r\n        if (typeof sizeOffsetXOrVector === 'number' && typeof sizeOffsetYOrSpeed === 'number') {\r\n            sizeOffsetX = sizeOffsetXOrVector;\r\n            sizeOffsetY = sizeOffsetYOrSpeed;\r\n        }\r\n        this._queue.add(new ScaleBy(this._entity, sizeOffsetX, sizeOffsetY, speed));\r\n        return this;\r\n    }\r\n    /**\r\n     * This method will cause an actor to blink (become visible and not\r\n     * visible). Optionally, you may specify the number of blinks. Specify the amount of time\r\n     * the actor should be visible per blink, and the amount of time not visible.\r\n     * This method is part of the actor 'Action' fluent API allowing action chaining.\r\n     * @param timeVisible     The amount of time to stay visible per blink in milliseconds\r\n     * @param timeNotVisible  The amount of time to stay not visible per blink in milliseconds\r\n     * @param numBlinks       The number of times to blink\r\n     */\r\n    blink(timeVisible, timeNotVisible, numBlinks = 1) {\r\n        this._queue.add(new Blink(this._entity, timeVisible, timeNotVisible, numBlinks));\r\n        return this;\r\n    }\r\n    /**\r\n     * This method will cause an actor's opacity to change from its current value\r\n     * to the provided value by a specified time (in milliseconds). This method is\r\n     * part of the actor 'Action' fluent API allowing action chaining.\r\n     * @param opacity  The ending opacity\r\n     * @param time     The time it should take to fade the actor (in milliseconds)\r\n     */\r\n    fade(opacity, time) {\r\n        this._queue.add(new Fade(this._entity, opacity, time));\r\n        return this;\r\n    }\r\n    /**\r\n     * This method will delay the next action from executing for a certain\r\n     * amount of time (in milliseconds). This method is part of the actor\r\n     * 'Action' fluent API allowing action chaining.\r\n     * @param time  The amount of time to delay the next action in the queue from executing in milliseconds\r\n     */\r\n    delay(time) {\r\n        this._queue.add(new Delay(time));\r\n        return this;\r\n    }\r\n    /**\r\n     * This method will add an action to the queue that will remove the actor from the\r\n     * scene once it has completed its previous  Any actions on the\r\n     * action queue after this action will not be executed.\r\n     */\r\n    die() {\r\n        this._queue.add(new Die(this._entity));\r\n        return this;\r\n    }\r\n    /**\r\n     * This method allows you to call an arbitrary method as the next action in the\r\n     * action queue. This is useful if you want to execute code in after a specific\r\n     * action, i.e An actor arrives at a destination after traversing a path\r\n     */\r\n    callMethod(method) {\r\n        this._queue.add(new CallMethod(method));\r\n        return this;\r\n    }\r\n    /**\r\n     * This method will cause the actor to repeat all of the actions built in\r\n     * the `repeatBuilder` callback. If the number of repeats\r\n     * is not specified it will repeat forever. This method is part of\r\n     * the actor 'Action' fluent API allowing action chaining\r\n     *\r\n     * ```typescript\r\n     * // Move up in a zig-zag by repeated moveBy's\r\n     * actor.actions.repeat(repeatCtx => {\r\n     *  repeatCtx.moveBy(10, 0, 10);\r\n     *  repeatCtx.moveBy(0, 10, 10);\r\n     * }, 5);\r\n     * ```\r\n     *\r\n     * @param repeatBuilder The builder to specify the repeatable list of actions\r\n     * @param times  The number of times to repeat all the previous actions in the action queue. If nothing is specified the actions\r\n     * will repeat forever\r\n     */\r\n    repeat(repeatBuilder, times) {\r\n        if (!times) {\r\n            this.repeatForever(repeatBuilder);\r\n            return this;\r\n        }\r\n        this._queue.add(new Repeat(this._entity, repeatBuilder, times));\r\n        return this;\r\n    }\r\n    /**\r\n     * This method will cause the actor to repeat all of the actions built in\r\n     * the `repeatBuilder` callback. If the number of repeats\r\n     * is not specified it will repeat forever. This method is part of\r\n     * the actor 'Action' fluent API allowing action chaining\r\n     *\r\n     * ```typescript\r\n     * // Move up in a zig-zag by repeated moveBy's\r\n     * actor.actions.repeat(repeatCtx => {\r\n     *  repeatCtx.moveBy(10, 0, 10);\r\n     *  repeatCtx.moveBy(0, 10, 10);\r\n     * }, 5);\r\n     * ```\r\n     *\r\n     * @param repeatBuilder The builder to specify the repeatable list of actions\r\n     */\r\n    repeatForever(repeatBuilder) {\r\n        this._queue.add(new RepeatForever(this._entity, repeatBuilder));\r\n        return this;\r\n    }\r\n    /**\r\n     * This method will cause the entity to follow another at a specified distance\r\n     * @param entity           The entity to follow\r\n     * @param followDistance  The distance to maintain when following, if not specified the actor will follow at the current distance.\r\n     */\r\n    follow(entity, followDistance) {\r\n        if (followDistance === undefined) {\r\n            this._queue.add(new Follow(this._entity, entity));\r\n        }\r\n        else {\r\n            this._queue.add(new Follow(this._entity, entity, followDistance));\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * This method will cause the entity to move towards another until they\r\n     * collide \"meet\" at a specified speed.\r\n     * @param entity  The entity to meet\r\n     * @param speed  The speed in pixels per second to move, if not specified it will match the speed of the other actor\r\n     */\r\n    meet(entity, speed) {\r\n        if (speed === undefined) {\r\n            this._queue.add(new Meet(this._entity, entity));\r\n        }\r\n        else {\r\n            this._queue.add(new Meet(this._entity, entity, speed));\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Returns a promise that resolves when the current action queue up to now\r\n     * is finished.\r\n     * @deprecated Use `toPromise()` will be removed in v0.26.0\r\n     */\r\n    asPromise() {\r\n        return this.toPromise();\r\n    }\r\n    /**\r\n     * Returns a promise that resolves when the current action queue up to now\r\n     * is finished.\r\n     */\r\n    toPromise() {\r\n        const temp = new Promise((resolve) => {\r\n            this._queue.add(new CallMethod(() => {\r\n                resolve();\r\n            }));\r\n        });\r\n        return temp;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/ActionsComponent.ts\n\r\n\r\n\r\n\r\n;\r\nclass ActionsComponent extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.type = 'ex.actions';\r\n        this.dependencies = [TransformComponent, MotionComponent];\r\n    }\r\n    onAdd(entity) {\r\n        this._ctx = new ActionContext(entity);\r\n    }\r\n    onRemove() {\r\n        this._ctx = null;\r\n    }\r\n    /**\r\n     * Returns the internal action queue\r\n     * @returns action queu\r\n     */\r\n    getQueue() {\r\n        var _a;\r\n        return (_a = this._ctx) === null || _a === void 0 ? void 0 : _a.getQueue();\r\n    }\r\n    /**\r\n     * Updates the internal action context, performing action and moving through the internal queue\r\n     * @param elapsedMs\r\n     */\r\n    update(elapsedMs) {\r\n        var _a;\r\n        return (_a = this._ctx) === null || _a === void 0 ? void 0 : _a.update(elapsedMs);\r\n    }\r\n    /**\r\n     * Clears all queued actions from the Actor\r\n     */\r\n    clearActions() {\r\n        var _a;\r\n        (_a = this._ctx) === null || _a === void 0 ? void 0 : _a.clearActions();\r\n    }\r\n    easeTo(...args) {\r\n        return this._ctx.easeTo.apply(this._ctx, args);\r\n    }\r\n    moveTo(xOrPos, yOrSpeed, speedOrUndefined) {\r\n        return this._ctx.moveTo.apply(this._ctx, [xOrPos, yOrSpeed, speedOrUndefined]);\r\n    }\r\n    moveBy(xOffsetOrVector, yOffsetOrSpeed, speedOrUndefined) {\r\n        return this._ctx.moveBy.apply(this._ctx, [xOffsetOrVector, yOffsetOrSpeed, speedOrUndefined]);\r\n    }\r\n    /**\r\n     * This method will rotate an actor to the specified angle at the speed\r\n     * specified (in radians per second) and return back the actor. This\r\n     * method is part of the actor 'Action' fluent API allowing action chaining.\r\n     * @param angleRadians  The angle to rotate to in radians\r\n     * @param speed         The angular velocity of the rotation specified in radians per second\r\n     * @param rotationType  The [[RotationType]] to use for this rotation\r\n     */\r\n    rotateTo(angleRadians, speed, rotationType) {\r\n        return this._ctx.rotateTo(angleRadians, speed, rotationType);\r\n    }\r\n    /**\r\n     * This method will rotate an actor by the specified angle offset, from it's current rotation given a certain speed\r\n     * in radians/sec and return back the actor. This method is part\r\n     * of the actor 'Action' fluent API allowing action chaining.\r\n     * @param angleRadiansOffset  The angle to rotate to in radians relative to the current rotation\r\n     * @param speed          The speed in radians/sec the actor should rotate at\r\n     * @param rotationType  The [[RotationType]] to use for this rotation, default is shortest path\r\n     */\r\n    rotateBy(angleRadiansOffset, speed, rotationType) {\r\n        return this._ctx.rotateBy(angleRadiansOffset, speed, rotationType);\r\n    }\r\n    scaleTo(sizeXOrVector, sizeYOrSpeed, speedXOrUndefined, speedYOrUndefined) {\r\n        return this._ctx.scaleTo.apply(this._ctx, [sizeXOrVector, sizeYOrSpeed, speedXOrUndefined, speedYOrUndefined]);\r\n    }\r\n    scaleBy(sizeOffsetXOrVector, sizeOffsetYOrSpeed, speed) {\r\n        return this._ctx.scaleBy.apply(this._ctx, [sizeOffsetXOrVector, sizeOffsetYOrSpeed, speed]);\r\n    }\r\n    /**\r\n     * This method will cause an actor to blink (become visible and not\r\n     * visible). Optionally, you may specify the number of blinks. Specify the amount of time\r\n     * the actor should be visible per blink, and the amount of time not visible.\r\n     * This method is part of the actor 'Action' fluent API allowing action chaining.\r\n     * @param timeVisible     The amount of time to stay visible per blink in milliseconds\r\n     * @param timeNotVisible  The amount of time to stay not visible per blink in milliseconds\r\n     * @param numBlinks       The number of times to blink\r\n     */\r\n    blink(timeVisible, timeNotVisible, numBlinks) {\r\n        return this._ctx.blink(timeVisible, timeNotVisible, numBlinks);\r\n    }\r\n    /**\r\n     * This method will cause an actor's opacity to change from its current value\r\n     * to the provided value by a specified time (in milliseconds). This method is\r\n     * part of the actor 'Action' fluent API allowing action chaining.\r\n     * @param opacity  The ending opacity\r\n     * @param time     The time it should take to fade the actor (in milliseconds)\r\n     */\r\n    fade(opacity, time) {\r\n        return this._ctx.fade(opacity, time);\r\n    }\r\n    /**\r\n     * This method will delay the next action from executing for a certain\r\n     * amount of time (in milliseconds). This method is part of the actor\r\n     * 'Action' fluent API allowing action chaining.\r\n     * @param time  The amount of time to delay the next action in the queue from executing in milliseconds\r\n     */\r\n    delay(time) {\r\n        return this._ctx.delay(time);\r\n    }\r\n    /**\r\n     * This method will add an action to the queue that will remove the actor from the\r\n     * scene once it has completed its previous  Any actions on the\r\n     * action queue after this action will not be executed.\r\n     */\r\n    die() {\r\n        return this._ctx.die();\r\n    }\r\n    /**\r\n     * This method allows you to call an arbitrary method as the next action in the\r\n     * action queue. This is useful if you want to execute code in after a specific\r\n     * action, i.e An actor arrives at a destination after traversing a path\r\n     */\r\n    callMethod(method) {\r\n        return this._ctx.callMethod(method);\r\n    }\r\n    /**\r\n     * This method will cause the actor to repeat all of the actions built in\r\n     * the `repeatBuilder` callback. If the number of repeats\r\n     * is not specified it will repeat forever. This method is part of\r\n     * the actor 'Action' fluent API allowing action chaining\r\n     *\r\n     * ```typescript\r\n     * // Move up in a zig-zag by repeated moveBy's\r\n     * actor.actions.repeat(repeatCtx => {\r\n     *  repeatCtx.moveBy(10, 0, 10);\r\n     *  repeatCtx.moveBy(0, 10, 10);\r\n     * }, 5);\r\n     * ```\r\n     *\r\n     * @param repeatBuilder The builder to specify the repeatable list of actions\r\n     * @param times  The number of times to repeat all the previous actions in the action queue. If nothing is specified the actions\r\n     * will repeat forever\r\n     */\r\n    repeat(repeatBuilder, times) {\r\n        return this._ctx.repeat(repeatBuilder, times);\r\n    }\r\n    /**\r\n     * This method will cause the actor to repeat all of the actions built in\r\n     * the `repeatBuilder` callback. If the number of repeats\r\n     * is not specified it will repeat forever. This method is part of\r\n     * the actor 'Action' fluent API allowing action chaining\r\n     *\r\n     * ```typescript\r\n     * // Move up in a zig-zag by repeated moveBy's\r\n     * actor.actions.repeat(repeatCtx => {\r\n     *  repeatCtx.moveBy(10, 0, 10);\r\n     *  repeatCtx.moveBy(0, 10, 10);\r\n     * }, 5);\r\n     * ```\r\n     *\r\n     * @param repeatBuilder The builder to specify the repeatable list of actions\r\n     */\r\n    repeatForever(repeatBuilder) {\r\n        return this._ctx.repeatForever(repeatBuilder);\r\n    }\r\n    /**\r\n     * This method will cause the entity to follow another at a specified distance\r\n     * @param entity           The entity to follow\r\n     * @param followDistance  The distance to maintain when following, if not specified the actor will follow at the current distance.\r\n     */\r\n    follow(entity, followDistance) {\r\n        return this._ctx.follow(entity, followDistance);\r\n    }\r\n    /**\r\n     * This method will cause the entity to move towards another until they\r\n     * collide \"meet\" at a specified speed.\r\n     * @param entity  The entity to meet\r\n     * @param speed  The speed in pixels per second to move, if not specified it will match the speed of the other actor\r\n     */\r\n    meet(entity, speed) {\r\n        return this._ctx.meet(entity, speed);\r\n    }\r\n    /**\r\n     * Returns a promise that resolves when the current action queue up to now\r\n     * is finished.\r\n     * @deprecated Use `toPromise()` will be removed in v0.26.0\r\n     */\r\n    asPromise() {\r\n        return this.toPromise();\r\n    }\r\n    /**\r\n     * Returns a promise that resolves when the current action queue up to now\r\n     * is finished.\r\n     */\r\n    toPromise() {\r\n        return this._ctx.toPromise();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actor.ts\nvar Actor_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Type guard for checking if something is an Actor\r\n * @param x\r\n */\r\nfunction isActor(x) {\r\n    return x instanceof Actor;\r\n}\r\n/**\r\n * The most important primitive in Excalibur is an `Actor`. Anything that\r\n * can move on the screen, collide with another `Actor`, respond to events,\r\n * or interact with the current scene, must be an actor. An `Actor` **must**\r\n * be part of a [[Scene]] for it to be drawn to the screen.\r\n */\r\nclass Actor extends Entity {\r\n    // #endregion\r\n    /**\r\n     *\r\n     * @param config\r\n     */\r\n    constructor(config) {\r\n        super();\r\n        /**\r\n         * The anchor to apply all actor related transformations like rotation,\r\n         * translation, and scaling. By default the anchor is in the center of\r\n         * the actor. By default it is set to the center of the actor (.5, .5)\r\n         *\r\n         * An anchor of (.5, .5) will ensure that drawings are centered.\r\n         *\r\n         * Use `anchor.setTo` to set the anchor to a different point using\r\n         * values between 0 and 1. For example, anchoring to the top-left would be\r\n         * `Actor.anchor.setTo(0, 0)` and top-right would be `Actor.anchor.setTo(0, 1)`.\r\n         */\r\n        this._anchor = watch(Vector.Half, (v) => this._handleAnchorChange(v));\r\n        /**\r\n         * Convenience reference to the global logger\r\n         */\r\n        this.logger = Logger.getInstance();\r\n        /**\r\n         * The scene that the actor is in\r\n         */\r\n        this.scene = null;\r\n        this.frames = {};\r\n        /**\r\n         * Access to the current drawing for the actor, this can be\r\n         * an [[Animation]], [[Sprite]], or [[Polygon]].\r\n         * Set drawings with [[setDrawing]].\r\n         * @deprecated\r\n         */\r\n        this.currentDrawing = null;\r\n        /**\r\n         * Draggable helper\r\n         */\r\n        this._draggable = false;\r\n        this._dragging = false;\r\n        this._pointerDragStartHandler = () => {\r\n            this._dragging = true;\r\n        };\r\n        this._pointerDragEndHandler = () => {\r\n            this._dragging = false;\r\n        };\r\n        this._pointerDragMoveHandler = (pe) => {\r\n            if (this._dragging) {\r\n                this.pos = pe.pointer.lastWorldPos;\r\n            }\r\n        };\r\n        this._pointerDragLeaveHandler = (pe) => {\r\n            if (this._dragging) {\r\n                this.pos = pe.pointer.lastWorldPos;\r\n            }\r\n        };\r\n        /**\r\n         * Modify the current actor update pipeline.\r\n         */\r\n        this.traits = [];\r\n        /**\r\n         * Whether or not to enable the [[Traits.CapturePointer]] trait that propagates\r\n         * pointer events to this actor\r\n         */\r\n        this.enableCapturePointer = false;\r\n        /**\r\n         * Configuration for [[Traits.CapturePointer]] trait\r\n         */\r\n        this.capturePointer = {\r\n            captureMoveEvents: false,\r\n            captureDragEvents: false\r\n        };\r\n        // #region Events\r\n        this._capturePointerEvents = [\r\n            'pointerup',\r\n            'pointerdown',\r\n            'pointermove',\r\n            'pointerenter',\r\n            'pointerleave',\r\n            'pointerdragstart',\r\n            'pointerdragend',\r\n            'pointerdragmove',\r\n            'pointerdragenter',\r\n            'pointerdragleave'\r\n        ];\r\n        this._captureMoveEvents = [\r\n            'pointermove',\r\n            'pointerenter',\r\n            'pointerleave',\r\n            'pointerdragmove',\r\n            'pointerdragenter',\r\n            'pointerdragleave'\r\n        ];\r\n        this._captureDragEvents = [\r\n            'pointerdragstart',\r\n            'pointerdragend',\r\n            'pointerdragmove',\r\n            'pointerdragenter',\r\n            'pointerdragleave'\r\n        ];\r\n        const { name, x, y, pos, scale, width, height, radius, collider, vel, acc, rotation, angularVelocity, z, color, visible, anchor, collisionType, collisionGroup } = Object.assign({}, config);\r\n        this._setName(name);\r\n        this.anchor = anchor !== null && anchor !== void 0 ? anchor : Actor.defaults.anchor.clone();\r\n        this.addComponent(new TransformComponent());\r\n        this.pos = pos !== null && pos !== void 0 ? pos : vec(x !== null && x !== void 0 ? x : 0, y !== null && y !== void 0 ? y : 0);\r\n        this.rotation = rotation !== null && rotation !== void 0 ? rotation : 0;\r\n        this.scale = scale !== null && scale !== void 0 ? scale : vec(1, 1);\r\n        this.z = z !== null && z !== void 0 ? z : 0;\r\n        this.addComponent(new GraphicsComponent());\r\n        this.addComponent(new CanvasDrawComponent((ctx, delta) => this.draw(ctx, delta)));\r\n        this.addComponent(new MotionComponent());\r\n        this.vel = vel !== null && vel !== void 0 ? vel : Vector.Zero;\r\n        this.acc = acc !== null && acc !== void 0 ? acc : Vector.Zero;\r\n        this.angularVelocity = angularVelocity !== null && angularVelocity !== void 0 ? angularVelocity : 0;\r\n        this.addComponent(new ActionsComponent());\r\n        this.addComponent(new BodyComponent());\r\n        this.body.collisionType = collisionType !== null && collisionType !== void 0 ? collisionType : CollisionType.Passive;\r\n        if (collisionGroup) {\r\n            this.body.group = collisionGroup;\r\n        }\r\n        if (collider) {\r\n            this.addComponent(new ColliderComponent(collider));\r\n        }\r\n        else if (radius) {\r\n            this.addComponent(new ColliderComponent(Shape.Circle(radius, this.anchor)));\r\n        }\r\n        else {\r\n            if (width > 0 && height > 0) {\r\n                this.addComponent(new ColliderComponent(Shape.Box(width, height, this.anchor)));\r\n            }\r\n            else {\r\n                this.addComponent(new ColliderComponent()); // no collider\r\n            }\r\n        }\r\n        this.graphics.visible = visible !== null && visible !== void 0 ? visible : true;\r\n        if (color) {\r\n            this.color = color;\r\n            if (width && height) {\r\n                this.graphics.add(new Rectangle({\r\n                    color: color,\r\n                    width,\r\n                    height\r\n                }));\r\n            }\r\n            else if (radius) {\r\n                this.graphics.add(new Circle({\r\n                    color: color,\r\n                    radius\r\n                }));\r\n            }\r\n        }\r\n        // Build default pipeline\r\n        if (Flags.isEnabled(Legacy.LegacyDrawing)) {\r\n            // TODO remove offscreen trait after legacy drawing removed\r\n            this.traits.push(new OffscreenCulling());\r\n        }\r\n        this.traits.push(new CapturePointer());\r\n    }\r\n    /**\r\n     * The physics body the is associated with this actor. The body is the container for all physical properties, like position, velocity,\r\n     * acceleration, mass, inertia, etc.\r\n     */\r\n    get body() {\r\n        return this.get(BodyComponent);\r\n    }\r\n    /**\r\n     * Access the Actor's built in [[TransformComponent]]\r\n     */\r\n    get transform() {\r\n        return this.get(TransformComponent);\r\n    }\r\n    /**\r\n     * Access the Actor's built in [[MotionComponent]]\r\n     */\r\n    get motion() {\r\n        return this.get(MotionComponent);\r\n    }\r\n    /**\r\n     * Access to the Actor's built in [[GraphicsComponent]]\r\n     */\r\n    get graphics() {\r\n        return this.get(GraphicsComponent);\r\n    }\r\n    /**\r\n     * Access to the Actor's built in [[ColliderComponent]]\r\n     */\r\n    get collider() {\r\n        return this.get(ColliderComponent);\r\n    }\r\n    /**\r\n     * Useful for quickly scripting actor behavior, like moving to a place, patroling back and forth, blinking, etc.\r\n     *\r\n     *  Access to the Actor's built in [[ActionsComponent]] which forwards to the\r\n     * [[ActionContext|Action context]] of the actor.\r\n     */\r\n    get actions() {\r\n        return this.get(ActionsComponent);\r\n    }\r\n    /**\r\n     * Gets the position vector of the actor in pixels\r\n     */\r\n    get pos() {\r\n        return this.transform.pos;\r\n    }\r\n    /**\r\n     * Sets the position vector of the actor in pixels\r\n     */\r\n    set pos(thePos) {\r\n        this.transform.pos = thePos.clone();\r\n    }\r\n    /**\r\n     * Gets the position vector of the actor from the last frame\r\n     */\r\n    get oldPos() {\r\n        return this.body.oldPos;\r\n    }\r\n    /**\r\n     * Sets the position vector of the actor in the last frame\r\n     */\r\n    set oldPos(thePos) {\r\n        this.body.oldPos.setTo(thePos.x, thePos.y);\r\n    }\r\n    /**\r\n     * Gets the velocity vector of the actor in pixels/sec\r\n     */\r\n    get vel() {\r\n        return this.motion.vel;\r\n    }\r\n    /**\r\n     * Sets the velocity vector of the actor in pixels/sec\r\n     */\r\n    set vel(theVel) {\r\n        this.motion.vel = theVel.clone();\r\n    }\r\n    /**\r\n     * Gets the velocity vector of the actor from the last frame\r\n     */\r\n    get oldVel() {\r\n        return this.body.oldVel;\r\n    }\r\n    /**\r\n     * Sets the velocity vector of the actor from the last frame\r\n     */\r\n    set oldVel(theVel) {\r\n        this.body.oldVel.setTo(theVel.x, theVel.y);\r\n    }\r\n    /**\r\n     * Gets the acceleration vector of the actor in pixels/second/second. An acceleration pointing down such as (0, 100) may be\r\n     * useful to simulate a gravitational effect.\r\n     */\r\n    get acc() {\r\n        return this.motion.acc;\r\n    }\r\n    /**\r\n     * Sets the acceleration vector of teh actor in pixels/second/second\r\n     */\r\n    set acc(theAcc) {\r\n        this.motion.acc = theAcc.clone();\r\n    }\r\n    /**\r\n     * Sets the acceleration of the actor from the last frame. This does not include the global acc [[Physics.acc]].\r\n     */\r\n    set oldAcc(theAcc) {\r\n        this.body.oldAcc.setTo(theAcc.x, theAcc.y);\r\n    }\r\n    /**\r\n     * Gets the acceleration of the actor from the last frame. This does not include the global acc [[Physics.acc]].\r\n     */\r\n    get oldAcc() {\r\n        return this.body.oldAcc;\r\n    }\r\n    /**\r\n     * Gets the rotation of the actor in radians. 1 radian = 180/PI Degrees.\r\n     */\r\n    get rotation() {\r\n        return this.transform.rotation;\r\n    }\r\n    /**\r\n     * Sets the rotation of the actor in radians. 1 radian = 180/PI Degrees.\r\n     */\r\n    set rotation(theAngle) {\r\n        this.transform.rotation = theAngle;\r\n    }\r\n    /**\r\n     * Gets the rotational velocity of the actor in radians/second\r\n     */\r\n    get angularVelocity() {\r\n        return this.motion.angularVelocity;\r\n    }\r\n    /**\r\n     * Sets the rotational velocity of the actor in radians/sec\r\n     */\r\n    set angularVelocity(angularVelocity) {\r\n        this.motion.angularVelocity = angularVelocity;\r\n    }\r\n    get scale() {\r\n        return this.get(TransformComponent).scale;\r\n    }\r\n    set scale(scale) {\r\n        this.get(TransformComponent).scale = scale;\r\n    }\r\n    get anchor() {\r\n        return this._anchor;\r\n    }\r\n    set anchor(vec) {\r\n        this._anchor = watch(vec, (v) => this._handleAnchorChange(v));\r\n        this._handleAnchorChange(vec);\r\n    }\r\n    _handleAnchorChange(v) {\r\n        if (this.graphics) {\r\n            this.graphics.anchor = v;\r\n        }\r\n    }\r\n    /**\r\n     * Indicates whether the actor is physically in the viewport\r\n     */\r\n    get isOffScreen() {\r\n        return this.hasTag('offscreen');\r\n    }\r\n    /**\r\n     * The visibility of an actor\r\n     * @deprecated Use [[GraphicsComponent.visible|Actor.graphics.visible]], will be removed in v0.26.0\r\n     */\r\n    get visible() {\r\n        return this.graphics.visible;\r\n    }\r\n    set visible(isVisible) {\r\n        this.graphics.visible = isVisible;\r\n    }\r\n    /**\r\n     * The opacity of an actor.\r\n     *\r\n     * @deprecated Actor.opacity will be removed in v0.26.0, use [[GraphicsComponent.opacity|Actor.graphics.opacity]].\r\n     */\r\n    get opacity() {\r\n        return this.graphics.opacity;\r\n    }\r\n    set opacity(opacity) {\r\n        this.graphics.opacity = opacity;\r\n    }\r\n    get draggable() {\r\n        return this._draggable;\r\n    }\r\n    set draggable(isDraggable) {\r\n        if (isDraggable) {\r\n            if (isDraggable && !this._draggable) {\r\n                this.on('pointerdragstart', this._pointerDragStartHandler);\r\n                this.on('pointerdragend', this._pointerDragEndHandler);\r\n                this.on('pointerdragmove', this._pointerDragMoveHandler);\r\n                this.on('pointerdragleave', this._pointerDragLeaveHandler);\r\n            }\r\n            else if (!isDraggable && this._draggable) {\r\n                this.off('pointerdragstart', this._pointerDragStartHandler);\r\n                this.off('pointerdragend', this._pointerDragEndHandler);\r\n                this.off('pointerdragmove', this._pointerDragMoveHandler);\r\n                this.off('pointerdragleave', this._pointerDragLeaveHandler);\r\n            }\r\n            this._draggable = isDraggable;\r\n        }\r\n    }\r\n    /**\r\n     * Sets the color of the actor. A rectangle of this color will be\r\n     * drawn if no [[Drawable]] is specified as the actors drawing.\r\n     *\r\n     * The default is `null` which prevents a rectangle from being drawn.\r\n     */\r\n    get color() {\r\n        return this._color;\r\n    }\r\n    set color(v) {\r\n        this._color = v.clone();\r\n    }\r\n    /**\r\n     * `onInitialize` is called before the first update of the actor. This method is meant to be\r\n     * overridden. This is where initialization of child actors should take place.\r\n     *\r\n     * Synonymous with the event handler `.on('initialize', (evt) => {...})`\r\n     */\r\n    onInitialize(_engine) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * Initializes this actor and all it's child actors, meant to be called by the Scene before first update not by users of Excalibur.\r\n     *\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * @internal\r\n     */\r\n    _initialize(engine) {\r\n        super._initialize(engine);\r\n        for (const child of this.children) {\r\n            child._initialize(engine);\r\n        }\r\n    }\r\n    _checkForPointerOptIn(eventName) {\r\n        if (eventName) {\r\n            const normalized = eventName.toLowerCase();\r\n            if (this._capturePointerEvents.indexOf(normalized) !== -1) {\r\n                this.enableCapturePointer = true;\r\n                if (this._captureMoveEvents.indexOf(normalized) !== -1) {\r\n                    this.capturePointer.captureMoveEvents = true;\r\n                }\r\n                if (this._captureDragEvents.indexOf(normalized) !== -1) {\r\n                    this.capturePointer.captureDragEvents = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    on(eventName, handler) {\r\n        this._checkForPointerOptIn(eventName);\r\n        super.on(eventName, handler);\r\n    }\r\n    once(eventName, handler) {\r\n        this._checkForPointerOptIn(eventName);\r\n        super.once(eventName, handler);\r\n    }\r\n    off(eventName, handler) {\r\n        super.off(eventName, handler);\r\n    }\r\n    // #endregion\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Internal _prekill handler for [[onPreKill]] lifecycle event\r\n     * @internal\r\n     */\r\n    _prekill(_scene) {\r\n        super.emit('prekill', new PreKillEvent(this));\r\n        this.onPreKill(_scene);\r\n    }\r\n    /**\r\n     * Safe to override onPreKill lifecycle event handler. Synonymous with `.on('prekill', (evt) =>{...})`\r\n     *\r\n     * `onPreKill` is called directly before an actor is killed and removed from its current [[Scene]].\r\n     */\r\n    onPreKill(_scene) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Internal _prekill handler for [[onPostKill]] lifecycle event\r\n     * @internal\r\n     */\r\n    _postkill(_scene) {\r\n        super.emit('postkill', new PostKillEvent(this));\r\n        this.onPostKill(_scene);\r\n    }\r\n    /**\r\n     * Safe to override onPostKill lifecycle event handler. Synonymous with `.on('postkill', (evt) => {...})`\r\n     *\r\n     * `onPostKill` is called directly after an actor is killed and remove from its current [[Scene]].\r\n     */\r\n    onPostKill(_scene) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * If the current actor is a member of the scene, this will remove\r\n     * it from the scene graph. It will no longer be drawn or updated.\r\n     */\r\n    kill() {\r\n        if (this.scene) {\r\n            this._prekill(this.scene);\r\n            this.emit('kill', new KillEvent(this));\r\n            super.kill();\r\n            this._postkill(this.scene);\r\n        }\r\n        else {\r\n            this.logger.warn('Cannot kill actor, it was never added to the Scene');\r\n        }\r\n    }\r\n    /**\r\n     * If the current actor is killed, it will now not be killed.\r\n     */\r\n    unkill() {\r\n        this.active = true;\r\n    }\r\n    /**\r\n     * Indicates wether the actor has been killed.\r\n     */\r\n    isKilled() {\r\n        return !this.active;\r\n    }\r\n    setDrawing(key) {\r\n        key = key.toString();\r\n        if (this.currentDrawing !== this.frames[key]) {\r\n            if (this.frames[key] != null) {\r\n                this.frames[key].reset();\r\n                this.currentDrawing = this.frames[key];\r\n            }\r\n            else {\r\n                Logger.getInstance().error(`the specified drawing key ${key} does not exist`);\r\n            }\r\n        }\r\n        if (this.currentDrawing && this.currentDrawing instanceof Animation_Animation) {\r\n            this.currentDrawing.tick(0);\r\n        }\r\n    }\r\n    addDrawing() {\r\n        if (arguments.length === 2) {\r\n            this.frames[arguments[0]] = arguments[1];\r\n            if (!this.currentDrawing) {\r\n                this.currentDrawing = arguments[1];\r\n            }\r\n        }\r\n        else {\r\n            if (arguments[0] instanceof Sprite_Sprite) {\r\n                this.addDrawing('default', arguments[0]);\r\n            }\r\n            if (arguments[0] instanceof Texture) {\r\n                this.addDrawing('default', arguments[0].asSprite());\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Gets the z-index of an actor. The z-index determines the relative order an actor is drawn in.\r\n     * Actors with a higher z-index are drawn on top of actors with a lower z-index\r\n     */\r\n    get z() {\r\n        return this.get(TransformComponent).z;\r\n    }\r\n    /**\r\n     * @deprecated Use [[Actor.z]]\r\n     */\r\n    getZIndex() {\r\n        return this.get(TransformComponent).z;\r\n    }\r\n    /**\r\n     * Sets the z-index of an actor and updates it in the drawing list for the scene.\r\n     * The z-index determines the relative order an actor is drawn in.\r\n     * Actors with a higher z-index are drawn on top of actors with a lower z-index\r\n     * @param newZ new z-index to assign\r\n     */\r\n    set z(newZ) {\r\n        this.get(TransformComponent).z = newZ;\r\n    }\r\n    /**\r\n     * @param newIndex new z-index to assign\r\n     * @deprecated Use [[Actor.z]]\r\n     */\r\n    setZIndex(newIndex) {\r\n        this.get(TransformComponent).z = newIndex;\r\n    }\r\n    /**\r\n     * Get the center point of an actor\r\n     */\r\n    get center() {\r\n        return new Vector(this.pos.x + this.width / 2 - this.anchor.x * this.width, this.pos.y + this.height / 2 - this.anchor.y * this.height);\r\n    }\r\n    get width() {\r\n        return this.collider.localBounds.width * this.getGlobalScale().x;\r\n    }\r\n    get height() {\r\n        return this.collider.localBounds.height * this.getGlobalScale().y;\r\n    }\r\n    /**\r\n     * Gets this actor's rotation taking into account any parent relationships\r\n     *\r\n     * @returns Rotation angle in radians\r\n     */\r\n    getGlobalRotation() {\r\n        return this.get(TransformComponent).globalRotation;\r\n    }\r\n    /**\r\n     * Gets an actor's world position taking into account parent relationships, scaling, rotation, and translation\r\n     *\r\n     * @returns Position in world coordinates\r\n     */\r\n    getGlobalPos() {\r\n        return this.get(TransformComponent).globalPos;\r\n    }\r\n    /**\r\n     * Gets the global scale of the Actor\r\n     */\r\n    getGlobalScale() {\r\n        return this.get(TransformComponent).globalScale;\r\n    }\r\n    // #region Collision\r\n    /**\r\n     * Tests whether the x/y specified are contained in the actor\r\n     * @param x  X coordinate to test (in world coordinates)\r\n     * @param y  Y coordinate to test (in world coordinates)\r\n     * @param recurse checks whether the x/y are contained in any child actors (if they exist).\r\n     */\r\n    contains(x, y, recurse = false) {\r\n        const point = vec(x, y);\r\n        const collider = this.get(ColliderComponent);\r\n        collider.update();\r\n        const geom = collider.get();\r\n        if (!geom) {\r\n            return false;\r\n        }\r\n        const containment = geom.contains(point);\r\n        if (recurse) {\r\n            return (containment ||\r\n                this.children.some((child) => {\r\n                    return child.contains(x, y, true);\r\n                }));\r\n        }\r\n        return containment;\r\n    }\r\n    /**\r\n     * Returns true if the two actor.collider's surfaces are less than or equal to the distance specified from each other\r\n     * @param actor     Actor to test\r\n     * @param distance  Distance in pixels to test\r\n     */\r\n    within(actor, distance) {\r\n        const collider = this.get(ColliderComponent);\r\n        const otherCollider = actor.get(ColliderComponent);\r\n        const me = collider.get();\r\n        const other = otherCollider.get();\r\n        if (me && other) {\r\n            return me.getClosestLineBetween(other).getLength() <= distance;\r\n        }\r\n        return false;\r\n    }\r\n    // #endregion\r\n    // #region Update\r\n    /**\r\n     * Called by the Engine, updates the state of the actor\r\n     * @internal\r\n     * @param engine The reference to the current game engine\r\n     * @param delta  The time elapsed since the last update in milliseconds\r\n     */\r\n    update(engine, delta) {\r\n        this._initialize(engine);\r\n        this._preupdate(engine, delta);\r\n        // Tick animations\r\n        const drawing = this.currentDrawing;\r\n        if (drawing && drawing instanceof Animation_Animation) {\r\n            drawing.tick(delta, engine.stats.currFrame.id);\r\n        }\r\n        // Update actor pipeline (movement, collision detection, event propagation, offscreen culling)\r\n        for (const trait of this.traits) {\r\n            trait.update(this, engine, delta);\r\n        }\r\n        this._postupdate(engine, delta);\r\n    }\r\n    /**\r\n     * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\r\n     *\r\n     * `onPreUpdate` is called directly before an actor is updated.\r\n     */\r\n    onPreUpdate(_engine, _delta) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('postupdate', (evt) =>{...})`\r\n     *\r\n     * `onPostUpdate` is called directly after an actor is updated.\r\n     */\r\n    onPostUpdate(_engine, _delta) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\r\n     * @internal\r\n     */\r\n    _preupdate(engine, delta) {\r\n        this.emit('preupdate', new PreUpdateEvent(engine, delta, this));\r\n        this.onPreUpdate(engine, delta);\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\r\n     * @internal\r\n     */\r\n    _postupdate(engine, delta) {\r\n        this.emit('postupdate', new PreUpdateEvent(engine, delta, this));\r\n        this.onPostUpdate(engine, delta);\r\n    }\r\n    // endregion\r\n    // #region Drawing\r\n    /**\r\n     * Called by the Engine, draws the actor to the screen\r\n     * @param ctx   The rendering context\r\n     * @param delta The time since the last draw in milliseconds\r\n     *\r\n     * **Warning** only works with Flags.useLegacyDrawing() enabled\r\n     * @deprecated Use Actor.graphics, will be removed in v0.26.0\r\n     */\r\n    draw(ctx, delta) {\r\n        var _a;\r\n        // translate canvas by anchor offset\r\n        ctx.save();\r\n        if (this.currentDrawing) {\r\n            ctx.translate(-(this.width * this.anchor.x), -(this.height * this.anchor.y));\r\n            this._predraw(ctx, delta);\r\n            const drawing = this.currentDrawing;\r\n            // See https://github.com/excaliburjs/Excalibur/pull/619 for discussion on this formula\r\n            const offsetX = (this.width - drawing.width * drawing.scale.x) * this.anchor.x;\r\n            const offsetY = (this.height - drawing.height * drawing.scale.y) * this.anchor.y;\r\n            this.currentDrawing.draw({ ctx, x: offsetX, y: offsetY, opacity: this.graphics.opacity });\r\n        }\r\n        else {\r\n            this._predraw(ctx, delta);\r\n            if (this.color && this.collider) {\r\n                // update collider geometry based on transform\r\n                const collider = this.get(ColliderComponent);\r\n                collider.update();\r\n                if (collider && !collider.bounds.hasZeroDimensions()) {\r\n                    // Colliders are already shifted by anchor, unshift\r\n                    ctx.globalAlpha = this.graphics.opacity;\r\n                    (_a = collider.get()) === null || _a === void 0 ? void 0 : _a.draw(ctx, this.color, vec(0, 0));\r\n                }\r\n            }\r\n        }\r\n        ctx.restore();\r\n        this._postdraw(ctx, delta);\r\n    }\r\n    /**\r\n     * Safe to override onPreDraw lifecycle event handler. Synonymous with `.on('predraw', (evt) =>{...})`\r\n     *\r\n     * `onPreDraw` is called directly before an actor is drawn, but after local transforms are made.\r\n     *\r\n     * **Warning** only works with Flags.useLegacyDrawing() enabled\r\n     * @deprecated Use Actor.graphics.onPostDraw, will be removed in v0.26.0\r\n     */\r\n    onPreDraw(_ctx, _delta) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * Safe to override onPostDraw lifecycle event handler. Synonymous with `.on('postdraw', (evt) =>{...})`\r\n     *\r\n     * `onPostDraw` is called directly after an actor is drawn, and before local transforms are removed.\r\n     *\r\n     * **Warning** only works with Flags.useLegacyDrawing() enabled\r\n     * @deprecated Use Actor.graphics.onPostDraw, will be removed in v0.26.0\r\n     */\r\n    onPostDraw(_ctx, _delta) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Internal _predraw handler for [[onPreDraw]] lifecycle event\r\n     *\r\n     * **Warning** only works with Flags.useLegacyDrawing() enabled\r\n     * @deprecated Use Actor.graphics.onPreDraw, will be removed in v0.26.0\r\n     * @internal\r\n     */\r\n    _predraw(ctx, delta) {\r\n        this.emit('predraw', new PreDrawEvent(ctx, delta, this));\r\n        this.onPreDraw(ctx, delta);\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Internal _postdraw handler for [[onPostDraw]] lifecycle event\r\n     *\r\n     * **Warning** only works with Flags.useLegacyDrawing() enabled\r\n     * @deprecated Use Actor.graphics.onPostDraw, will be removed in v0.26.0\r\n     * @internal\r\n     */\r\n    _postdraw(ctx, delta) {\r\n        this.emit('postdraw', new PreDrawEvent(ctx, delta, this));\r\n        this.onPostDraw(ctx, delta);\r\n    }\r\n    /**\r\n     * Called by the Engine, draws the actors debugging to the screen\r\n     * @param ctx The rendering context\r\n     *\r\n     *\r\n     * **Warning** only works with Flags.useLegacyDrawing() enabled\r\n     * @deprecated Use Actor.graphics.onPostDraw, will be removed in v0.26.0\r\n     * @internal\r\n     */\r\n    /* istanbul ignore next */\r\n    debugDraw(_ctx) {\r\n        // pass\r\n    }\r\n}\r\n// #region Properties\r\n/**\r\n * Set defaults for all Actors\r\n */\r\nActor.defaults = {\r\n    anchor: Vector.Half\r\n};\r\nActor_decorate([\r\n    obsolete({ message: 'Actor.visible will be removed in v0.26.0', alternateMethod: 'Use Actor.graphics.visible' })\r\n], Actor.prototype, \"visible\", null);\r\nActor_decorate([\r\n    obsolete({\r\n        message: 'Actor.opacity will be removed in v0.26.0',\r\n        alternateMethod: 'Use Actor.graphics.opacity'\r\n    })\r\n], Actor.prototype, \"opacity\", null);\r\nActor_decorate([\r\n    obsolete({\r\n        message: 'Actor.setDrawing will be removed in v0.26.0',\r\n        alternateMethod: 'Use Actor.graphics.show() or Actor.graphics.use()'\r\n    })\r\n], Actor.prototype, \"setDrawing\", null);\r\nActor_decorate([\r\n    obsolete({\r\n        message: 'Actor.addDrawing will be removed in v0.26.0',\r\n        alternateMethod: 'Use Actor.graphics.add()'\r\n    })\r\n], Actor.prototype, \"addDrawing\", null);\r\nActor_decorate([\r\n    obsolete({\r\n        message: 'Actor.getZIndex will be removed in v0.26.0',\r\n        alternateMethod: 'Use Actor.transform.z or Actor.z'\r\n    })\r\n], Actor.prototype, \"getZIndex\", null);\r\nActor_decorate([\r\n    obsolete({\r\n        message: 'Actor.setZIndex will be removed in v0.26.0',\r\n        alternateMethod: 'Use Actor.transform.z or Actor.z'\r\n    })\r\n], Actor.prototype, \"setZIndex\", null);\r\n\n;// CONCATENATED MODULE: ./ScreenElement.ts\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Helper [[Actor]] primitive for drawing UI's, optimized for UI drawing. Does\r\n * not participate in collisions. Drawn on top of all other actors.\r\n */\r\nclass ScreenElement_ScreenElement extends Actor {\r\n    constructor(config) {\r\n        super(Object.assign({}, config));\r\n        this.get(TransformComponent).coordPlane = CoordPlane.Screen;\r\n        this.traits = [];\r\n        this.traits.push(new CapturePointer());\r\n        this.anchor = vec(0, 0);\r\n        this.body.collisionType = CollisionType.PreventCollision;\r\n        this.collider.useBoxCollider(this.width, this.height, this.anchor);\r\n        this.enableCapturePointer = true;\r\n    }\r\n    _initialize(engine) {\r\n        this._engine = engine;\r\n        super._initialize(engine);\r\n    }\r\n    contains(x, y, useWorld = true) {\r\n        if (useWorld) {\r\n            return super.contains(x, y);\r\n        }\r\n        const coords = this._engine.worldToScreenCoordinates(new Vector(x, y));\r\n        return super.contains(coords.x, coords.y);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Timer.ts\nvar Timer_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n/**\r\n * The Excalibur timer hooks into the internal timer and fires callbacks,\r\n * after a certain interval, optionally repeating.\r\n */\r\nclass Timer {\r\n    constructor(fcn, interval, repeats, numberOfRepeats) {\r\n        this._logger = Logger.getInstance();\r\n        this.id = 0;\r\n        this._elapsedTime = 0;\r\n        this._totalTimeAlive = 0;\r\n        this._running = false;\r\n        this._numberOfTicks = 0;\r\n        this.interval = 10;\r\n        this.repeats = false;\r\n        this.maxNumberOfRepeats = -1;\r\n        this._complete = false;\r\n        this.scene = null;\r\n        if (typeof fcn !== 'function') {\r\n            const options = fcn;\r\n            fcn = options.fcn;\r\n            interval = options.interval;\r\n            repeats = options.repeats;\r\n            numberOfRepeats = options.numberOfRepeats;\r\n        }\r\n        if (!!numberOfRepeats && numberOfRepeats >= 0) {\r\n            this.maxNumberOfRepeats = numberOfRepeats;\r\n            if (!repeats) {\r\n                throw new Error('repeats must be set to true if numberOfRepeats is set');\r\n            }\r\n        }\r\n        this.id = Timer._MAX_ID++;\r\n        this.interval = interval || this.interval;\r\n        this.repeats = repeats || this.repeats;\r\n        this._callbacks = [];\r\n        if (fcn) {\r\n            this.on(fcn);\r\n        }\r\n    }\r\n    get complete() {\r\n        return this._complete;\r\n    }\r\n    /**\r\n     * Adds a new callback to be fired after the interval is complete\r\n     * @param fcn The callback to be added to the callback list, to be fired after the interval is complete.\r\n     */\r\n    on(fcn) {\r\n        this._callbacks.push(fcn);\r\n    }\r\n    /**\r\n     * Removes a callback from the callback list to be fired after the interval is complete.\r\n     * @param fcn The callback to be removed from the callback list, to be fired after the interval is complete.\r\n     */\r\n    off(fcn) {\r\n        const index = this._callbacks.indexOf(fcn);\r\n        this._callbacks.splice(index, 1);\r\n    }\r\n    /**\r\n     * Updates the timer after a certain number of milliseconds have elapsed. This is used internally by the engine.\r\n     * @param delta  Number of elapsed milliseconds since the last update.\r\n     */\r\n    update(delta) {\r\n        if (this._running) {\r\n            this._totalTimeAlive += delta;\r\n            this._elapsedTime += delta;\r\n            if (this.maxNumberOfRepeats > -1 && this._numberOfTicks >= this.maxNumberOfRepeats) {\r\n                this._complete = true;\r\n                this._running = false;\r\n                this._elapsedTime = 0;\r\n            }\r\n            if (!this.complete && this._elapsedTime >= this.interval) {\r\n                this._callbacks.forEach((c) => {\r\n                    c.call(this);\r\n                });\r\n                this._numberOfTicks++;\r\n                if (this.repeats) {\r\n                    this._elapsedTime = 0;\r\n                }\r\n                else {\r\n                    this._complete = true;\r\n                    this._running = false;\r\n                    this._elapsedTime = 0;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Resets the timer so that it can be reused, and optionally reconfigure the timers interval.\r\n     *\r\n     * Warning** you may need to call `timer.start()` again if the timer had completed\r\n     * @param newInterval If specified, sets a new non-negative interval in milliseconds to refire the callback\r\n     * @param newNumberOfRepeats If specified, sets a new non-negative upper limit to the number of time this timer executes\r\n     */\r\n    reset(newInterval, newNumberOfRepeats) {\r\n        if (!!newInterval && newInterval >= 0) {\r\n            this.interval = newInterval;\r\n        }\r\n        if (!!this.maxNumberOfRepeats && this.maxNumberOfRepeats >= 0) {\r\n            this.maxNumberOfRepeats = newNumberOfRepeats;\r\n            if (!this.repeats) {\r\n                throw new Error('repeats must be set to true if numberOfRepeats is set');\r\n            }\r\n        }\r\n        this._complete = false;\r\n        this._elapsedTime = 0;\r\n        this._numberOfTicks = 0;\r\n    }\r\n    get timesRepeated() {\r\n        return this._numberOfTicks;\r\n    }\r\n    getTimeRunning() {\r\n        return this._totalTimeAlive;\r\n    }\r\n    /**\r\n     * @returns milliseconds until the next action callback, if complete will return 0\r\n     */\r\n    get timeToNextAction() {\r\n        if (this.complete) {\r\n            return 0;\r\n        }\r\n        return this.interval - this._elapsedTime;\r\n    }\r\n    /**\r\n     * @returns milliseconds elapsed toward the next action\r\n     */\r\n    get timeElapsedTowardNextAction() {\r\n        return this._elapsedTime;\r\n    }\r\n    get isRunning() {\r\n        return this._running;\r\n    }\r\n    /**\r\n     * Pauses the timer, time will no longer increment towards the next call\r\n     */\r\n    pause() {\r\n        this._running = false;\r\n        return this;\r\n    }\r\n    /**\r\n     * Unpauses the timer. Time will now increment towards the next call\r\n     * @deprecated Will be removed in v0.26.0\r\n     */\r\n    unpause() {\r\n        this._running = true;\r\n    }\r\n    /**\r\n     * Resumes the timer, time will now increment towards the next call.\r\n     */\r\n    resume() {\r\n        this._running = true;\r\n        return this;\r\n    }\r\n    /**\r\n     * Starts the timer, if the timer was complete it will restart the timer and reset the elapsed time counter\r\n     */\r\n    start() {\r\n        if (!this.scene) {\r\n            this._logger.warn('Cannot start a timer not part of a scene, timer wont start until added');\r\n        }\r\n        this._running = true;\r\n        if (this.complete) {\r\n            this._complete = false;\r\n            this._elapsedTime = 0;\r\n            this._numberOfTicks = 0;\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Stops the timer and resets the elapsed time counter towards the next action invocation\r\n     */\r\n    stop() {\r\n        this._running = false;\r\n        this._elapsedTime = 0;\r\n        this._numberOfTicks = 0;\r\n        return this;\r\n    }\r\n    /**\r\n     * Cancels the timer, preventing any further executions.\r\n     */\r\n    cancel() {\r\n        this.pause();\r\n        if (this.scene) {\r\n            this.scene.cancelTimer(this);\r\n        }\r\n    }\r\n}\r\nTimer._MAX_ID = 0;\r\nTimer_decorate([\r\n    obsolete({ message: 'Will be removed in v0.26.0', alternateMethod: 'Use Timer.resume()' })\r\n], Timer.prototype, \"unpause\", null);\r\n\n;// CONCATENATED MODULE: ./TileMap.ts\nvar TileMap_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @hidden\r\n */\r\nclass TileMapImpl extends Entity {\r\n    /**\r\n     * @param xOrConfig     The x coordinate to anchor the TileMap's upper left corner (should not be changed once set) or TileMap option bag\r\n     * @param y             The y coordinate to anchor the TileMap's upper left corner (should not be changed once set)\r\n     * @param cellWidth     The individual width of each cell (in pixels) (should not be changed once set)\r\n     * @param cellHeight    The individual height of each cell (in pixels) (should not be changed once set)\r\n     * @param rows          The number of rows in the TileMap (should not be changed once set)\r\n     * @param cols          The number of cols in the TileMap (should not be changed once set)\r\n     */\r\n    constructor(xOrConfig, y, cellWidth, cellHeight, rows, cols) {\r\n        super();\r\n        this._token = 0;\r\n        this._onScreenXStart = 0;\r\n        this._onScreenXEnd = 9999;\r\n        this._onScreenYStart = 0;\r\n        this._onScreenYEnd = 9999;\r\n        this._spriteSheets = {};\r\n        this._legacySpriteMap = new Map();\r\n        this.logger = Logger.getInstance();\r\n        this.data = [];\r\n        this._rows = [];\r\n        this._cols = [];\r\n        this.visible = true;\r\n        this.isOffscreen = false;\r\n        this._dirty = true;\r\n        if (xOrConfig && typeof xOrConfig === 'object') {\r\n            const config = xOrConfig;\r\n            xOrConfig = config.x;\r\n            y = config.y;\r\n            cellWidth = config.cellWidth;\r\n            cellHeight = config.cellHeight;\r\n            rows = config.rows;\r\n            cols = config.cols;\r\n        }\r\n        this.addComponent(new TransformComponent());\r\n        this.addComponent(new MotionComponent());\r\n        this.addComponent(new BodyComponent({\r\n            type: CollisionType.Fixed\r\n        }));\r\n        this.addComponent(new CanvasDrawComponent((ctx, delta) => this.draw(ctx, delta)));\r\n        this.addComponent(new GraphicsComponent({\r\n            onPostDraw: (ctx, delta) => this.draw(ctx, delta)\r\n        }));\r\n        this.addComponent(new ColliderComponent());\r\n        this._transform = this.get(TransformComponent);\r\n        this._motion = this.get(MotionComponent);\r\n        this._collider = this.get(ColliderComponent);\r\n        this._composite = this._collider.useCompositeCollider([]);\r\n        this.x = xOrConfig;\r\n        this.y = y;\r\n        this.cellWidth = cellWidth;\r\n        this.cellHeight = cellHeight;\r\n        this.rows = rows;\r\n        this.cols = cols;\r\n        this.data = new Array(rows * cols);\r\n        this._rows = new Array(rows);\r\n        this._cols = new Array(cols);\r\n        let currentCol = [];\r\n        for (let i = 0; i < cols; i++) {\r\n            for (let j = 0; j < rows; j++) {\r\n                const cd = new Cell(i * cellWidth + xOrConfig, j * cellHeight + y, cellWidth, cellHeight, i + j * cols);\r\n                cd.map = this;\r\n                this.data[i + j * cols] = cd;\r\n                currentCol.push(cd);\r\n                if (!this._rows[j]) {\r\n                    this._rows[j] = [];\r\n                }\r\n                this._rows[j].push(cd);\r\n            }\r\n            this._cols[i] = currentCol;\r\n            currentCol = [];\r\n        }\r\n        this.get(GraphicsComponent).localBounds = new BoundingBox({\r\n            left: 0,\r\n            top: 0,\r\n            right: this.cols * this.cellWidth,\r\n            bottom: this.rows * this.cellHeight\r\n        });\r\n    }\r\n    flagDirty() {\r\n        this._dirty = true;\r\n    }\r\n    get x() {\r\n        var _a;\r\n        return (_a = this._transform.pos.x) !== null && _a !== void 0 ? _a : 0;\r\n    }\r\n    set x(val) {\r\n        var _a;\r\n        if ((_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) {\r\n            this.get(TransformComponent).pos = vec(val, this.y);\r\n        }\r\n    }\r\n    get y() {\r\n        var _a, _b;\r\n        return (_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos.y) !== null && _b !== void 0 ? _b : 0;\r\n    }\r\n    set y(val) {\r\n        var _a;\r\n        if ((_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) {\r\n            this._transform.pos = vec(this.x, val);\r\n        }\r\n    }\r\n    get z() {\r\n        var _a;\r\n        return (_a = this._transform.z) !== null && _a !== void 0 ? _a : 0;\r\n    }\r\n    set z(val) {\r\n        if (this._transform) {\r\n            this._transform.z = val;\r\n        }\r\n    }\r\n    get rotation() {\r\n        var _a, _b;\r\n        return (_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.rotation) !== null && _b !== void 0 ? _b : 0;\r\n    }\r\n    set rotation(val) {\r\n        var _a;\r\n        if ((_a = this._transform) === null || _a === void 0 ? void 0 : _a.rotation) {\r\n            this._transform.rotation = val;\r\n        }\r\n    }\r\n    get scale() {\r\n        var _a, _b;\r\n        return (_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.scale) !== null && _b !== void 0 ? _b : Vector.One;\r\n    }\r\n    set scale(val) {\r\n        var _a;\r\n        if ((_a = this._transform) === null || _a === void 0 ? void 0 : _a.scale) {\r\n            this._transform.scale = val;\r\n        }\r\n    }\r\n    get pos() {\r\n        return this._transform.pos;\r\n    }\r\n    set pos(val) {\r\n        this._transform.pos = val;\r\n    }\r\n    get vel() {\r\n        return this._motion.vel;\r\n    }\r\n    set vel(val) {\r\n        this._motion.vel = val;\r\n    }\r\n    on(eventName, handler) {\r\n        super.on(eventName, handler);\r\n    }\r\n    _initialize(engine) {\r\n        super._initialize(engine);\r\n    }\r\n    registerSpriteSheet(key, spriteSheet) {\r\n        if (spriteSheet instanceof SpriteSheet) {\r\n            this._spriteSheets[key] = spriteSheet;\r\n        }\r\n        else {\r\n            this._spriteSheets[key] = SpriteSheet.fromLegacySpriteSheet(spriteSheet);\r\n        }\r\n    }\r\n    /**\r\n     * Tiles colliders based on the solid tiles in the tilemap.\r\n     */\r\n    _updateColliders() {\r\n        this._composite.clearColliders();\r\n        const colliders = [];\r\n        let current;\r\n        // Bad square tessalation algo\r\n        for (let i = 0; i < this.cols; i++) {\r\n            // Scan column for colliders\r\n            for (let j = 0; j < this.rows; j++) {\r\n                // Columns start with a new collider\r\n                if (j === 0) {\r\n                    current = null;\r\n                }\r\n                const tile = this.data[i + j * this.cols];\r\n                // Current tile in column is solid build up current collider\r\n                if (tile.solid) {\r\n                    if (!current) {\r\n                        current = tile.bounds;\r\n                    }\r\n                    else {\r\n                        current = current.combine(tile.bounds);\r\n                    }\r\n                }\r\n                else {\r\n                    // Not solid skip and cut off the current collider\r\n                    if (current) {\r\n                        colliders.push(current);\r\n                    }\r\n                    current = null;\r\n                }\r\n            }\r\n            // After a column is complete check to see if it can be merged into the last one\r\n            if (current) {\r\n                // if previous is the same combine it\r\n                const prev = colliders[colliders.length - 1];\r\n                if (prev && prev.top === current.top && prev.bottom === current.bottom) {\r\n                    colliders[colliders.length - 1] = prev.combine(current);\r\n                }\r\n                else {\r\n                    // else new collider\r\n                    colliders.push(current);\r\n                }\r\n            }\r\n        }\r\n        this._composite = this._collider.useCompositeCollider([]);\r\n        for (const c of colliders) {\r\n            const collider = Shape.Box(c.width, c.height, Vector.Zero, vec(c.left - this.pos.x, c.top - this.pos.y));\r\n            collider.owner = this;\r\n            this._composite.addCollider(collider);\r\n        }\r\n        this._collider.update();\r\n    }\r\n    /**\r\n     * Returns the [[Cell]] by index (row major order)\r\n     */\r\n    getCellByIndex(index) {\r\n        return this.data[index];\r\n    }\r\n    /**\r\n     * Returns the [[Cell]] by its x and y coordinates\r\n     */\r\n    getCell(x, y) {\r\n        if (x < 0 || y < 0 || x >= this.cols || y >= this.rows) {\r\n            return null;\r\n        }\r\n        return this.data[x + y * this.cols];\r\n    }\r\n    /**\r\n     * Returns the [[Cell]] by testing a point in global coordinates,\r\n     * returns `null` if no cell was found.\r\n     */\r\n    getCellByPoint(x, y) {\r\n        x = Math.floor((x - this.pos.x) / this.cellWidth);\r\n        y = Math.floor((y - this.pos.y) / this.cellHeight);\r\n        const cell = this.getCell(x, y);\r\n        if (x >= 0 && y >= 0 && x < this.cols && y < this.rows && cell) {\r\n            return cell;\r\n        }\r\n        return null;\r\n    }\r\n    getRows() {\r\n        return this._rows;\r\n    }\r\n    getColumns() {\r\n        return this._cols;\r\n    }\r\n    onPreUpdate(_engine, _delta) {\r\n        // Override me\r\n    }\r\n    onPostUpdate(_engine, _delta) {\r\n        // Override me\r\n    }\r\n    update(engine, delta) {\r\n        this.onPreUpdate(engine, delta);\r\n        this.emit('preupdate', new PreUpdateEvent(engine, delta, this));\r\n        if (this._dirty) {\r\n            this._dirty = false;\r\n            this._updateColliders();\r\n        }\r\n        this._token++;\r\n        const worldBounds = engine.getWorldBounds();\r\n        const worldCoordsUpperLeft = vec(worldBounds.left, worldBounds.top);\r\n        const worldCoordsLowerRight = vec(worldBounds.right, worldBounds.bottom);\r\n        this._onScreenXStart = Math.max(Math.floor((worldCoordsUpperLeft.x - this.x) / this.cellWidth) - 2, 0);\r\n        this._onScreenYStart = Math.max(Math.floor((worldCoordsUpperLeft.y - this.y) / this.cellHeight) - 2, 0);\r\n        this._onScreenXEnd = Math.max(Math.floor((worldCoordsLowerRight.x - this.x) / this.cellWidth) + 2, 0);\r\n        this._onScreenYEnd = Math.max(Math.floor((worldCoordsLowerRight.y - this.y) / this.cellHeight) + 2, 0);\r\n        this._transform.pos = vec(this.x, this.y);\r\n        this.onPostUpdate(engine, delta);\r\n        this.emit('postupdate', new PostUpdateEvent(engine, delta, this));\r\n    }\r\n    /**\r\n     * Draws the tile map to the screen. Called by the [[Scene]].\r\n     * @param ctx CanvasRenderingContext2D or ExcaliburGraphicsContext\r\n     * @param delta  The number of milliseconds since the last draw\r\n     */\r\n    draw(ctx, delta) {\r\n        this.emit('predraw', new PreDrawEvent(ctx, delta, this)); // TODO fix event\r\n        let x = this._onScreenXStart;\r\n        const xEnd = Math.min(this._onScreenXEnd, this.cols);\r\n        let y = this._onScreenYStart;\r\n        const yEnd = Math.min(this._onScreenYEnd, this.rows);\r\n        let graphics, graphicsIndex, graphicsLen;\r\n        for (x; x < xEnd; x++) {\r\n            for (y; y < yEnd; y++) {\r\n                // get non-negative tile sprites\r\n                graphics = this.getCell(x, y).graphics;\r\n                for (graphicsIndex = 0, graphicsLen = graphics.length; graphicsIndex < graphicsLen; graphicsIndex++) {\r\n                    // draw sprite, warning if sprite doesn't exist\r\n                    const graphic = graphics[graphicsIndex];\r\n                    if (graphic) {\r\n                        if (!(ctx instanceof CanvasRenderingContext2D)) {\r\n                            if (hasGraphicsTick(graphic)) {\r\n                                graphic === null || graphic === void 0 ? void 0 : graphic.tick(delta, this._token);\r\n                            }\r\n                            graphic.draw(ctx, x * this.cellWidth, y * this.cellHeight);\r\n                        }\r\n                        else if (graphic instanceof Sprite) {\r\n                            // TODO legacy drawing mode\r\n                            if (!this._legacySpriteMap.has(graphic)) {\r\n                                this._legacySpriteMap.set(graphic, Sprite.toLegacySprite(graphic));\r\n                            }\r\n                            this._legacySpriteMap.get(graphic).draw(ctx, x * this.cellWidth, y * this.cellHeight);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            y = this._onScreenYStart;\r\n        }\r\n        this.emit('postdraw', new PostDrawEvent(ctx, delta, this));\r\n    }\r\n}\r\nTileMap_decorate([\r\n    obsolete({ message: 'No longer used, will be removed in v0.26.0' })\r\n], TileMapImpl.prototype, \"registerSpriteSheet\", null);\r\n/**\r\n * The [[TileMap]] class provides a lightweight way to do large complex scenes with collision\r\n * without the overhead of actors.\r\n */\r\nclass TileMap extends Configurable(TileMapImpl) {\r\n    constructor(xOrConfig, y, cellWidth, cellHeight, rows, cols) {\r\n        super(xOrConfig, y, cellWidth, cellHeight, rows, cols);\r\n    }\r\n}\r\n/**\r\n * @hidden\r\n */\r\nclass CellImpl extends Entity {\r\n    /**\r\n     * @param xOrConfig Gets or sets x coordinate of the cell in world coordinates or cell option bag\r\n     * @param y       Gets or sets y coordinate of the cell in world coordinates\r\n     * @param width   Gets or sets the width of the cell\r\n     * @param height  Gets or sets the height of the cell\r\n     * @param index   The index of the cell in row major order\r\n     * @param solid   Gets or sets whether this cell is solid\r\n     * @param graphics The list of tile graphics to use to draw in this cell (in order)\r\n     */\r\n    constructor(xOrConfig, y, width, height, index, solid = false, graphics = []) {\r\n        super();\r\n        this._solid = false;\r\n        /**\r\n         * Current list of graphics for this cell\r\n         */\r\n        this.graphics = [];\r\n        /**\r\n         * Abitrary data storage per cell, useful for any game specific data\r\n         */\r\n        this.data = new Map();\r\n        if (xOrConfig && typeof xOrConfig === 'object') {\r\n            const config = xOrConfig;\r\n            xOrConfig = config.x;\r\n            y = config.y;\r\n            width = config.width;\r\n            height = config.height;\r\n            index = config.index;\r\n            solid = config.solid;\r\n            graphics = config.sprites;\r\n        }\r\n        this.x = xOrConfig;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.index = index;\r\n        this.solid = solid;\r\n        this.graphics = graphics;\r\n        this._bounds = new BoundingBox(this.x, this.y, this.x + this.width, this.y + this.height);\r\n    }\r\n    /**\r\n     * Wether this cell should be treated as solid by the tilemap\r\n     */\r\n    get solid() {\r\n        return this._solid;\r\n    }\r\n    /**\r\n     * Wether this cell should be treated as solid by the tilemap\r\n     */\r\n    set solid(val) {\r\n        var _a;\r\n        (_a = this.map) === null || _a === void 0 ? void 0 : _a.flagDirty();\r\n        this._solid = val;\r\n    }\r\n    get bounds() {\r\n        return this._bounds;\r\n    }\r\n    get center() {\r\n        return new Vector(this.x + this.width / 2, this.y + this.height / 2);\r\n    }\r\n    /**\r\n     * Add another [[Sprite]] to this cell\r\n     * @deprecated Use addSprite, will be removed in v0.26.0\r\n     */\r\n    pushSprite(sprite) {\r\n        this.addGraphic(sprite);\r\n    }\r\n    /**\r\n     * Add another [[Graphic]] to this TileMap cell\r\n     * @param graphic\r\n     */\r\n    addGraphic(graphic) {\r\n        if (graphic instanceof Sprite_Sprite) {\r\n            this.graphics.push(Sprite.fromLegacySprite(graphic));\r\n        }\r\n        else {\r\n            this.graphics.push(graphic);\r\n        }\r\n    }\r\n    /**\r\n     * Remove an instance of a [[Graphic]] from this cell\r\n     */\r\n    removeGraphic(graphic) {\r\n        removeItemFromArray(graphic, this.graphics);\r\n    }\r\n    /**\r\n     * Clear all graphis from this cell\r\n     */\r\n    clearGraphics() {\r\n        this.graphics.length = 0;\r\n    }\r\n}\r\nTileMap_decorate([\r\n    obsolete({ message: 'Will be removed in v0.26.0', alternateMethod: 'addSprite' })\r\n], CellImpl.prototype, \"pushSprite\", null);\r\n/**\r\n * TileMap Cell\r\n *\r\n * A light-weight object that occupies a space in a collision map. Generally\r\n * created by a [[TileMap]].\r\n *\r\n * Cells can draw multiple sprites. Note that the order of drawing is the order\r\n * of the sprites in the array so the last one will be drawn on top. You can\r\n * use transparency to create layers this way.\r\n */\r\nclass Cell extends Configurable(CellImpl) {\r\n    constructor(xOrConfig, y, width, height, index, solid, sprites) {\r\n        super(xOrConfig, y, width, height, index, solid, sprites);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Camera.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Container to house convenience strategy methods\r\n * @internal\r\n */\r\nclass StrategyContainer {\r\n    constructor(camera) {\r\n        this.camera = camera;\r\n    }\r\n    /**\r\n     * Creates and adds the [[LockCameraToActorStrategy]] on the current camera.\r\n     * @param actor The actor to lock the camera to\r\n     */\r\n    lockToActor(actor) {\r\n        this.camera.addStrategy(new LockCameraToActorStrategy(actor));\r\n    }\r\n    /**\r\n     * Creates and adds the [[LockCameraToActorAxisStrategy]] on the current camera\r\n     * @param actor The actor to lock the camera to\r\n     * @param axis The axis to follow the actor on\r\n     */\r\n    lockToActorAxis(actor, axis) {\r\n        this.camera.addStrategy(new LockCameraToActorAxisStrategy(actor, axis));\r\n    }\r\n    /**\r\n     * Creates and adds the [[ElasticToActorStrategy]] on the current camera\r\n     * If cameraElasticity < cameraFriction < 1.0, the behavior will be a dampened spring that will slowly end at the target without bouncing\r\n     * If cameraFriction < cameraElasticity < 1.0, the behavior will be an oscillating spring that will over\r\n     * correct and bounce around the target\r\n     *\r\n     * @param actor Target actor to elastically follow\r\n     * @param cameraElasticity [0 - 1.0] The higher the elasticity the more force that will drive the camera towards the target\r\n     * @param cameraFriction [0 - 1.0] The higher the friction the more that the camera will resist motion towards the target\r\n     */\r\n    elasticToActor(actor, cameraElasticity, cameraFriction) {\r\n        this.camera.addStrategy(new ElasticToActorStrategy(actor, cameraElasticity, cameraFriction));\r\n    }\r\n    /**\r\n     * Creates and adds the [[RadiusAroundActorStrategy]] on the current camera\r\n     * @param actor Target actor to follow when it is \"radius\" pixels away\r\n     * @param radius Number of pixels away before the camera will follow\r\n     */\r\n    radiusAroundActor(actor, radius) {\r\n        this.camera.addStrategy(new RadiusAroundActorStrategy(actor, radius));\r\n    }\r\n    /**\r\n     * Creates and adds the [[LimitCameraBoundsStrategy]] on the current camera\r\n     * @param box The bounding box to limit the camera to.\r\n     */\r\n    limitCameraBounds(box) {\r\n        this.camera.addStrategy(new LimitCameraBoundsStrategy(box));\r\n    }\r\n}\r\n/**\r\n * Camera axis enum\r\n */\r\nvar Axis;\r\n(function (Axis) {\r\n    Axis[Axis[\"X\"] = 0] = \"X\";\r\n    Axis[Axis[\"Y\"] = 1] = \"Y\";\r\n})(Axis || (Axis = {}));\r\n/**\r\n * Lock a camera to the exact x/y position of an actor.\r\n */\r\nclass LockCameraToActorStrategy {\r\n    constructor(target) {\r\n        this.target = target;\r\n        this.action = (target, _cam, _eng, _delta) => {\r\n            const center = target.center;\r\n            return center;\r\n        };\r\n    }\r\n}\r\n/**\r\n * Lock a camera to a specific axis around an actor.\r\n */\r\nclass LockCameraToActorAxisStrategy {\r\n    constructor(target, axis) {\r\n        this.target = target;\r\n        this.axis = axis;\r\n        this.action = (target, cam, _eng, _delta) => {\r\n            const center = target.center;\r\n            const currentFocus = cam.getFocus();\r\n            if (this.axis === Axis.X) {\r\n                return new Vector(center.x, currentFocus.y);\r\n            }\r\n            else {\r\n                return new Vector(currentFocus.x, center.y);\r\n            }\r\n        };\r\n    }\r\n}\r\n/**\r\n * Using [Hook's law](https://en.wikipedia.org/wiki/Hooke's_law), elastically move the camera towards the target actor.\r\n */\r\nclass ElasticToActorStrategy {\r\n    /**\r\n     * If cameraElasticity < cameraFriction < 1.0, the behavior will be a dampened spring that will slowly end at the target without bouncing\r\n     * If cameraFriction < cameraElasticity < 1.0, the behavior will be an oscillating spring that will over\r\n     * correct and bounce around the target\r\n     *\r\n     * @param target Target actor to elastically follow\r\n     * @param cameraElasticity [0 - 1.0] The higher the elasticity the more force that will drive the camera towards the target\r\n     * @param cameraFriction [0 - 1.0] The higher the friction the more that the camera will resist motion towards the target\r\n     */\r\n    constructor(target, cameraElasticity, cameraFriction) {\r\n        this.target = target;\r\n        this.cameraElasticity = cameraElasticity;\r\n        this.cameraFriction = cameraFriction;\r\n        this.action = (target, cam, _eng, _delta) => {\r\n            const position = target.center;\r\n            let focus = cam.getFocus();\r\n            let cameraVel = cam.vel.clone();\r\n            // Calculate the stretch vector, using the spring equation\r\n            // F = kX\r\n            // https://en.wikipedia.org/wiki/Hooke's_law\r\n            // Apply to the current camera velocity\r\n            const stretch = position.sub(focus).scale(this.cameraElasticity); // stretch is X\r\n            cameraVel = cameraVel.add(stretch);\r\n            // Calculate the friction (-1 to apply a force in the opposition of motion)\r\n            // Apply to the current camera velocity\r\n            const friction = cameraVel.scale(-1).scale(this.cameraFriction);\r\n            cameraVel = cameraVel.add(friction);\r\n            // Update position by velocity deltas\r\n            focus = focus.add(cameraVel);\r\n            return focus;\r\n        };\r\n    }\r\n}\r\nclass RadiusAroundActorStrategy {\r\n    /**\r\n     *\r\n     * @param target Target actor to follow when it is \"radius\" pixels away\r\n     * @param radius Number of pixels away before the camera will follow\r\n     */\r\n    constructor(target, radius) {\r\n        this.target = target;\r\n        this.radius = radius;\r\n        this.action = (target, cam, _eng, _delta) => {\r\n            const position = target.center;\r\n            const focus = cam.getFocus();\r\n            const direction = position.sub(focus);\r\n            const distance = direction.size;\r\n            if (distance >= this.radius) {\r\n                const offset = distance - this.radius;\r\n                return focus.add(direction.normalize().scale(offset));\r\n            }\r\n            return focus;\r\n        };\r\n    }\r\n}\r\n/**\r\n * Prevent a camera from going beyond the given camera dimensions.\r\n */\r\nclass LimitCameraBoundsStrategy {\r\n    constructor(target) {\r\n        this.target = target;\r\n        /**\r\n         * Useful for limiting the camera to a [[TileMap]]'s dimensions, or a specific area inside the map.\r\n         *\r\n         * Note that this strategy does not perform any movement by itself.\r\n         * It only sets the camera position to within the given bounds when the camera has gone beyond them.\r\n         * Thus, it is a good idea to combine it with other camera strategies and set this strategy as the last one.\r\n         *\r\n         * Make sure that the camera bounds are at least as large as the viewport size.\r\n         *\r\n         * @param target The bounding box to limit the camera to\r\n         */\r\n        this.boundSizeChecked = false; // Check and warn only once\r\n        this.action = (target, cam, _eng, _delta) => {\r\n            const focus = cam.getFocus();\r\n            if (!this.boundSizeChecked) {\r\n                if (target.bottom - target.top < _eng.drawHeight || target.right - target.left < _eng.drawWidth) {\r\n                    Logger.getInstance().warn('Camera bounds should not be smaller than the engine viewport');\r\n                }\r\n                this.boundSizeChecked = true;\r\n            }\r\n            let focusX = focus.x;\r\n            let focusY = focus.y;\r\n            if (focus.x < target.left + _eng.halfDrawWidth) {\r\n                focusX = target.left + _eng.halfDrawWidth;\r\n            }\r\n            else if (focus.x > target.right - _eng.halfDrawWidth) {\r\n                focusX = target.right - _eng.halfDrawWidth;\r\n            }\r\n            if (focus.y < target.top + _eng.halfDrawHeight) {\r\n                focusY = target.top + _eng.halfDrawHeight;\r\n            }\r\n            else if (focus.y > target.bottom - _eng.halfDrawHeight) {\r\n                focusY = target.bottom - _eng.halfDrawHeight;\r\n            }\r\n            return vec(focusX, focusY);\r\n        };\r\n    }\r\n}\r\n/**\r\n * Cameras\r\n *\r\n * [[Camera]] is the base class for all Excalibur cameras. Cameras are used\r\n * to move around your game and set focus. They are used to determine\r\n * what is \"off screen\" and can be used to scale the game.\r\n *\r\n */\r\nclass Camera extends Class {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._cameraStrategies = [];\r\n        this.strategy = new StrategyContainer(this);\r\n        /**\r\n         * Get or set current zoom of the camera, defaults to 1\r\n         */\r\n        this._z = 1;\r\n        /**\r\n         * Get or set rate of change in zoom, defaults to 0\r\n         */\r\n        this.dz = 0;\r\n        /**\r\n         * Get or set zoom acceleration\r\n         */\r\n        this.az = 0;\r\n        /**\r\n         * Current rotation of the camera\r\n         */\r\n        this.rotation = 0;\r\n        /**\r\n         * Current angular velocity\r\n         */\r\n        this.rx = 0;\r\n        /**\r\n         * Get or set the camera's position\r\n         */\r\n        this._posChanged = false;\r\n        this._pos = watchAny(Vector.Zero, () => (this._posChanged = true));\r\n        /**\r\n         * Get or set the camera's velocity\r\n         */\r\n        this.vel = Vector.Zero;\r\n        /**\r\n         * GEt or set the camera's acceleration\r\n         */\r\n        this.acc = Vector.Zero;\r\n        this._cameraMoving = false;\r\n        this._currentLerpTime = 0;\r\n        this._lerpDuration = 1000; // 1 second\r\n        this._lerpStart = null;\r\n        this._lerpEnd = null;\r\n        //camera effects\r\n        this._isShaking = false;\r\n        this._shakeMagnitudeX = 0;\r\n        this._shakeMagnitudeY = 0;\r\n        this._shakeDuration = 0;\r\n        this._elapsedShakeTime = 0;\r\n        this._xShake = 0;\r\n        this._yShake = 0;\r\n        this._isZooming = false;\r\n        this._zoomStart = 1;\r\n        this._zoomEnd = 1;\r\n        this._currentZoomTime = 0;\r\n        this._zoomDuration = 0;\r\n        this._zoomEasing = EasingFunctions.EaseInOutCubic;\r\n        this._easing = EasingFunctions.EaseInOutCubic;\r\n        this._halfWidth = 0;\r\n        this._halfHeight = 0;\r\n        this._viewport = null;\r\n        this._isInitialized = false;\r\n    }\r\n    get zoom() {\r\n        return this._z;\r\n    }\r\n    set zoom(val) {\r\n        this._z = val;\r\n        if (this._engine) {\r\n            this._halfWidth = this._engine.halfDrawWidth;\r\n            this._halfHeight = this._engine.halfDrawHeight;\r\n        }\r\n    }\r\n    /**\r\n     * Get or set the camera's angular velocity\r\n     */\r\n    get angularVelocity() {\r\n        return this.rx;\r\n    }\r\n    set angularVelocity(value) {\r\n        this.rx = value;\r\n    }\r\n    get pos() {\r\n        return this._pos;\r\n    }\r\n    set pos(vec) {\r\n        this._pos = watchAny(vec, () => (this._posChanged = true));\r\n        this._posChanged = true;\r\n    }\r\n    /**\r\n     * Get the camera's x position\r\n     */\r\n    get x() {\r\n        return this.pos.x;\r\n    }\r\n    /**\r\n     * Set the camera's x position (cannot be set when following an [[Actor]] or when moving)\r\n     */\r\n    set x(value) {\r\n        if (!this._follow && !this._cameraMoving) {\r\n            this.pos = vec(value, this.pos.y);\r\n        }\r\n    }\r\n    /**\r\n     * Get the camera's y position\r\n     */\r\n    get y() {\r\n        return this.pos.y;\r\n    }\r\n    /**\r\n     * Set the camera's y position (cannot be set when following an [[Actor]] or when moving)\r\n     */\r\n    set y(value) {\r\n        if (!this._follow && !this._cameraMoving) {\r\n            this.pos = vec(this.pos.x, value);\r\n        }\r\n    }\r\n    /**\r\n     * Get or set the camera's x velocity\r\n     */\r\n    get dx() {\r\n        return this.vel.x;\r\n    }\r\n    set dx(value) {\r\n        this.vel = vec(value, this.vel.y);\r\n    }\r\n    /**\r\n     * Get or set the camera's y velocity\r\n     */\r\n    get dy() {\r\n        return this.vel.y;\r\n    }\r\n    set dy(value) {\r\n        this.vel = vec(this.vel.x, value);\r\n    }\r\n    /**\r\n     * Get or set the camera's x acceleration\r\n     */\r\n    get ax() {\r\n        return this.acc.x;\r\n    }\r\n    set ax(value) {\r\n        this.acc = vec(value, this.acc.y);\r\n    }\r\n    /**\r\n     * Get or set the camera's y acceleration\r\n     */\r\n    get ay() {\r\n        return this.acc.y;\r\n    }\r\n    set ay(value) {\r\n        this.acc = vec(this.acc.x, value);\r\n    }\r\n    /**\r\n     * Returns the focal point of the camera, a new point giving the x and y position of the camera\r\n     */\r\n    getFocus() {\r\n        return this.pos;\r\n    }\r\n    /**\r\n     * This moves the camera focal point to the specified position using specified easing function. Cannot move when following an Actor.\r\n     *\r\n     * @param pos The target position to move to\r\n     * @param duration The duration in milliseconds the move should last\r\n     * @param [easingFn] An optional easing function ([[ex.EasingFunctions.EaseInOutCubic]] by default)\r\n     * @returns A [[Promise]] that resolves when movement is finished, including if it's interrupted.\r\n     *          The [[Promise]] value is the [[Vector]] of the target position. It will be rejected if a move cannot be made.\r\n     */\r\n    move(pos, duration, easingFn = EasingFunctions.EaseInOutCubic) {\r\n        if (typeof easingFn !== 'function') {\r\n            throw 'Please specify an EasingFunction';\r\n        }\r\n        // cannot move when following an actor\r\n        if (this._follow) {\r\n            return Promise.reject(pos);\r\n        }\r\n        // resolve existing promise, if any\r\n        if (this._lerpPromise && this._lerpResolve) {\r\n            this._lerpResolve(pos);\r\n        }\r\n        this._lerpPromise = new Promise((resolve) => {\r\n            this._lerpResolve = resolve;\r\n        });\r\n        this._lerpStart = this.getFocus().clone();\r\n        this._lerpDuration = duration;\r\n        this._lerpEnd = pos;\r\n        this._currentLerpTime = 0;\r\n        this._cameraMoving = true;\r\n        this._easing = easingFn;\r\n        return this._lerpPromise;\r\n    }\r\n    /**\r\n     * Sets the camera to shake at the specified magnitudes for the specified duration\r\n     * @param magnitudeX  The x magnitude of the shake\r\n     * @param magnitudeY  The y magnitude of the shake\r\n     * @param duration    The duration of the shake in milliseconds\r\n     */\r\n    shake(magnitudeX, magnitudeY, duration) {\r\n        this._isShaking = true;\r\n        this._shakeMagnitudeX = magnitudeX;\r\n        this._shakeMagnitudeY = magnitudeY;\r\n        this._shakeDuration = duration;\r\n    }\r\n    /**\r\n     * Zooms the camera in or out by the specified scale over the specified duration.\r\n     * If no duration is specified, it take effect immediately.\r\n     * @param scale    The scale of the zoom\r\n     * @param duration The duration of the zoom in milliseconds\r\n     */\r\n    zoomOverTime(scale, duration = 0, easingFn = EasingFunctions.EaseInOutCubic) {\r\n        this._zoomPromise = new Promise((resolve) => {\r\n            this._zoomResolve = resolve;\r\n        });\r\n        if (duration) {\r\n            this._isZooming = true;\r\n            this._zoomEasing = easingFn;\r\n            this._currentZoomTime = 0;\r\n            this._zoomDuration = duration;\r\n            this._zoomStart = this.zoom;\r\n            this._zoomEnd = scale;\r\n        }\r\n        else {\r\n            this._isZooming = false;\r\n            this.zoom = scale;\r\n            return Promise.resolve(true);\r\n        }\r\n        return this._zoomPromise;\r\n    }\r\n    /**\r\n     * Gets the bounding box of the viewport of this camera in world coordinates\r\n     */\r\n    get viewport() {\r\n        if (this._viewport) {\r\n            return this._viewport;\r\n        }\r\n        return new BoundingBox(0, 0, 0, 0);\r\n    }\r\n    /**\r\n     * Adds a new camera strategy to this camera\r\n     * @param cameraStrategy Instance of an [[CameraStrategy]]\r\n     */\r\n    addStrategy(cameraStrategy) {\r\n        this._cameraStrategies.push(cameraStrategy);\r\n    }\r\n    /**\r\n     * Removes a camera strategy by reference\r\n     * @param cameraStrategy Instance of an [[CameraStrategy]]\r\n     */\r\n    removeStrategy(cameraStrategy) {\r\n        removeItemFromArray(cameraStrategy, this._cameraStrategies);\r\n    }\r\n    /**\r\n     * Clears all camera strategies from the camera\r\n     */\r\n    clearAllStrategies() {\r\n        this._cameraStrategies.length = 0;\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\r\n     * @internal\r\n     */\r\n    _preupdate(engine, delta) {\r\n        this.emit('preupdate', new PreUpdateEvent(engine, delta, this));\r\n        this.onPreUpdate(engine, delta);\r\n    }\r\n    /**\r\n     * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\r\n     *\r\n     * `onPreUpdate` is called directly before a scene is updated.\r\n     */\r\n    onPreUpdate(_engine, _delta) {\r\n        // Overridable\r\n    }\r\n    /**\r\n     *  It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\r\n     * @internal\r\n     */\r\n    _postupdate(engine, delta) {\r\n        this.emit('postupdate', new PostUpdateEvent(engine, delta, this));\r\n        this.onPostUpdate(engine, delta);\r\n    }\r\n    /**\r\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\r\n     *\r\n     * `onPostUpdate` is called directly after a scene is updated.\r\n     */\r\n    onPostUpdate(_engine, _delta) {\r\n        // Overridable\r\n    }\r\n    get isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n    _initialize(_engine) {\r\n        if (!this.isInitialized) {\r\n            this._engine = _engine;\r\n            const currentRes = this._engine.screen.resolution;\r\n            let center = vec(currentRes.width / 2, currentRes.height / 2);\r\n            if (!this._engine.loadingComplete) {\r\n                // If there was a loading screen, we peek the configured resolution\r\n                const res = this._engine.screen.peekResolution();\r\n                if (res) {\r\n                    center = vec(res.width / 2, res.height / 2);\r\n                }\r\n            }\r\n            this._halfWidth = center.x;\r\n            this._halfHeight = center.x;\r\n            // If the user has not set the camera pos, apply default center screen position\r\n            if (!this._posChanged) {\r\n                this.pos = center;\r\n            }\r\n            this.onInitialize(_engine);\r\n            super.emit('initialize', new InitializeEvent(_engine, this));\r\n            this._isInitialized = true;\r\n        }\r\n    }\r\n    /**\r\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\r\n     *\r\n     * `onPostUpdate` is called directly after a scene is updated.\r\n     */\r\n    onInitialize(_engine) {\r\n        // Overridable\r\n    }\r\n    on(eventName, handler) {\r\n        super.on(eventName, handler);\r\n    }\r\n    off(eventName, handler) {\r\n        super.off(eventName, handler);\r\n    }\r\n    once(eventName, handler) {\r\n        super.once(eventName, handler);\r\n    }\r\n    update(_engine, delta) {\r\n        this._initialize(_engine);\r\n        this._preupdate(_engine, delta);\r\n        // Update placements based on linear algebra\r\n        this.pos = this.pos.add(this.vel.scale(delta / 1000));\r\n        this.zoom += (this.dz * delta) / 1000;\r\n        this.vel = this.vel.add(this.acc.scale(delta / 1000));\r\n        this.dz += (this.az * delta) / 1000;\r\n        this.rotation += (this.angularVelocity * delta) / 1000;\r\n        if (this._isZooming) {\r\n            if (this._currentZoomTime < this._zoomDuration) {\r\n                const zoomEasing = this._zoomEasing;\r\n                const newZoom = zoomEasing(this._currentZoomTime, this._zoomStart, this._zoomEnd, this._zoomDuration);\r\n                this.zoom = newZoom;\r\n                this._currentZoomTime += delta;\r\n            }\r\n            else {\r\n                this._isZooming = false;\r\n                this.zoom = this._zoomEnd;\r\n                this._currentZoomTime = 0;\r\n                this._zoomResolve(true);\r\n            }\r\n        }\r\n        if (this._cameraMoving) {\r\n            if (this._currentLerpTime < this._lerpDuration) {\r\n                const moveEasing = EasingFunctions.CreateVectorEasingFunction(this._easing);\r\n                const lerpPoint = moveEasing(this._currentLerpTime, this._lerpStart, this._lerpEnd, this._lerpDuration);\r\n                this.pos = lerpPoint;\r\n                this._currentLerpTime += delta;\r\n            }\r\n            else {\r\n                this.pos = this._lerpEnd;\r\n                const end = this._lerpEnd.clone();\r\n                this._lerpStart = null;\r\n                this._lerpEnd = null;\r\n                this._currentLerpTime = 0;\r\n                this._cameraMoving = false;\r\n                // Order matters here, resolve should be last so any chain promises have a clean slate\r\n                this._lerpResolve(end);\r\n            }\r\n        }\r\n        if (this._isDoneShaking()) {\r\n            this._isShaking = false;\r\n            this._elapsedShakeTime = 0;\r\n            this._shakeMagnitudeX = 0;\r\n            this._shakeMagnitudeY = 0;\r\n            this._shakeDuration = 0;\r\n            this._xShake = 0;\r\n            this._yShake = 0;\r\n        }\r\n        else {\r\n            this._elapsedShakeTime += delta;\r\n            this._xShake = ((Math.random() * this._shakeMagnitudeX) | 0) + 1;\r\n            this._yShake = ((Math.random() * this._shakeMagnitudeY) | 0) + 1;\r\n        }\r\n        for (const s of this._cameraStrategies) {\r\n            this.pos = s.action.call(s, s.target, this, _engine, delta);\r\n        }\r\n        this._viewport = new BoundingBox(this.x - this._halfWidth, this.y - this._halfHeight, this.x + this._halfWidth, this.y + this._halfHeight);\r\n        this._postupdate(_engine, delta);\r\n    }\r\n    draw(ctx) {\r\n        let canvasWidth = 0;\r\n        let canvasHeight = 0;\r\n        if (ctx instanceof CanvasRenderingContext2D) {\r\n            canvasWidth = ctx.canvas.width;\r\n            canvasHeight = ctx.canvas.height;\r\n        }\r\n        else {\r\n            canvasWidth = ctx.width;\r\n            canvasHeight = ctx.height;\r\n        }\r\n        const focus = this.getFocus();\r\n        const pixelRatio = this._engine ? this._engine.pixelRatio : 1;\r\n        const zoom = this.zoom;\r\n        const newCanvasWidth = canvasWidth / zoom / pixelRatio;\r\n        const newCanvasHeight = canvasHeight / zoom / pixelRatio;\r\n        ctx.scale(zoom, zoom);\r\n        ctx.translate(-focus.x + newCanvasWidth / 2 + this._xShake, -focus.y + newCanvasHeight / 2 + this._yShake);\r\n    }\r\n    /* istanbul ignore next */\r\n    debugDraw(_ctx) {\r\n        // pass\r\n    }\r\n    _isDoneShaking() {\r\n        return !this._isShaking || this._elapsedShakeTime >= this._shakeDuration;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Util/Actors.ts\n\r\n\r\n\r\n/**\r\n * Type guard to detect if something is an actor\r\n * @deprecated Will be removed in v0.26.0\r\n * @param actor\r\n */\r\nfunction isVanillaActor(actor) {\r\n    return !(actor instanceof ScreenElement) && !(actor instanceof Trigger) && !(actor instanceof Label);\r\n}\r\n/**\r\n * Type guard to detect a screen element\r\n * @todo move to ScreenElement\r\n */\r\nfunction isScreenElement(actor) {\r\n    return actor instanceof ScreenElement_ScreenElement;\r\n}\r\n\n;// CONCATENATED MODULE: ./Trigger.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst triggerDefaults = {\r\n    pos: Vector.Zero,\r\n    width: 10,\r\n    height: 10,\r\n    visible: false,\r\n    action: () => {\r\n        return;\r\n    },\r\n    filter: () => true,\r\n    repeat: -1\r\n};\r\n/**\r\n * Triggers are a method of firing arbitrary code on collision. These are useful\r\n * as 'buttons', 'switches', or to trigger effects in a game. By default triggers\r\n * are invisible, and can only be seen when [[Trigger.visible]] is set to `true`.\r\n */\r\nclass Trigger_Trigger extends Actor {\r\n    /**\r\n     *\r\n     * @param opts Trigger options\r\n     */\r\n    constructor(opts) {\r\n        super({ x: opts.pos.x, y: opts.pos.y, width: opts.width, height: opts.height });\r\n        /**\r\n         * Action to fire when triggered by collision\r\n         */\r\n        this.action = () => {\r\n            return;\r\n        };\r\n        /**\r\n         * Filter to add additional granularity to action dispatch, if a filter is specified the action will only fire when\r\n         * filter return true for the collided actor.\r\n         */\r\n        this.filter = () => true;\r\n        /**\r\n         * Number of times to repeat before killing the trigger,\r\n         */\r\n        this.repeat = -1;\r\n        opts = extend({}, triggerDefaults, opts);\r\n        this.filter = opts.filter || this.filter;\r\n        this.repeat = opts.repeat || this.repeat;\r\n        this.action = opts.action || this.action;\r\n        if (opts.target) {\r\n            this.target = opts.target;\r\n        }\r\n        this.graphics.visible = opts.visible;\r\n        this.body.collisionType = CollisionType.Passive;\r\n        this.eventDispatcher = new EventDispatcher(this);\r\n        this.events.on('collisionstart', (evt) => {\r\n            if (this.filter(evt.other)) {\r\n                this.emit('enter', new EnterTriggerEvent(this, evt.other));\r\n                this._dispatchAction();\r\n                // remove trigger if its done, -1 repeat forever\r\n                if (this.repeat === 0) {\r\n                    this.kill();\r\n                }\r\n            }\r\n        });\r\n        this.events.on('collisionend', (evt) => {\r\n            if (this.filter(evt.other)) {\r\n                this.emit('exit', new ExitTriggerEvent(this, evt.other));\r\n            }\r\n        });\r\n    }\r\n    set target(target) {\r\n        this._target = target;\r\n        this.filter = (actor) => actor === target;\r\n    }\r\n    get target() {\r\n        return this._target;\r\n    }\r\n    _initialize(engine) {\r\n        super._initialize(engine);\r\n    }\r\n    _dispatchAction() {\r\n        if (this.repeat !== 0) {\r\n            this.action.call(this);\r\n            this.repeat--;\r\n        }\r\n    }\r\n    /* istanbul ignore next */\r\n    debugDraw(ctx) {\r\n        super.debugDraw(ctx);\r\n        // Meant to draw debug information about actors\r\n        ctx.save();\r\n        ctx.translate(this.pos.x, this.pos.y);\r\n        const bb = this.collider.bounds;\r\n        const wp = this.getGlobalPos();\r\n        bb.left = bb.left - wp.x;\r\n        bb.right = bb.right - wp.x;\r\n        bb.top = bb.top - wp.y;\r\n        bb.bottom = bb.bottom - wp.y;\r\n        ctx.fillStyle = Color.Violet.toString();\r\n        ctx.strokeStyle = Color.Violet.toString();\r\n        ctx.fillText('Trigger', 10, 10);\r\n        bb.debugDraw(ctx);\r\n        ctx.restore();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/System.ts\n/**\r\n * Enum that determines whether to run the system in the update or draw phase\r\n */\r\nvar SystemType;\r\n(function (SystemType) {\r\n    SystemType[\"Update\"] = \"update\";\r\n    SystemType[\"Draw\"] = \"draw\";\r\n})(SystemType || (SystemType = {}));\r\n/**\r\n * An Excalibur [[System]] that updates entities of certain types.\r\n * Systems are scene specific\r\n *\r\n * Excalibur Systems currently require at least 1 Component type to operated\r\n *\r\n * Multiple types are declared as a type union\r\n * For example:\r\n *\r\n * ```typescript\r\n * class MySystem extends System<ComponentA | ComponentB> {\r\n *   public readonly types = ['a', 'b'] as const;\r\n *   public readonly systemType = SystemType.Update;\r\n *   public update(entities: Entity<ComponentA | ComponentB>) {\r\n *      ...\r\n *   }\r\n * }\r\n * ```\r\n */\r\nclass System {\r\n    constructor() {\r\n        /**\r\n         * System can execute in priority order, by default all systems are priority 0. Lower values indicated higher priority.\r\n         * For a system to execute before all other a lower priority value (-1 for example) must be set.\r\n         * For a system to exectue after all other a higher priority value (10 for example) must be set.\r\n         */\r\n        this.priority = 0;\r\n    }\r\n    /**\r\n     * Systems observe when entities match their types or no longer match their types, override\r\n     * @param _entityAddedOrRemoved\r\n     */\r\n    notify(_entityAddedOrRemoved) {\r\n        // Override me\r\n    }\r\n}\r\n/**\r\n * An [[Entity]] with [[Component]] types that matches a [[System]] types exists in the current scene.\r\n */\r\nclass AddedEntity {\r\n    constructor(data) {\r\n        this.data = data;\r\n        this.type = 'Entity Added';\r\n    }\r\n}\r\n/**\r\n * Type guard to check for AddedEntity messages\r\n * @param x\r\n */\r\nfunction isAddedSystemEntity(x) {\r\n    return !!x && x.type === 'Entity Added';\r\n}\r\n/**\r\n * An [[Entity]] with [[Component]] types that no longer matches a [[System]] types exists in the current scene.\r\n */\r\nclass RemovedEntity {\r\n    constructor(data) {\r\n        this.data = data;\r\n        this.type = 'Entity Removed';\r\n    }\r\n}\r\n/**\r\n * type guard to check for the RemovedEntity message\r\n */\r\nfunction isRemoveSystemEntity(x) {\r\n    return !!x && x.type === 'Entity Removed';\r\n}\r\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/EntityManager.ts\n\r\n\r\n// Add/Remove entitys and components\r\nclass EntityManager {\r\n    constructor(_world) {\r\n        this._world = _world;\r\n        this.entities = [];\r\n        this._entityIndex = {};\r\n        this._entitiesToRemove = [];\r\n    }\r\n    /**\r\n     * Runs the entity lifecycle\r\n     * @param _context\r\n     */\r\n    updateEntities(_context, elapsed) {\r\n        for (const entity of this.entities) {\r\n            // TODO is this right?\r\n            entity.update(_context.engine, elapsed);\r\n            if (!entity.active) {\r\n                this.removeEntity(entity);\r\n            }\r\n        }\r\n    }\r\n    findEntitiesForRemoval() {\r\n        for (const entity of this.entities) {\r\n            if (!entity.active) {\r\n                this.removeEntity(entity);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * EntityManager observes changes on entities\r\n     * @param message\r\n     */\r\n    notify(message) {\r\n        if (isAddedComponent(message)) {\r\n            // we don't need the component, it's already on the entity\r\n            this._world.queryManager.addEntity(message.data.entity);\r\n        }\r\n        if (isRemovedComponent(message)) {\r\n            this._world.queryManager.removeComponent(message.data.entity, message.data.component);\r\n        }\r\n    }\r\n    /**\r\n     * Adds an entity to be tracked by the EntityManager\r\n     * @param entity\r\n     */\r\n    addEntity(entity) {\r\n        entity.active = true;\r\n        if (entity && !this._entityIndex[entity.id]) {\r\n            this._entityIndex[entity.id] = entity;\r\n            this.entities.push(entity);\r\n            this._world.queryManager.addEntity(entity);\r\n            entity.componentAdded$.register(this);\r\n            entity.componentRemoved$.register(this);\r\n            // if entity has children\r\n            entity.children.forEach((c) => this.addEntity(c));\r\n            entity.childrenAdded$.register({\r\n                notify: (e) => {\r\n                    this.addEntity(e);\r\n                }\r\n            });\r\n            entity.childrenRemoved$.register({\r\n                notify: (e) => {\r\n                    this.removeEntity(e, false);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    removeEntity(idOrEntity, deferred = true) {\r\n        var _a;\r\n        let id = 0;\r\n        if (idOrEntity instanceof Entity) {\r\n            id = idOrEntity.id;\r\n        }\r\n        else {\r\n            id = idOrEntity;\r\n        }\r\n        const entity = this._entityIndex[id];\r\n        if (entity && entity.active) {\r\n            entity.kill();\r\n        }\r\n        if (entity && deferred) {\r\n            this._entitiesToRemove.push(entity);\r\n            return;\r\n        }\r\n        delete this._entityIndex[id];\r\n        if (entity) {\r\n            removeItemFromArray(entity, this.entities);\r\n            this._world.queryManager.removeEntity(entity);\r\n            entity.componentAdded$.unregister(this);\r\n            entity.componentRemoved$.unregister(this);\r\n            // if entity has children\r\n            entity.children.forEach((c) => this.removeEntity(c, deferred));\r\n            entity.childrenAdded$.clear();\r\n            entity.childrenRemoved$.clear();\r\n            // stats\r\n            if ((_a = this._world.context) === null || _a === void 0 ? void 0 : _a.engine) {\r\n                this._world.context.engine.stats.currFrame.actors.killed++;\r\n            }\r\n        }\r\n    }\r\n    processEntityRemovals() {\r\n        for (const entity of this._entitiesToRemove) {\r\n            if (entity.active) {\r\n                continue;\r\n            }\r\n            this.removeEntity(entity, false);\r\n        }\r\n    }\r\n    processComponentRemovals() {\r\n        for (const entity of this.entities) {\r\n            entity.processComponentRemoval();\r\n        }\r\n    }\r\n    getById(id) {\r\n        return this._entityIndex[id];\r\n    }\r\n    getByName(name) {\r\n        return this.entities.filter(e => e.name === name);\r\n    }\r\n    clear() {\r\n        for (const entity of this.entities) {\r\n            this.removeEntity(entity);\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/Util.ts\nconst buildTypeKey = (types) => {\r\n    const key = [...types].sort((a, b) => a.localeCompare(b)).join('+');\r\n    return key;\r\n};\r\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/Query.ts\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Represents query for entities that match a list of types that is cached and observable\r\n *\r\n * Queries can be strongly typed by supplying a type union in the optional type parameter\r\n * ```typescript\r\n * const queryAB = new ex.Query<ComponentTypeA | ComponentTypeB>(['A', 'B']);\r\n * ```\r\n */\r\nclass Query extends Observable {\r\n    constructor(types) {\r\n        super();\r\n        this._entities = [];\r\n        if (types[0] instanceof Function) {\r\n            this.types = types.map(T => (new T).type);\r\n        }\r\n        else {\r\n            this.types = types;\r\n        }\r\n    }\r\n    get key() {\r\n        if (this._key) {\r\n            return this._key;\r\n        }\r\n        return (this._key = buildTypeKey(this.types));\r\n    }\r\n    /**\r\n     * Returns a list of entities that match the query\r\n     *\r\n     * @param sort Optional sorting function to sort entities returned from the query\r\n     */\r\n    getEntities(sort) {\r\n        if (sort) {\r\n            this._entities.sort(sort);\r\n        }\r\n        return this._entities;\r\n    }\r\n    /**\r\n     * Add an entity to the query, will only be added if the entity matches the query types\r\n     * @param entity\r\n     */\r\n    addEntity(entity) {\r\n        if (!contains(this._entities, entity) && this.matches(entity)) {\r\n            this._entities.push(entity);\r\n            this.notifyAll(new AddedEntity(entity));\r\n        }\r\n    }\r\n    /**\r\n     * If the entity is part of the query it will be removed regardless of types\r\n     * @param entity\r\n     */\r\n    removeEntity(entity) {\r\n        if (removeItemFromArray(entity, this._entities)) {\r\n            this.notifyAll(new RemovedEntity(entity));\r\n        }\r\n    }\r\n    /**\r\n     * Removes all entities and observers from the query\r\n     */\r\n    clear() {\r\n        this._entities.length = 0;\r\n        for (const observer of this.observers) {\r\n            this.unregister(observer);\r\n        }\r\n    }\r\n    matches(typesOrEntity) {\r\n        let types = [];\r\n        if (typesOrEntity instanceof Entity) {\r\n            types = typesOrEntity.types;\r\n        }\r\n        else {\r\n            types = typesOrEntity;\r\n        }\r\n        let matches = true;\r\n        for (const type of this.types) {\r\n            matches = matches && types.indexOf(type) > -1;\r\n            if (!matches) {\r\n                return false;\r\n            }\r\n        }\r\n        return matches;\r\n    }\r\n    contain(type) {\r\n        return this.types.indexOf(type) > -1;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/QueryManager.ts\n\r\n\r\n/**\r\n * The query manager is responsible for updating all queries when entities/components change\r\n */\r\nclass QueryManager {\r\n    constructor(_world) {\r\n        this._world = _world;\r\n        this._queries = {};\r\n    }\r\n    /**\r\n     * Adds a query to the manager and populates with any entities that match\r\n     * @param query\r\n     */\r\n    _addQuery(query) {\r\n        this._queries[buildTypeKey(query.types)] = query;\r\n        for (const entity of this._world.entityManager.entities) {\r\n            query.addEntity(entity);\r\n        }\r\n    }\r\n    /**\r\n     * Removes the query if there are no observers left\r\n     * @param query\r\n     */\r\n    maybeRemoveQuery(query) {\r\n        if (query.observers.length === 0) {\r\n            query.clear();\r\n            delete this._queries[buildTypeKey(query.types)];\r\n        }\r\n    }\r\n    /**\r\n     * Adds the entity to any matching query in the query manage\r\n     * @param entity\r\n     */\r\n    addEntity(entity) {\r\n        for (const queryType in this._queries) {\r\n            if (this._queries[queryType]) {\r\n                this._queries[queryType].addEntity(entity);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Removes an entity from queries if the removed component disqualifies it\r\n     * @param entity\r\n     * @param component\r\n     */\r\n    removeComponent(entity, component) {\r\n        for (const queryType in this._queries) {\r\n            // If the component being removed from an entity is a part of a query,\r\n            // it is now disqualified from that query, remove it\r\n            if (this._queries[queryType].contain(component.type)) {\r\n                this._queries[queryType].removeEntity(entity);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Removes an entity from all queries it is currently a part of\r\n     * @param entity\r\n     */\r\n    removeEntity(entity) {\r\n        for (const queryType in this._queries) {\r\n            this._queries[queryType].removeEntity(entity);\r\n        }\r\n    }\r\n    /**\r\n     * Creates a populated query and returns, if the query already exists that will be returned instead of a new instance\r\n     * @param types\r\n     */\r\n    createQuery(types) {\r\n        const maybeExistingQuery = this.getQuery(types);\r\n        if (maybeExistingQuery) {\r\n            return maybeExistingQuery;\r\n        }\r\n        const query = new Query(types);\r\n        this._addQuery(query);\r\n        return query;\r\n    }\r\n    /**\r\n     * Retrieves an existing query by types if it exists otherwise returns null\r\n     * @param types\r\n     */\r\n    getQuery(types) {\r\n        const key = buildTypeKey(types);\r\n        if (this._queries[key]) {\r\n            return this._queries[key];\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/SystemManager.ts\n\r\n/**\r\n * The SystemManager is responsible for keeping track of all systems in a scene.\r\n * Systems are scene specific\r\n */\r\nclass SystemManager {\r\n    constructor(_world) {\r\n        this._world = _world;\r\n        /**\r\n         * List of systems, to add a new system call [[SystemManager.addSystem]]\r\n         */\r\n        this.systems = [];\r\n        this.initialized = false;\r\n    }\r\n    /**\r\n     * Get a system registered in the manager by type\r\n     * @param systemType\r\n     * @returns\r\n     */\r\n    get(systemType) {\r\n        return this.systems.find((s) => s instanceof systemType);\r\n    }\r\n    /**\r\n     * Adds a system to the manager, it will now be updated every frame\r\n     * @param system\r\n     */\r\n    addSystem(system) {\r\n        // validate system has types\r\n        if (!system.types || system.types.length === 0) {\r\n            throw new Error(`Attempted to add a System without any types`);\r\n        }\r\n        const query = this._world.queryManager.createQuery(system.types);\r\n        this.systems.push(system);\r\n        this.systems.sort((a, b) => a.priority - b.priority);\r\n        query.register(system);\r\n        if (this.initialized && system.initialize) {\r\n            system.initialize(this._world.context);\r\n        }\r\n    }\r\n    /**\r\n     * Removes a system from the manager, it will no longer be updated\r\n     * @param system\r\n     */\r\n    removeSystem(system) {\r\n        removeItemFromArray(system, this.systems);\r\n        const query = this._world.queryManager.getQuery(system.types);\r\n        if (query) {\r\n            query.unregister(system);\r\n            this._world.queryManager.maybeRemoveQuery(query);\r\n        }\r\n    }\r\n    /**\r\n     * Updates all systems\r\n     * @param type whether this is an update or draw system\r\n     * @param context context reference\r\n     * @param delta time in milliseconds\r\n     */\r\n    updateSystems(type, context, delta) {\r\n        if (!this.initialized) {\r\n            this.initialized = true;\r\n            for (const s of this.systems) {\r\n                if (s.initialize) {\r\n                    s.initialize(this._world.context);\r\n                }\r\n            }\r\n        }\r\n        const systems = this.systems.filter((s) => s.systemType === type);\r\n        for (const s of systems) {\r\n            if (s.preupdate) {\r\n                s.preupdate(context, delta);\r\n            }\r\n        }\r\n        for (const s of systems) {\r\n            // Get entities that match the system types, pre-sort\r\n            const entities = this._world.queryManager.getQuery(s.types).getEntities(s.sort);\r\n            // Initialize entities if needed\r\n            if (context instanceof Scene) {\r\n                for (const entity of entities) {\r\n                    entity._initialize(context === null || context === void 0 ? void 0 : context.engine);\r\n                }\r\n            }\r\n            s.update(entities, delta);\r\n        }\r\n        for (const s of systems) {\r\n            if (s.postupdate) {\r\n                s.postupdate(context, delta);\r\n            }\r\n        }\r\n    }\r\n    clear() {\r\n        for (const system of this.systems) {\r\n            this.removeSystem(system);\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/World.ts\n\r\n\r\n\r\n\r\n\r\n/**\r\n * The World is a self-contained entity component system for a particular context.\r\n */\r\nclass World {\r\n    /**\r\n     * The context type is passed to the system updates\r\n     * @param context\r\n     */\r\n    constructor(context) {\r\n        this.context = context;\r\n        this.queryManager = new QueryManager(this);\r\n        this.entityManager = new EntityManager(this);\r\n        this.systemManager = new SystemManager(this);\r\n    }\r\n    /**\r\n     * Update systems by type and time elapsed in milliseconds\r\n     */\r\n    update(type, delta) {\r\n        if (type === SystemType.Update) {\r\n            this.entityManager.updateEntities(this.context, delta);\r\n        }\r\n        this.systemManager.updateSystems(type, this.context, delta);\r\n        this.entityManager.findEntitiesForRemoval();\r\n        this.entityManager.processComponentRemovals();\r\n        this.entityManager.processEntityRemovals();\r\n    }\r\n    add(entityOrSystem) {\r\n        if (entityOrSystem instanceof Entity) {\r\n            this.entityManager.addEntity(entityOrSystem);\r\n        }\r\n        if (entityOrSystem instanceof System) {\r\n            this.systemManager.addSystem(entityOrSystem);\r\n        }\r\n    }\r\n    remove(entityOrSystem, deferred = true) {\r\n        if (entityOrSystem instanceof Entity) {\r\n            this.entityManager.removeEntity(entityOrSystem, deferred);\r\n        }\r\n        if (entityOrSystem instanceof System) {\r\n            this.systemManager.removeSystem(entityOrSystem);\r\n        }\r\n    }\r\n    clearEntities() {\r\n        this.entityManager.clear();\r\n    }\r\n    clearSystems() {\r\n        this.systemManager.clear();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Integrator.ts\nclass EulerIntegrator {\r\n    static integrate(transform, motion, totalAcc, elapsedMs) {\r\n        const seconds = elapsedMs / 1000;\r\n        motion.vel.addEqual(totalAcc.scale(seconds));\r\n        transform.pos.addEqual(motion.vel.scale(seconds)).addEqual(totalAcc.scale(0.5 * seconds * seconds));\r\n        motion.angularVelocity += motion.torque * (1.0 / motion.inertia) * seconds;\r\n        transform.rotation += motion.angularVelocity * seconds;\r\n        transform.scale.addEqual(motion.scaleFactor.scale(seconds));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/MotionSystem.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass MotionSystem extends System {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.types = ['ex.transform', 'ex.motion'];\r\n        this.systemType = SystemType.Update;\r\n        this.priority = -1;\r\n    }\r\n    update(_entities, elapsedMs) {\r\n        let transform;\r\n        let motion;\r\n        for (const entity of _entities) {\r\n            transform = entity.get(TransformComponent);\r\n            motion = entity.get(MotionComponent);\r\n            const optionalBody = entity.get(BodyComponent);\r\n            if (optionalBody === null || optionalBody === void 0 ? void 0 : optionalBody.sleeping) {\r\n                continue;\r\n            }\r\n            const totalAcc = motion.acc.clone();\r\n            if ((optionalBody === null || optionalBody === void 0 ? void 0 : optionalBody.collisionType) === CollisionType.Active && (optionalBody === null || optionalBody === void 0 ? void 0 : optionalBody.useGravity)) {\r\n                totalAcc.addEqual(Physics.gravity);\r\n            }\r\n            optionalBody === null || optionalBody === void 0 ? void 0 : optionalBody.captureOldTransform();\r\n            // Update transform and motion based on Euler linear algebra\r\n            EulerIntegrator.integrate(transform, motion, totalAcc, elapsedMs);\r\n        }\r\n    }\r\n    debugDraw(_ctx) {\r\n        // pass\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Solver/Solver.ts\n/**\r\n * A collision solver figures out how to position colliders such that they are no longer overlapping\r\n *\r\n * Solvers are executed in the order\r\n *\r\n * 1. preSolve\r\n * 2. solveVelocity\r\n * 3. solvePosition\r\n * 4. postSolve\r\n * @inheritdoc\r\n */\r\nclass CollisionSolver {\r\n    /**\r\n     * Solves overlapping contact in\r\n     *\r\n     * Solvers are executed in the order\r\n     * 1. preSolve\r\n     * 2. solveVelocity\r\n     * 3. solvePosition\r\n     * 4. postSolve\r\n     * @param contacts\r\n     */\r\n    solve(contacts) {\r\n        // Events and init\r\n        this.preSolve(contacts);\r\n        // Remove any canceled contacts\r\n        contacts = contacts.filter(c => !c.isCanceled());\r\n        // Solve velocity first\r\n        this.solveVelocity(contacts);\r\n        // Solve position last because non-overlap is the most important\r\n        this.solvePosition(contacts);\r\n        // Events and any contact house-keeping the solver needs\r\n        this.postSolve(contacts);\r\n        return contacts;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Solver/ArcadeSolver.ts\n\r\n\r\n\r\n\r\n\r\n/**\r\n * ArcadeSolver is the default in Excalibur. It solves collisions so that there is no overlap between contacts,\r\n * and negates velocity along the collision normal.\r\n *\r\n * This is usually the type of collisions used for 2D games that don't need a more realistic collision simulation.\r\n *\r\n */\r\nclass ArcadeSolver extends CollisionSolver {\r\n    preSolve(contacts) {\r\n        for (const contact of contacts) {\r\n            const side = Side.fromDirection(contact.mtv);\r\n            const mtv = contact.mtv.negate();\r\n            // Publish collision events on both participants\r\n            contact.colliderA.events.emit('precollision', new PreCollisionEvent(contact.colliderA, contact.colliderB, side, mtv));\r\n            contact.colliderB.events.emit('precollision', new PreCollisionEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), mtv.negate()));\r\n        }\r\n    }\r\n    postSolve(contacts) {\r\n        var _a, _b;\r\n        for (const contact of contacts) {\r\n            const colliderA = contact.colliderA;\r\n            const colliderB = contact.colliderB;\r\n            const bodyA = (_a = colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\r\n            const bodyB = (_b = colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\r\n            if (bodyA && bodyB) {\r\n                if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\r\n                    continue;\r\n                }\r\n            }\r\n            const side = Side.fromDirection(contact.mtv);\r\n            const mtv = contact.mtv.negate();\r\n            // Publish collision events on both participants\r\n            contact.colliderA.events.emit('postcollision', new PostCollisionEvent(contact.colliderA, contact.colliderB, side, mtv));\r\n            contact.colliderB.events.emit('postcollision', new PostCollisionEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), mtv.negate()));\r\n        }\r\n    }\r\n    solvePosition(contacts) {\r\n        var _a, _b;\r\n        for (const contact of contacts) {\r\n            let mtv = contact.mtv;\r\n            const colliderA = contact.colliderA;\r\n            const colliderB = contact.colliderB;\r\n            const bodyA = (_a = colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\r\n            const bodyB = (_b = colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\r\n            if (bodyA && bodyB) {\r\n                if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\r\n                    continue;\r\n                }\r\n                if (bodyA.collisionType === CollisionType.Active && bodyB.collisionType === CollisionType.Active) {\r\n                    // split overlaps if both are Active\r\n                    mtv = mtv.scale(0.5);\r\n                }\r\n                // Resolve overlaps\r\n                if (bodyA.collisionType === CollisionType.Active) {\r\n                    bodyA.pos.x -= mtv.x;\r\n                    bodyA.pos.y -= mtv.y;\r\n                }\r\n                if (bodyB.collisionType === CollisionType.Active) {\r\n                    bodyB.pos.x += mtv.x;\r\n                    bodyB.pos.y += mtv.y;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    solveVelocity(contacts) {\r\n        var _a, _b;\r\n        for (const contact of contacts) {\r\n            const colliderA = contact.colliderA;\r\n            const colliderB = contact.colliderB;\r\n            const bodyA = (_a = colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\r\n            const bodyB = (_b = colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\r\n            if (bodyA && bodyB) {\r\n                if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\r\n                    continue;\r\n                }\r\n                const normal = contact.normal;\r\n                const opposite = normal.negate();\r\n                // Cancel out velocity opposite direction of collision normal\r\n                if (bodyA.collisionType === CollisionType.Active) {\r\n                    const velAdj = normal.scale(normal.dot(bodyA.vel.negate()));\r\n                    bodyA.vel = bodyA.vel.add(velAdj);\r\n                }\r\n                if (bodyB.collisionType === CollisionType.Active) {\r\n                    const velAdj = opposite.scale(opposite.dot(bodyB.vel.negate()));\r\n                    bodyB.vel = bodyB.vel.add(velAdj);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Solver/ContactConstraintPoint.ts\n\r\n\r\n/**\r\n * Holds information about contact points, meant to be reused over multiple frames of contact\r\n */\r\nclass ContactConstraintPoint {\r\n    constructor(point, local, contact) {\r\n        this.point = point;\r\n        this.local = local;\r\n        this.contact = contact;\r\n        /**\r\n         * Impulse accumulated over time in normal direction\r\n         */\r\n        this.normalImpulse = 0;\r\n        /**\r\n         * Impulse accumulated over time in the tangent direction\r\n         */\r\n        this.tangentImpulse = 0;\r\n        /**\r\n         * Effective mass seen in the normal direction\r\n         */\r\n        this.normalMass = 0;\r\n        /**\r\n         * Effective mass seen in the tangent direction\r\n         */\r\n        this.tangentMass = 0;\r\n        /**\r\n         * Direction from center of mass of bodyA to contact point\r\n         */\r\n        this.aToContact = new Vector(0, 0);\r\n        /**\r\n         * Direction from center of mass of bodyB to contact point\r\n         */\r\n        this.bToContact = new Vector(0, 0);\r\n        this.update();\r\n    }\r\n    /**\r\n     * Updates the contact information\r\n     */\r\n    update() {\r\n        var _a, _b;\r\n        const bodyA = (_a = this.contact.colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\r\n        const bodyB = (_b = this.contact.colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\r\n        if (bodyA && bodyB) {\r\n            const normal = this.contact.normal;\r\n            const tangent = this.contact.tangent;\r\n            this.aToContact = this.point.sub(bodyA.pos);\r\n            this.bToContact = this.point.sub(bodyB.pos);\r\n            const aToContactNormal = this.aToContact.cross(normal);\r\n            const bToContactNormal = this.bToContact.cross(normal);\r\n            this.normalMass =\r\n                bodyA.inverseMass +\r\n                    bodyB.inverseMass +\r\n                    bodyA.inverseInertia * aToContactNormal * aToContactNormal +\r\n                    bodyB.inverseInertia * bToContactNormal * bToContactNormal;\r\n            const aToContactTangent = this.aToContact.cross(tangent);\r\n            const bToContactTangent = this.bToContact.cross(tangent);\r\n            this.tangentMass =\r\n                bodyA.inverseMass +\r\n                    bodyB.inverseMass +\r\n                    bodyA.inverseInertia * aToContactTangent * aToContactTangent +\r\n                    bodyB.inverseInertia * bToContactTangent * bToContactTangent;\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Returns the relative velocity betwen bodyA and bodyB\r\n     */\r\n    getRelativeVelocity() {\r\n        var _a, _b;\r\n        const bodyA = (_a = this.contact.colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\r\n        const bodyB = (_b = this.contact.colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\r\n        if (bodyA && bodyB) {\r\n            // Relative velocity in linear terms\r\n            // Angular to linear velocity formula -> omega = velocity/radius so omega x radius = velocity\r\n            const velA = bodyA.vel.add(Vector.cross(bodyA.angularVelocity, this.aToContact));\r\n            const velB = bodyB.vel.add(Vector.cross(bodyB.angularVelocity, this.bToContact));\r\n            return velB.sub(velA);\r\n        }\r\n        return Vector.Zero;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/Solver/RealisticSolver.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass RealisticSolver extends CollisionSolver {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.lastFrameContacts = new Map();\r\n        // map contact id to contact points\r\n        this.idToContactConstraint = new Map();\r\n    }\r\n    getContactConstraints(id) {\r\n        var _a;\r\n        return (_a = this.idToContactConstraint.get(id)) !== null && _a !== void 0 ? _a : [];\r\n    }\r\n    preSolve(contacts) {\r\n        var _a, _b, _c;\r\n        for (const contact of contacts) {\r\n            // Publish collision events on both participants\r\n            const side = Side.fromDirection(contact.mtv);\r\n            contact.colliderA.events.emit('precollision', new PreCollisionEvent(contact.colliderA, contact.colliderB, side, contact.mtv));\r\n            contact.colliderA.events.emit('beforecollisionresolve', new CollisionPreSolveEvent(contact.colliderA, contact.colliderB, side, contact.mtv, contact));\r\n            contact.colliderB.events.emit('precollision', new PreCollisionEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), contact.mtv.negate()));\r\n            contact.colliderB.events.emit('beforecollisionresolve', new CollisionPreSolveEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), contact.mtv.negate(), contact));\r\n            // Match awake state for sleeping\r\n            contact.matchAwake();\r\n        }\r\n        // Keep track of contacts that done\r\n        const finishedContactIds = Array.from(this.idToContactConstraint.keys());\r\n        for (const contact of contacts) {\r\n            // Remove all current contacts that are not done\r\n            const index = finishedContactIds.indexOf(contact.id);\r\n            if (index > -1) {\r\n                finishedContactIds.splice(index, 1);\r\n            }\r\n            const contactPoints = (_a = this.idToContactConstraint.get(contact.id)) !== null && _a !== void 0 ? _a : [];\r\n            let pointIndex = 0;\r\n            const bodyA = contact.colliderA.owner.get(BodyComponent);\r\n            const bodyB = contact.colliderB.owner.get(BodyComponent);\r\n            if (bodyA && bodyB) {\r\n                for (const point of contact.points) {\r\n                    const normal = contact.normal;\r\n                    const tangent = contact.tangent;\r\n                    const aToContact = point.sub(bodyA.pos);\r\n                    const bToContact = point.sub(bodyB.pos);\r\n                    const aToContactNormal = aToContact.cross(normal);\r\n                    const bToContactNormal = bToContact.cross(normal);\r\n                    const normalMass = bodyA.inverseMass +\r\n                        bodyB.inverseMass +\r\n                        bodyA.inverseInertia * aToContactNormal * aToContactNormal +\r\n                        bodyB.inverseInertia * bToContactNormal * bToContactNormal;\r\n                    const aToContactTangent = aToContact.cross(tangent);\r\n                    const bToContactTangent = bToContact.cross(tangent);\r\n                    const tangentMass = bodyA.inverseMass +\r\n                        bodyB.inverseMass +\r\n                        bodyA.inverseInertia * aToContactTangent * aToContactTangent +\r\n                        bodyB.inverseInertia * bToContactTangent * bToContactTangent;\r\n                    // Preserve normal/tangent impulse by re-using the contact point if it's close\r\n                    if (contactPoints[pointIndex] && ((_c = (_b = contactPoints[pointIndex]) === null || _b === void 0 ? void 0 : _b.point) === null || _c === void 0 ? void 0 : _c.squareDistance(point)) < 4) {\r\n                        contactPoints[pointIndex].point = point;\r\n                        contactPoints[pointIndex].local = contact.localPoints[pointIndex];\r\n                    }\r\n                    else {\r\n                        // new contact if it's not close or doesn't exist\r\n                        contactPoints[pointIndex] = new ContactConstraintPoint(point, contact.localPoints[pointIndex], contact);\r\n                    }\r\n                    // Update contact point calculations\r\n                    contactPoints[pointIndex].aToContact = aToContact;\r\n                    contactPoints[pointIndex].bToContact = bToContact;\r\n                    contactPoints[pointIndex].normalMass = normalMass;\r\n                    contactPoints[pointIndex].tangentMass = tangentMass;\r\n                    pointIndex++;\r\n                }\r\n            }\r\n            this.idToContactConstraint.set(contact.id, contactPoints);\r\n        }\r\n        // Clean up any contacts that did not occur last frame\r\n        for (const id of finishedContactIds) {\r\n            this.idToContactConstraint.delete(id);\r\n        }\r\n        // Warm contacts with accumulated impulse\r\n        // Useful for tall stacks\r\n        if (Physics.warmStart) {\r\n            this.warmStart(contacts);\r\n        }\r\n        else {\r\n            for (const contact of contacts) {\r\n                const contactPoints = this.getContactConstraints(contact.id);\r\n                for (const point of contactPoints) {\r\n                    point.normalImpulse = 0;\r\n                    point.tangentImpulse = 0;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    postSolve(contacts) {\r\n        for (const contact of contacts) {\r\n            const bodyA = contact.colliderA.owner.get(BodyComponent);\r\n            const bodyB = contact.colliderB.owner.get(BodyComponent);\r\n            if (bodyA && bodyB) {\r\n                // Skip post solve for active+passive collisions\r\n                if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\r\n                    continue;\r\n                }\r\n                // Update motion values for sleeping\r\n                bodyA.updateMotion();\r\n                bodyB.updateMotion();\r\n            }\r\n            // Publish collision events on both participants\r\n            const side = Side.fromDirection(contact.mtv);\r\n            contact.colliderA.events.emit('postcollision', new PostCollisionEvent(contact.colliderA, contact.colliderB, side, contact.mtv));\r\n            contact.colliderA.events.emit('aftercollisionresolve', new CollisionPostSolveEvent(contact.colliderA, contact.colliderB, side, contact.mtv, contact));\r\n            contact.colliderB.events.emit('postcollision', new PostCollisionEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), contact.mtv.negate()));\r\n            contact.colliderB.events.emit('aftercollisionresolve', new CollisionPostSolveEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), contact.mtv.negate(), contact));\r\n        }\r\n        // Store contacts\r\n        this.lastFrameContacts.clear();\r\n        for (const c of contacts) {\r\n            this.lastFrameContacts.set(c.id, c);\r\n        }\r\n    }\r\n    /**\r\n     * Warm up body's based on previous frame contact points\r\n     * @param contacts\r\n     */\r\n    warmStart(contacts) {\r\n        var _a, _b, _c;\r\n        for (const contact of contacts) {\r\n            const bodyA = (_a = contact.colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\r\n            const bodyB = (_b = contact.colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\r\n            if (bodyA && bodyB) {\r\n                const contactPoints = (_c = this.idToContactConstraint.get(contact.id)) !== null && _c !== void 0 ? _c : [];\r\n                for (const point of contactPoints) {\r\n                    if (Physics.warmStart) {\r\n                        const normalImpulse = contact.normal.scale(point.normalImpulse);\r\n                        const tangentImpulse = contact.tangent.scale(point.tangentImpulse);\r\n                        const impulse = normalImpulse.add(tangentImpulse);\r\n                        bodyA.applyImpulse(point.point, impulse.negate());\r\n                        bodyB.applyImpulse(point.point, impulse);\r\n                    }\r\n                    else {\r\n                        point.normalImpulse = 0;\r\n                        point.tangentImpulse = 0;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Iteratively solve the position overlap constraint\r\n     * @param contacts\r\n     */\r\n    solvePosition(contacts) {\r\n        var _a, _b, _c;\r\n        for (let i = 0; i < Physics.positionIterations; i++) {\r\n            for (const contact of contacts) {\r\n                const bodyA = (_a = contact.colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\r\n                const bodyB = (_b = contact.colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\r\n                if (bodyA && bodyB) {\r\n                    // Skip solving active+passive\r\n                    if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\r\n                        continue;\r\n                    }\r\n                    const constraints = (_c = this.idToContactConstraint.get(contact.id)) !== null && _c !== void 0 ? _c : [];\r\n                    for (const point of constraints) {\r\n                        const normal = contact.normal;\r\n                        const separation = CollisionJumpTable.FindContactSeparation(contact, point.local);\r\n                        const steeringConstant = Physics.steeringFactor; //0.2;\r\n                        const maxCorrection = -5;\r\n                        const slop = Physics.slop; //1;\r\n                        // Clamp to avoid over-correction\r\n                        // Remember that we are shooting for 0 overlap in the end\r\n                        const steeringForce = clamp(steeringConstant * (separation + slop), maxCorrection, 0);\r\n                        const impulse = normal.scale(-steeringForce / point.normalMass);\r\n                        // This is a pseudo impulse, meaning we aren't doing a real impulse calculation\r\n                        // We adjust position and rotation instead of doing the velocity\r\n                        if (bodyA.collisionType === CollisionType.Active) {\r\n                            bodyA.pos = bodyA.pos.add(impulse.negate().scale(bodyA.inverseMass));\r\n                            bodyA.rotation -= point.aToContact.cross(impulse) * bodyA.inverseInertia;\r\n                        }\r\n                        if (bodyB.collisionType === CollisionType.Active) {\r\n                            bodyB.pos = bodyB.pos.add(impulse.scale(bodyB.inverseMass));\r\n                            bodyB.rotation += point.bToContact.cross(impulse) * bodyB.inverseInertia;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    solveVelocity(contacts) {\r\n        var _a, _b, _c;\r\n        for (let i = 0; i < Physics.velocityIterations; i++) {\r\n            for (const contact of contacts) {\r\n                const bodyA = (_a = contact.colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\r\n                const bodyB = (_b = contact.colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\r\n                if (bodyA && bodyB) {\r\n                    // Skip solving active+passive\r\n                    if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\r\n                        continue;\r\n                    }\r\n                    const restitution = bodyA.bounciness * bodyB.bounciness;\r\n                    const friction = Math.min(bodyA.friction, bodyB.friction);\r\n                    const constraints = (_c = this.idToContactConstraint.get(contact.id)) !== null && _c !== void 0 ? _c : [];\r\n                    for (const point of constraints) {\r\n                        const relativeVelocity = point.getRelativeVelocity();\r\n                        // Negate velocity in tangent direction to simulate friction\r\n                        const tangentVelocity = -relativeVelocity.dot(contact.tangent);\r\n                        let impulseDelta = tangentVelocity / point.tangentMass;\r\n                        // Clamping based in Erin Catto's GDC 2006 talk\r\n                        // Correct clamping https://github.com/erincatto/box2d-lite/blob/master/docs/GDC2006_Catto_Erin_PhysicsTutorial.pdf\r\n                        // Accumulated fiction impulse is always between -uMaxFriction < dT < uMaxFriction\r\n                        // But deltas can vary\r\n                        const maxFriction = friction * point.normalImpulse;\r\n                        const newImpulse = clamp(point.tangentImpulse + impulseDelta, -maxFriction, maxFriction);\r\n                        impulseDelta = newImpulse - point.tangentImpulse;\r\n                        point.tangentImpulse = newImpulse;\r\n                        const impulse = contact.tangent.scale(impulseDelta);\r\n                        bodyA.applyImpulse(point.point, impulse.negate());\r\n                        bodyB.applyImpulse(point.point, impulse);\r\n                    }\r\n                    for (const point of constraints) {\r\n                        // Need to recalc relative velocity because the previous step could have changed vel\r\n                        const relativeVelocity = point.getRelativeVelocity();\r\n                        // Compute impulse in normal direction\r\n                        const normalVelocity = relativeVelocity.dot(contact.normal);\r\n                        // See https://en.wikipedia.org/wiki/Collision_response\r\n                        let impulseDelta = (-(1 + restitution) * normalVelocity) / point.normalMass;\r\n                        // Clamping based in Erin Catto's GDC 2014 talk\r\n                        // Accumulated impulse stored in the contact is always positive (dV > 0)\r\n                        // But deltas can be negative\r\n                        const newImpulse = Math.max(point.normalImpulse + impulseDelta, 0);\r\n                        impulseDelta = newImpulse - point.normalImpulse;\r\n                        point.normalImpulse = newImpulse;\r\n                        const impulse = contact.normal.scale(impulseDelta);\r\n                        bodyA.applyImpulse(point.point, impulse.negate());\r\n                        bodyB.applyImpulse(point.point, impulse);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Collision/CollisionSystem.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CollisionSystem extends System {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.types = ['ex.transform', 'ex.motion', 'ex.collider'];\r\n        this.systemType = SystemType.Update;\r\n        this.priority = -1;\r\n        this._realisticSolver = new RealisticSolver();\r\n        this._arcadeSolver = new ArcadeSolver();\r\n        this._processor = new DynamicTreeCollisionProcessor();\r\n        this._lastFrameContacts = new Map();\r\n        this._currentFrameContacts = new Map();\r\n        this._trackCollider = (c) => this._processor.track(c);\r\n        this._untrackCollider = (c) => this._processor.untrack(c);\r\n    }\r\n    notify(message) {\r\n        if (isAddedSystemEntity(message)) {\r\n            const colliderComponent = message.data.get(ColliderComponent);\r\n            colliderComponent.$colliderAdded.subscribe(this._trackCollider);\r\n            colliderComponent.$colliderRemoved.subscribe(this._untrackCollider);\r\n            const collider = colliderComponent.get();\r\n            if (collider) {\r\n                this._processor.track(collider);\r\n            }\r\n        }\r\n        else {\r\n            const colliderComponent = message.data.get(ColliderComponent);\r\n            const collider = colliderComponent.get();\r\n            if (colliderComponent && collider) {\r\n                this._processor.untrack(collider);\r\n            }\r\n        }\r\n    }\r\n    initialize(scene) {\r\n        this._engine = scene.engine;\r\n    }\r\n    update(_entities, elapsedMs) {\r\n        var _a;\r\n        if (!Physics.enabled) {\r\n            return;\r\n        }\r\n        // Collect up all the colliders\r\n        let colliders = [];\r\n        for (const entity of _entities) {\r\n            const colliderComp = entity.get(ColliderComponent);\r\n            const collider = colliderComp === null || colliderComp === void 0 ? void 0 : colliderComp.get();\r\n            if (colliderComp && ((_a = colliderComp.owner) === null || _a === void 0 ? void 0 : _a.active) && collider) {\r\n                colliderComp.update();\r\n                if (collider instanceof CompositeCollider) {\r\n                    colliders = colliders.concat(collider.getColliders());\r\n                }\r\n                else {\r\n                    colliders.push(collider);\r\n                }\r\n            }\r\n        }\r\n        // Update the spatial partitioning data structures\r\n        // TODO if collider invalid it will break the processor\r\n        // TODO rename \"update\" to something more specific\r\n        this._processor.update(colliders);\r\n        // Run broadphase on all colliders and locates potential collisions\r\n        const pairs = this._processor.broadphase(colliders, elapsedMs);\r\n        this._currentFrameContacts.clear();\r\n        // Given possible pairs find actual contacts\r\n        let contacts = this._processor.narrowphase(pairs, this._engine.debug.stats.currFrame);\r\n        const solver = this.getSolver();\r\n        // Solve, this resolves the position/velocity so entities arent overlapping\r\n        contacts = solver.solve(contacts);\r\n        // Record contacts\r\n        contacts.forEach((c) => this._currentFrameContacts.set(c.id, c));\r\n        // Emit contact start/end events\r\n        this.runContactStartEnd();\r\n        // reset the last frame cache\r\n        this._lastFrameContacts.clear();\r\n        // Keep track of collisions contacts that have started or ended\r\n        this._lastFrameContacts = new Map(this._currentFrameContacts);\r\n    }\r\n    getSolver() {\r\n        return Physics.collisionResolutionStrategy === CollisionResolutionStrategy.Realistic ? this._realisticSolver : this._arcadeSolver;\r\n    }\r\n    debug(ex) {\r\n        this._processor.debug(ex);\r\n    }\r\n    runContactStartEnd() {\r\n        for (const [id, c] of this._currentFrameContacts) {\r\n            // find all new contacts\r\n            if (!this._lastFrameContacts.has(id)) {\r\n                const colliderA = c.colliderA;\r\n                const colliderB = c.colliderB;\r\n                colliderA.events.emit('collisionstart', new CollisionStartEvent(colliderA, colliderB, c));\r\n                colliderA.events.emit('contactstart', new ContactStartEvent(colliderA, colliderB, c));\r\n                colliderB.events.emit('collisionstart', new CollisionStartEvent(colliderB, colliderA, c));\r\n                colliderB.events.emit('contactstart', new ContactStartEvent(colliderB, colliderA, c));\r\n            }\r\n        }\r\n        // find all contacts taht have ceased\r\n        for (const [id, c] of this._lastFrameContacts) {\r\n            if (!this._currentFrameContacts.has(id)) {\r\n                const colliderA = c.colliderA;\r\n                const colliderB = c.colliderB;\r\n                colliderA.events.emit('collisionend', new CollisionEndEvent(colliderA, colliderB));\r\n                colliderA.events.emit('contactend', new ContactEndEvent(colliderA, colliderB));\r\n                colliderB.events.emit('collisionend', new CollisionEndEvent(colliderB, colliderA));\r\n                colliderB.events.emit('contactend', new ContactEndEvent(colliderB, colliderA));\r\n            }\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Animation.ts\n\r\n\r\n\r\n\r\n\r\n\r\nvar AnimationDirection;\r\n(function (AnimationDirection) {\r\n    /**\r\n     * Animation is playing forwards\r\n     */\r\n    AnimationDirection[\"Forward\"] = \"forward\";\r\n    /**\r\n     * Animation is play backwards\r\n     */\r\n    AnimationDirection[\"Backward\"] = \"backward\";\r\n})(AnimationDirection || (AnimationDirection = {}));\r\nvar AnimationStrategy;\r\n(function (AnimationStrategy) {\r\n    /**\r\n     * Animation ends without displaying anything\r\n     */\r\n    AnimationStrategy[\"End\"] = \"end\";\r\n    /**\r\n     * Animation loops to the first frame after the last frame\r\n     */\r\n    AnimationStrategy[\"Loop\"] = \"loop\";\r\n    /**\r\n     * Animation plays to the last frame, then backwards to the first frame, then repeats\r\n     */\r\n    AnimationStrategy[\"PingPong\"] = \"pingpong\";\r\n    /**\r\n     * Animation ends stopping on the last frame\r\n     */\r\n    AnimationStrategy[\"Freeze\"] = \"freeze\";\r\n})(AnimationStrategy || (AnimationStrategy = {}));\r\n/**\r\n * Create an Animation given a list of [[Frame|frames]] in [[AnimationOptions]]\r\n *\r\n * To create an Animation from a [[SpriteSheet]], use [[Animation.fromSpriteSheet]]\r\n */\r\nclass Animation extends Graphic {\r\n    constructor(options) {\r\n        var _a, _b;\r\n        super(options);\r\n        this.events = new EventDispatcher(this); // TODO replace with new Emitter\r\n        this.frames = [];\r\n        this.strategy = AnimationStrategy.Loop;\r\n        this.frameDuration = 100;\r\n        this.timeScale = 1;\r\n        this._idempotencyToken = -1;\r\n        this._firstTick = true;\r\n        this._currentFrame = 0;\r\n        this._timeLeftInFrame = 0;\r\n        this._direction = 1; // TODO only used in ping-pong\r\n        this._done = false;\r\n        this._playing = true;\r\n        this._reversed = false;\r\n        this.frames = options.frames;\r\n        this.strategy = (_a = options.strategy) !== null && _a !== void 0 ? _a : this.strategy;\r\n        this.frameDuration = options.totalDuration ? options.totalDuration / this.frames.length : (_b = options.frameDuration) !== null && _b !== void 0 ? _b : this.frameDuration;\r\n        if (options.reverse) {\r\n            this.reverse();\r\n        }\r\n        this.goToFrame(0);\r\n    }\r\n    clone() {\r\n        return new Animation(Object.assign({ frames: this.frames.map((f) => (Object.assign({}, f))), frameDuration: this.frameDuration, reverse: this._reversed, strategy: this.strategy }, this.cloneGraphicOptions()));\r\n    }\r\n    /**\r\n     * Create an Animation from a [[SpriteSheet]], a list of indices into the sprite sheet, a duration per frame\r\n     * and optional [[AnimationStrategy]]\r\n     *\r\n     * Example:\r\n     * ```typescript\r\n     * const spriteSheet = SpriteSheet.fromImageSource({...});\r\n     *\r\n     * const anim = Animation.fromSpriteSheet(spriteSheet, range(0, 5), 200, AnimationStrategy.Loop);\r\n     * ```\r\n     *\r\n     * @param spriteSheet\r\n     * @param frameIndices\r\n     * @param durationPerFrameMs\r\n     * @param strategy\r\n     */\r\n    static fromSpriteSheet(spriteSheet, frameIndices, durationPerFrameMs, strategy = AnimationStrategy.Loop) {\r\n        const maxIndex = spriteSheet.sprites.length - 1;\r\n        const invalidIndices = frameIndices.filter((index) => index < 0 || index > maxIndex);\r\n        if (invalidIndices.length) {\r\n            Animation._LOGGER.warn(`Indices into SpriteSheet were provided that don\\'t exist: ${invalidIndices.join(',')} no frame will be shown`);\r\n        }\r\n        return new Animation({\r\n            frames: spriteSheet.sprites\r\n                .filter((_, index) => frameIndices.indexOf(index) > -1)\r\n                .map((f) => ({\r\n                graphic: f,\r\n                duration: durationPerFrameMs\r\n            })),\r\n            strategy: strategy\r\n        });\r\n    }\r\n    /**\r\n     * Converts an animation to a legacy animation\r\n     * @deprecated\r\n     * @param engine\r\n     * @param animation\r\n     * @returns LegacyDrawing.Animation\r\n     */\r\n    static toLegacyAnimation(engine, animation) {\r\n        const legacySprites = animation.frames.map(f => Sprite.toLegacySprite(f.graphic));\r\n        return new Animation_Animation({\r\n            sprites: legacySprites,\r\n            loop: animation.strategy === AnimationStrategy.Loop,\r\n            freezeFrame: animation.strategy === AnimationStrategy.Freeze ? legacySprites.length - 1 : undefined,\r\n            speed: animation.frameDuration,\r\n            engine: engine\r\n        });\r\n    }\r\n    /**\r\n     * Returns the current Frame of the animation\r\n     */\r\n    get currentFrame() {\r\n        if (this._currentFrame >= 0 && this._currentFrame < this.frames.length) {\r\n            return this.frames[this._currentFrame];\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     * Returns the current frame index of the animation\r\n     */\r\n    get currentFrameIndex() {\r\n        return this._currentFrame;\r\n    }\r\n    /**\r\n     * Returns `true` if the animation is playing\r\n     */\r\n    get isPlaying() {\r\n        return this._playing;\r\n    }\r\n    /**\r\n     * Reverses the play direction of the Animation, this preserves the current frame\r\n     */\r\n    reverse() {\r\n        // Don't mutate with the original frame list, create a copy\r\n        this.frames = this.frames.slice().reverse();\r\n        this._reversed = !this._reversed;\r\n    }\r\n    /**\r\n     * Returns the current play direction of the animation\r\n     */\r\n    get direction() {\r\n        // Keep logically consistent with ping-pong direction\r\n        // If ping-pong is forward = 1 and reversed is true then we are logically reversed\r\n        const reversed = (this._reversed && this._direction === 1) ? true : false;\r\n        return reversed ? AnimationDirection.Backward : AnimationDirection.Forward;\r\n    }\r\n    /**\r\n     * Plays or resumes the animation from the current frame\r\n     */\r\n    play() {\r\n        this._playing = true;\r\n    }\r\n    /**\r\n     * Pauses the animation on the current frame\r\n     */\r\n    pause() {\r\n        this._playing = false;\r\n        this._firstTick = true; // firstTick must be set to emit the proper frame event\r\n    }\r\n    /**\r\n     * Reset the animation back to the beginning, including if the animation were done\r\n     */\r\n    reset() {\r\n        this._done = false;\r\n        this._firstTick = true;\r\n        this._currentFrame = 0;\r\n    }\r\n    /**\r\n     * Returns `true` if the animation can end\r\n     */\r\n    get canFinish() {\r\n        switch (this.strategy) {\r\n            case AnimationStrategy.End:\r\n            case AnimationStrategy.Freeze: {\r\n                return true;\r\n            }\r\n            default: {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Returns `true` if the animation is done, for looping type animations\r\n     * `ex.AnimationStrategy.PingPong` and `ex.AnimationStrategy.Loop` this will always return `false`\r\n     *\r\n     * See the `ex.Animation.canFinish()` method to know if an animation type can end\r\n     */\r\n    get done() {\r\n        return this._done;\r\n    }\r\n    /**\r\n     * Jump the animation immediately to a specific frame if it exists\r\n     * @param frameNumber\r\n     */\r\n    goToFrame(frameNumber) {\r\n        var _a, _b;\r\n        this._currentFrame = frameNumber;\r\n        this._timeLeftInFrame = this.frameDuration;\r\n        const maybeFrame = this.frames[this._currentFrame];\r\n        if (maybeFrame && !this._done) {\r\n            this._timeLeftInFrame = (maybeFrame === null || maybeFrame === void 0 ? void 0 : maybeFrame.duration) || this.frameDuration;\r\n            this.width = (_a = maybeFrame.graphic) === null || _a === void 0 ? void 0 : _a.width;\r\n            this.height = (_b = maybeFrame.graphic) === null || _b === void 0 ? void 0 : _b.height;\r\n            this.events.emit('frame', maybeFrame);\r\n        }\r\n    }\r\n    _nextFrame() {\r\n        const currentFrame = this._currentFrame;\r\n        if (this._done) {\r\n            return currentFrame;\r\n        }\r\n        let next = -1;\r\n        switch (this.strategy) {\r\n            case AnimationStrategy.Loop: {\r\n                next = (currentFrame + 1) % this.frames.length;\r\n                if (next === 0) {\r\n                    this.events.emit('loop', this);\r\n                }\r\n                break;\r\n            }\r\n            case AnimationStrategy.End: {\r\n                next = currentFrame + 1;\r\n                if (next >= this.frames.length) {\r\n                    this._done = true;\r\n                    this._currentFrame = this.frames.length;\r\n                    this.events.emit('end', this);\r\n                }\r\n                break;\r\n            }\r\n            case AnimationStrategy.Freeze: {\r\n                next = clamp(currentFrame + 1, 0, this.frames.length - 1);\r\n                if (next >= this.frames.length - 1) {\r\n                    this._done = true;\r\n                    this.events.emit('end', this);\r\n                }\r\n                break;\r\n            }\r\n            case AnimationStrategy.PingPong: {\r\n                if (currentFrame + this._direction >= this.frames.length) {\r\n                    this._direction = -1;\r\n                    this.events.emit('loop', this);\r\n                }\r\n                if (currentFrame + this._direction < 0) {\r\n                    this._direction = 1;\r\n                    this.events.emit('loop', this);\r\n                }\r\n                next = currentFrame + (this._direction % this.frames.length);\r\n                break;\r\n            }\r\n        }\r\n        return next;\r\n    }\r\n    /**\r\n     * Called internally by Excalibur to update the state of the animation potential update the current frame\r\n     * @param elapsedMilliseconds Milliseconds elapsed\r\n     * @param idempotencyToken Prevents double ticking in a frame by passing a unique token to the frame\r\n     */\r\n    tick(elapsedMilliseconds, idempotencyToken = 0) {\r\n        if (this._idempotencyToken === idempotencyToken) {\r\n            return;\r\n        }\r\n        this._idempotencyToken = idempotencyToken;\r\n        if (!this._playing) {\r\n            return;\r\n        }\r\n        // if it's the first frame emit frame event\r\n        if (this._firstTick) {\r\n            this._firstTick = false;\r\n            this.events.emit('frame', this.currentFrame);\r\n        }\r\n        this._timeLeftInFrame -= elapsedMilliseconds * this.timeScale;\r\n        if (this._timeLeftInFrame <= 0) {\r\n            this.goToFrame(this._nextFrame());\r\n        }\r\n        this._updateDimensions();\r\n    }\r\n    _updateDimensions() {\r\n        var _a, _b;\r\n        if (this.currentFrame) {\r\n            this.width = (_a = this.currentFrame.graphic) === null || _a === void 0 ? void 0 : _a.width;\r\n            this.height = (_b = this.currentFrame.graphic) === null || _b === void 0 ? void 0 : _b.height;\r\n        }\r\n    }\r\n    _drawImage(ctx, x, y) {\r\n        if (this.currentFrame) {\r\n            this.currentFrame.graphic.draw(ctx, x, y);\r\n        }\r\n    }\r\n}\r\nAnimation._LOGGER = Logger.getInstance();\r\n\n;// CONCATENATED MODULE: ./Graphics/GraphicsGroup.ts\n\r\n\r\n\r\nclass GraphicsGroup extends Graphic {\r\n    constructor(options) {\r\n        super(options);\r\n        this.members = [];\r\n        this.members = options.members;\r\n        this._updateDimensions();\r\n    }\r\n    clone() {\r\n        return new GraphicsGroup(Object.assign({ members: [...this.members] }, this.cloneGraphicOptions()));\r\n    }\r\n    _updateDimensions() {\r\n        let bb = new BoundingBox();\r\n        for (const { graphic, pos } of this.members) {\r\n            bb = graphic.localBounds.translate(pos).combine(bb);\r\n        }\r\n        this.width = bb.width;\r\n        this.height = bb.height;\r\n        return bb;\r\n    }\r\n    get localBounds() {\r\n        let bb = new BoundingBox();\r\n        for (const { graphic, pos } of this.members) {\r\n            bb = graphic.localBounds.translate(pos).combine(bb);\r\n        }\r\n        return bb;\r\n    }\r\n    _isAnimationOrGroup(graphic) {\r\n        return graphic instanceof Animation || graphic instanceof GraphicsGroup;\r\n    }\r\n    tick(elapsedMilliseconds, idempotencyToken) {\r\n        for (const member of this.members) {\r\n            const maybeAnimation = member.graphic;\r\n            if (this._isAnimationOrGroup(maybeAnimation)) {\r\n                maybeAnimation.tick(elapsedMilliseconds, idempotencyToken);\r\n            }\r\n        }\r\n    }\r\n    reset() {\r\n        for (const member of this.members) {\r\n            const maybeAnimation = member.graphic;\r\n            if (this._isAnimationOrGroup(maybeAnimation)) {\r\n                maybeAnimation.reset();\r\n            }\r\n        }\r\n    }\r\n    _preDraw(ex, x, y) {\r\n        this._updateDimensions();\r\n        super._preDraw(ex, x, y);\r\n    }\r\n    _drawImage(ex, x, y) {\r\n        for (const member of this.members) {\r\n            ex.save();\r\n            ex.translate(x, y);\r\n            member.graphic.draw(ex, member.pos.x, member.pos.y);\r\n            if (this.showDebug) {\r\n                /* istanbul ignore next */\r\n                ex.debug.drawRect(0, 0, this.width, this.height);\r\n            }\r\n            ex.restore();\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Particles.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * An enum that represents the types of emitter nozzles\r\n */\r\nvar EmitterType;\r\n(function (EmitterType) {\r\n    /**\r\n     * Constant for the circular emitter type\r\n     */\r\n    EmitterType[EmitterType[\"Circle\"] = 0] = \"Circle\";\r\n    /**\r\n     * Constant for the rectangular emitter type\r\n     */\r\n    EmitterType[EmitterType[\"Rectangle\"] = 1] = \"Rectangle\";\r\n})(EmitterType || (EmitterType = {}));\r\n/**\r\n * @hidden\r\n */\r\nclass ParticleImpl extends Entity {\r\n    constructor(emitterOrConfig, life, opacity, beginColor, endColor, position, velocity, acceleration, startSize, endSize) {\r\n        super();\r\n        this.position = new Vector(0, 0);\r\n        this.velocity = new Vector(0, 0);\r\n        this.acceleration = new Vector(0, 0);\r\n        this.particleRotationalVelocity = 0;\r\n        this.currentRotation = 0;\r\n        this.focus = null;\r\n        this.focusAccel = 0;\r\n        this.opacity = 1;\r\n        this.beginColor = Color.White;\r\n        this.endColor = Color.White;\r\n        // Life is counted in ms\r\n        this.life = 300;\r\n        this.fadeFlag = false;\r\n        // Color transitions\r\n        this._rRate = 1;\r\n        this._gRate = 1;\r\n        this._bRate = 1;\r\n        this._aRate = 0;\r\n        this._currentColor = Color.White;\r\n        this.emitter = null;\r\n        this.particleSize = 5;\r\n        this.particleSprite = null;\r\n        this.sizeRate = 0;\r\n        this.elapsedMultiplier = 0;\r\n        this.visible = true;\r\n        this.isOffscreen = false;\r\n        let emitter = emitterOrConfig;\r\n        if (emitter && !(emitterOrConfig instanceof ParticleEmitter)) {\r\n            const config = emitterOrConfig;\r\n            emitter = config.emitter;\r\n            life = config.life;\r\n            opacity = config.opacity;\r\n            endColor = config.endColor;\r\n            beginColor = config.beginColor;\r\n            position = config.position;\r\n            velocity = config.velocity;\r\n            acceleration = config.acceleration;\r\n            startSize = config.startSize;\r\n            endSize = config.endSize;\r\n        }\r\n        this.emitter = emitter;\r\n        this.life = life || this.life;\r\n        this.opacity = opacity || this.opacity;\r\n        this.endColor = endColor || this.endColor.clone();\r\n        this.beginColor = beginColor || this.beginColor.clone();\r\n        this._currentColor = this.beginColor.clone();\r\n        this.position = (position || this.position).add(this.emitter.pos);\r\n        this.velocity = velocity || this.velocity;\r\n        this.acceleration = acceleration || this.acceleration;\r\n        this._rRate = (this.endColor.r - this.beginColor.r) / this.life;\r\n        this._gRate = (this.endColor.g - this.beginColor.g) / this.life;\r\n        this._bRate = (this.endColor.b - this.beginColor.b) / this.life;\r\n        this._aRate = this.opacity / this.life;\r\n        this.startSize = startSize || 0;\r\n        this.endSize = endSize || 0;\r\n        if (this.endSize > 0 && this.startSize > 0) {\r\n            this.sizeRate = (this.endSize - this.startSize) / this.life;\r\n            this.particleSize = this.startSize;\r\n        }\r\n        this.addComponent((this.transform = new TransformComponent()));\r\n        this.addComponent(new CanvasDrawComponent((ctx) => this.draw(ctx)));\r\n        this.addComponent((this.graphics = new GraphicsComponent()));\r\n        this.transform.pos = this.position;\r\n        this.transform.rotation = this.currentRotation;\r\n        this.transform.scale = vec(1, 1); // TODO wut\r\n        if (this.particleSprite) {\r\n            this.graphics.opacity = this.opacity;\r\n            this.graphics.use(Sprite.fromLegacySprite(this.particleSprite));\r\n        }\r\n        else {\r\n            this.graphics.onPostDraw = (ctx) => {\r\n                ctx.save();\r\n                this.graphics.opacity = this.opacity;\r\n                const tmpColor = this._currentColor.clone();\r\n                tmpColor.a = 1;\r\n                ctx.debug.drawPoint(vec(0, 0), { color: tmpColor, size: this.particleSize });\r\n                ctx.restore();\r\n            };\r\n        }\r\n    }\r\n    kill() {\r\n        this.emitter.removeParticle(this);\r\n    }\r\n    update(_engine, delta) {\r\n        this.life = this.life - delta;\r\n        this.elapsedMultiplier = this.elapsedMultiplier + delta;\r\n        if (this.life < 0) {\r\n            this.kill();\r\n        }\r\n        if (this.fadeFlag) {\r\n            this.opacity = clamp(this._aRate * this.life, 0.0001, 1);\r\n        }\r\n        if (this.startSize > 0 && this.endSize > 0) {\r\n            this.particleSize = clamp(this.sizeRate * delta + this.particleSize, Math.min(this.startSize, this.endSize), Math.max(this.startSize, this.endSize));\r\n        }\r\n        this._currentColor.r = clamp(this._currentColor.r + this._rRate * delta, 0, 255);\r\n        this._currentColor.g = clamp(this._currentColor.g + this._gRate * delta, 0, 255);\r\n        this._currentColor.b = clamp(this._currentColor.b + this._bRate * delta, 0, 255);\r\n        this._currentColor.a = clamp(this.opacity, 0.0001, 1);\r\n        if (this.focus) {\r\n            const accel = this.focus\r\n                .sub(this.position)\r\n                .normalize()\r\n                .scale(this.focusAccel)\r\n                .scale(delta / 1000);\r\n            this.velocity = this.velocity.add(accel);\r\n        }\r\n        else {\r\n            this.velocity = this.velocity.add(this.acceleration.scale(delta / 1000));\r\n        }\r\n        this.position = this.position.add(this.velocity.scale(delta / 1000));\r\n        if (this.particleRotationalVelocity) {\r\n            this.currentRotation = (this.currentRotation + (this.particleRotationalVelocity * delta) / 1000) % (2 * Math.PI);\r\n        }\r\n        this.transform.pos = this.position;\r\n        this.transform.rotation = this.currentRotation;\r\n        this.transform.scale = vec(1, 1); // todo wut\r\n        this.graphics.opacity = this.opacity;\r\n    }\r\n    draw(ctx) {\r\n        if (this.particleSprite) {\r\n            this.particleSprite.opacity(this.opacity);\r\n            this.particleSprite.draw(ctx, 0, 0);\r\n            return;\r\n        }\r\n        ctx.save();\r\n        this._currentColor.a = clamp(this.opacity, 0.0001, 1);\r\n        ctx.fillStyle = this._currentColor.toString();\r\n        ctx.beginPath();\r\n        ctx.arc(0, 0, this.particleSize, 0, Math.PI * 2);\r\n        ctx.fill();\r\n        ctx.closePath();\r\n        ctx.restore();\r\n    }\r\n}\r\n/**\r\n * Particle is used in a [[ParticleEmitter]]\r\n */\r\nclass Particle extends Configurable(ParticleImpl) {\r\n    constructor(emitterOrConfig, life, opacity, beginColor, endColor, position, velocity, acceleration, startSize, endSize) {\r\n        super(emitterOrConfig, life, opacity, beginColor, endColor, position, velocity, acceleration, startSize, endSize);\r\n    }\r\n}\r\n/**\r\n * Using a particle emitter is a great way to create interesting effects\r\n * in your game, like smoke, fire, water, explosions, etc. `ParticleEmitter`\r\n * extend [[Actor]] allowing you to use all of the features that come with.\r\n */\r\nclass ParticleEmitter extends Actor {\r\n    /**\r\n     * @param config particle emitter options bag\r\n     */\r\n    constructor(config) {\r\n        var _a, _b;\r\n        super({ width: (_a = config.width) !== null && _a !== void 0 ? _a : 0, height: (_b = config.height) !== null && _b !== void 0 ? _b : 0 });\r\n        this._particlesToEmit = 0;\r\n        this.numParticles = 0;\r\n        /**\r\n         * Gets or sets the isEmitting flag\r\n         */\r\n        this.isEmitting = true;\r\n        /**\r\n         * Gets or sets the backing particle collection\r\n         */\r\n        this.particles = [];\r\n        /**\r\n         * Gets or sets the backing deadParticle collection\r\n         */\r\n        this.deadParticles = [];\r\n        /**\r\n         * Gets or sets the minimum particle velocity\r\n         */\r\n        this.minVel = 0;\r\n        /**\r\n         * Gets or sets the maximum particle velocity\r\n         */\r\n        this.maxVel = 0;\r\n        /**\r\n         * Gets or sets the acceleration vector for all particles\r\n         */\r\n        this.acceleration = new Vector(0, 0);\r\n        /**\r\n         * Gets or sets the minimum angle in radians\r\n         */\r\n        this.minAngle = 0;\r\n        /**\r\n         * Gets or sets the maximum angle in radians\r\n         */\r\n        this.maxAngle = 0;\r\n        /**\r\n         * Gets or sets the emission rate for particles (particles/sec)\r\n         */\r\n        this.emitRate = 1; //particles/sec\r\n        /**\r\n         * Gets or sets the life of each particle in milliseconds\r\n         */\r\n        this.particleLife = 2000;\r\n        /**\r\n         * Gets or sets the fade flag which causes particles to gradually fade out over the course of their life.\r\n         */\r\n        this.fadeFlag = false;\r\n        /**\r\n         * Gets or sets the optional focus where all particles should accelerate towards\r\n         */\r\n        this.focus = null;\r\n        /**\r\n         * Gets or sets the acceleration for focusing particles if a focus has been specified\r\n         */\r\n        this.focusAccel = null;\r\n        /**\r\n         * Gets or sets the optional starting size for the particles\r\n         */\r\n        this.startSize = null;\r\n        /**\r\n         * Gets or sets the optional ending size for the particles\r\n         */\r\n        this.endSize = null;\r\n        /**\r\n         * Gets or sets the minimum size of all particles\r\n         */\r\n        this.minSize = 5;\r\n        /**\r\n         * Gets or sets the maximum size of all particles\r\n         */\r\n        this.maxSize = 5;\r\n        /**\r\n         * Gets or sets the beginning color of all particles\r\n         */\r\n        this.beginColor = Color.White;\r\n        /**\r\n         * Gets or sets the ending color of all particles\r\n         */\r\n        this.endColor = Color.White;\r\n        this._og = null;\r\n        this._sprite = null;\r\n        /**\r\n         * Gets or sets the emitter type for the particle emitter\r\n         */\r\n        this.emitterType = EmitterType.Rectangle;\r\n        /**\r\n         * Gets or sets the emitter radius, only takes effect when the [[emitterType]] is [[EmitterType.Circle]]\r\n         */\r\n        this.radius = 0;\r\n        /**\r\n         * Gets or sets the particle rotational speed velocity\r\n         */\r\n        this.particleRotationalVelocity = 0;\r\n        /**\r\n         * Indicates whether particles should start with a random rotation\r\n         */\r\n        this.randomRotation = false;\r\n        const { x, y, pos, isEmitting, minVel, maxVel, acceleration, minAngle, maxAngle, emitRate, particleLife, opacity, fadeFlag, focus, focusAccel, startSize, endSize, minSize, maxSize, beginColor, endColor, particleSprite, emitterType, radius, particleRotationalVelocity, randomRotation, random } = Object.assign({}, config);\r\n        this.pos = pos !== null && pos !== void 0 ? pos : vec(x !== null && x !== void 0 ? x : 0, y !== null && y !== void 0 ? y : 0);\r\n        this.isEmitting = isEmitting !== null && isEmitting !== void 0 ? isEmitting : this.isEmitting;\r\n        this.minVel = minVel !== null && minVel !== void 0 ? minVel : this.minVel;\r\n        this.maxVel = maxVel !== null && maxVel !== void 0 ? maxVel : this.maxVel;\r\n        this.acceleration = acceleration !== null && acceleration !== void 0 ? acceleration : this.acceleration;\r\n        this.minAngle = minAngle !== null && minAngle !== void 0 ? minAngle : this.minAngle;\r\n        this.maxAngle = maxAngle !== null && maxAngle !== void 0 ? maxAngle : this.maxAngle;\r\n        this.emitRate = emitRate !== null && emitRate !== void 0 ? emitRate : this.emitRate;\r\n        this.particleLife = particleLife !== null && particleLife !== void 0 ? particleLife : this.particleLife;\r\n        this.opacity = opacity !== null && opacity !== void 0 ? opacity : this.opacity;\r\n        this.fadeFlag = fadeFlag !== null && fadeFlag !== void 0 ? fadeFlag : this.fadeFlag;\r\n        this.focus = focus !== null && focus !== void 0 ? focus : this.focus;\r\n        this.focusAccel = focusAccel !== null && focusAccel !== void 0 ? focusAccel : this.focusAccel;\r\n        this.startSize = startSize !== null && startSize !== void 0 ? startSize : this.startSize;\r\n        this.endSize = endSize !== null && endSize !== void 0 ? endSize : this.endSize;\r\n        this.minSize = minSize !== null && minSize !== void 0 ? minSize : this.minSize;\r\n        this.maxSize = maxSize !== null && maxSize !== void 0 ? maxSize : this.maxSize;\r\n        this.beginColor = beginColor !== null && beginColor !== void 0 ? beginColor : this.beginColor;\r\n        this.endColor = endColor !== null && endColor !== void 0 ? endColor : this.endColor;\r\n        this.particleSprite = particleSprite !== null && particleSprite !== void 0 ? particleSprite : this.particleSprite;\r\n        this.emitterType = emitterType !== null && emitterType !== void 0 ? emitterType : this.emitterType;\r\n        this.radius = radius !== null && radius !== void 0 ? radius : this.radius;\r\n        this.particleRotationalVelocity = particleRotationalVelocity !== null && particleRotationalVelocity !== void 0 ? particleRotationalVelocity : this.particleRotationalVelocity;\r\n        this.randomRotation = randomRotation !== null && randomRotation !== void 0 ? randomRotation : this.randomRotation;\r\n        this.body.collisionType = CollisionType.PreventCollision;\r\n        this.random = random !== null && random !== void 0 ? random : new Random();\r\n        // Remove offscreen culling from particle emitters\r\n        for (let i = 0; i < this.traits.length; i++) {\r\n            if (this.traits[i] instanceof OffscreenCulling) {\r\n                this.traits.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Gets the opacity of each particle from 0 to 1.0\r\n     */\r\n    get opacity() {\r\n        return super.graphics.opacity;\r\n    }\r\n    /**\r\n     * Gets the opacity of each particle from 0 to 1.0\r\n     */\r\n    set opacity(opacity) {\r\n        super.graphics.opacity = opacity;\r\n    }\r\n    /**\r\n     * Gets or sets the sprite that a particle should use\r\n     */\r\n    get particleSprite() {\r\n        return this._og;\r\n    }\r\n    set particleSprite(val) {\r\n        this._og = val;\r\n        if (val) {\r\n            this._sprite = Sprite.fromLegacySprite(val);\r\n        }\r\n    }\r\n    removeParticle(particle) {\r\n        this.deadParticles.push(particle);\r\n    }\r\n    /**\r\n     * Causes the emitter to emit particles\r\n     * @param particleCount  Number of particles to emit right now\r\n     */\r\n    emitParticles(particleCount) {\r\n        var _a;\r\n        for (let i = 0; i < particleCount; i++) {\r\n            const p = this._createParticle();\r\n            this.particles.push(p);\r\n            if ((_a = this === null || this === void 0 ? void 0 : this.scene) === null || _a === void 0 ? void 0 : _a.world) {\r\n                this.scene.world.add(p);\r\n            }\r\n        }\r\n    }\r\n    clearParticles() {\r\n        this.particles.length = 0;\r\n    }\r\n    // Creates a new particle given the constraints of the emitter\r\n    _createParticle() {\r\n        // todo implement emitter constraints;\r\n        let ranX = 0;\r\n        let ranY = 0;\r\n        const angle = randomInRange(this.minAngle, this.maxAngle, this.random);\r\n        const vel = randomInRange(this.minVel, this.maxVel, this.random);\r\n        const size = this.startSize || randomInRange(this.minSize, this.maxSize, this.random);\r\n        const dx = vel * Math.cos(angle);\r\n        const dy = vel * Math.sin(angle);\r\n        if (this.emitterType === EmitterType.Rectangle) {\r\n            ranX = randomInRange(0, this.width, this.random);\r\n            ranY = randomInRange(0, this.height, this.random);\r\n        }\r\n        else if (this.emitterType === EmitterType.Circle) {\r\n            const radius = randomInRange(0, this.radius, this.random);\r\n            ranX = radius * Math.cos(angle);\r\n            ranY = radius * Math.sin(angle);\r\n        }\r\n        const p = new Particle(this, this.particleLife, this.opacity, this.beginColor, this.endColor, new Vector(ranX, ranY), new Vector(dx, dy), this.acceleration, this.startSize, this.endSize);\r\n        p.fadeFlag = this.fadeFlag;\r\n        p.particleSize = size;\r\n        if (this.particleSprite) {\r\n            p.particleSprite = this.particleSprite;\r\n            p.graphics.opacity = this.opacity;\r\n            p.graphics.use(this._sprite);\r\n        }\r\n        p.particleRotationalVelocity = this.particleRotationalVelocity;\r\n        if (this.randomRotation) {\r\n            p.currentRotation = randomInRange(0, Math.PI * 2, this.random);\r\n        }\r\n        if (this.focus) {\r\n            p.focus = this.focus.add(new Vector(this.pos.x, this.pos.y));\r\n            p.focusAccel = this.focusAccel;\r\n        }\r\n        return p;\r\n    }\r\n    update(engine, delta) {\r\n        var _a;\r\n        super.update(engine, delta);\r\n        if (this.isEmitting) {\r\n            this._particlesToEmit += this.emitRate * (delta / 1000);\r\n            if (this._particlesToEmit > 1.0) {\r\n                this.emitParticles(Math.floor(this._particlesToEmit));\r\n                this._particlesToEmit = this._particlesToEmit - Math.floor(this._particlesToEmit);\r\n            }\r\n        }\r\n        // deferred removal\r\n        for (let i = 0; i < this.deadParticles.length; i++) {\r\n            removeItemFromArray(this.deadParticles[i], this.particles);\r\n            if ((_a = this === null || this === void 0 ? void 0 : this.scene) === null || _a === void 0 ? void 0 : _a.world) {\r\n                this.scene.world.remove(this.deadParticles[i], false);\r\n            }\r\n        }\r\n        this.deadParticles.length = 0;\r\n    }\r\n    draw(ctx) {\r\n        // todo is there a more efficient to draw\r\n        // possibly use a webgl offscreen canvas and shaders to do particles?\r\n        this.particles.forEach((p) => p.draw(ctx));\r\n    }\r\n    debugDraw(ctx) {\r\n        super.debugDraw(ctx);\r\n        ctx.fillStyle = Color.Black.toString();\r\n        ctx.fillText('Particles: ' + this.particles.length, this.pos.x, this.pos.y + 20);\r\n        if (this.focus) {\r\n            ctx.fillRect(this.focus.x + this.pos.x, this.focus.y + this.pos.y, 3, 3);\r\n            line(ctx, Color.Yellow, this.focus.x + this.pos.x, this.focus.y + this.pos.y, this.center.x, this.center.y);\r\n            ctx.fillText('Focus', this.focus.x + this.pos.x, this.focus.y + this.pos.y);\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/GraphicsSystem.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass GraphicsSystem extends System {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.types = ['ex.transform', 'ex.graphics'];\r\n        this.systemType = SystemType.Draw;\r\n        this.priority = 0;\r\n        this._token = 0;\r\n    }\r\n    initialize(scene) {\r\n        this._graphicsContext = scene.engine.graphicsContext;\r\n        this._camera = scene.camera;\r\n        this._engine = scene.engine;\r\n    }\r\n    sort(a, b) {\r\n        return a.get(TransformComponent).z - b.get(TransformComponent).z;\r\n    }\r\n    update(entities, delta) {\r\n        this._clearScreen();\r\n        this._token++;\r\n        let transform;\r\n        let graphics;\r\n        for (const entity of entities) {\r\n            transform = entity.get(TransformComponent);\r\n            graphics = entity.get(GraphicsComponent);\r\n            // Figure out if entities are offscreen\r\n            const entityOffscreen = this._isOffscreen(transform, graphics);\r\n            if (entityOffscreen && !entity.hasTag('offscreen')) {\r\n                entity.eventDispatcher.emit('exitviewport', new ExitViewPortEvent(entity));\r\n                entity.addComponent(new TagComponent('offscreen'));\r\n            }\r\n            if (!entityOffscreen && entity.hasTag('offscreen')) {\r\n                entity.eventDispatcher.emit('enterviewport', new EnterViewPortEvent(entity));\r\n                entity.removeComponent('offscreen');\r\n            }\r\n            // Skip entities that have graphics offscreen\r\n            if (entityOffscreen) {\r\n                continue;\r\n            }\r\n            // This optionally sets our camera based on the entity coord plan (world vs. screen)\r\n            this._pushCameraTransform(transform);\r\n            this._graphicsContext.save();\r\n            // Tick any graphics state (but only once) for animations and graphics groups\r\n            graphics.update(delta, this._token);\r\n            // Position the entity\r\n            this._applyTransform(entity);\r\n            // Optionally run the onPreDraw graphics lifecycle draw\r\n            if (graphics.onPreDraw) {\r\n                graphics.onPreDraw(this._graphicsContext, delta);\r\n            }\r\n            // TODO remove this hack on the particle redo\r\n            const particleOpacity = (entity instanceof Particle) ? entity.opacity : 1;\r\n            this._graphicsContext.opacity = graphics.opacity * particleOpacity;\r\n            // Draw the graphics component\r\n            this._drawGraphicsComponent(graphics);\r\n            // Optionally run the onPostDraw graphics lifecycle draw\r\n            if (graphics.onPostDraw) {\r\n                graphics.onPostDraw(this._graphicsContext, delta);\r\n            }\r\n            this._graphicsContext.restore();\r\n            // Reset the transform back to the original\r\n            this._popCameraTransform(transform);\r\n        }\r\n        this._graphicsContext.flush();\r\n        this._engine.stats.currFrame.graphics.drawnImages = GraphicsDiagnostics.DrawnImagesCount;\r\n        this._engine.stats.currFrame.graphics.drawCalls = GraphicsDiagnostics.DrawCallCount;\r\n    }\r\n    _clearScreen() {\r\n        this._graphicsContext.clear();\r\n    }\r\n    _isOffscreen(transform, graphics) {\r\n        if (transform.coordPlane === CoordPlane.World) {\r\n            const graphicsOffscreen = !this._camera.viewport.intersect(graphics.localBounds.transform(transform.getGlobalMatrix()));\r\n            return graphicsOffscreen;\r\n        }\r\n        else {\r\n            // TODO sceen coordinates\r\n            return false;\r\n        }\r\n    }\r\n    _drawGraphicsComponent(graphicsComponent) {\r\n        var _a, _b;\r\n        if (graphicsComponent.visible) {\r\n            // this should be moved to the graphics system\r\n            for (const layer of graphicsComponent.layers.get()) {\r\n                for (const { graphic, options } of layer.graphics) {\r\n                    let anchor = graphicsComponent.anchor;\r\n                    let offset = graphicsComponent.offset;\r\n                    if (options === null || options === void 0 ? void 0 : options.anchor) {\r\n                        anchor = options.anchor;\r\n                    }\r\n                    if (options === null || options === void 0 ? void 0 : options.offset) {\r\n                        offset = options.offset;\r\n                    }\r\n                    // See https://github.com/excaliburjs/Excalibur/pull/619 for discussion on this formula\r\n                    const offsetX = -graphic.width * anchor.x + offset.x;\r\n                    const offsetY = -graphic.height * anchor.y + offset.y;\r\n                    graphic === null || graphic === void 0 ? void 0 : graphic.draw(this._graphicsContext, offsetX + layer.offset.x, offsetY + layer.offset.y);\r\n                    if (((_a = this._engine) === null || _a === void 0 ? void 0 : _a.isDebug) && this._engine.debug.graphics.showBounds) {\r\n                        const offset = vec(offsetX + layer.offset.x, offsetY + layer.offset.y);\r\n                        if (graphic instanceof GraphicsGroup) {\r\n                            for (const g of graphic.members) {\r\n                                (_b = g.graphic) === null || _b === void 0 ? void 0 : _b.localBounds.translate(offset.add(g.pos)).draw(this._graphicsContext, this._engine.debug.graphics.boundsColor);\r\n                            }\r\n                        }\r\n                        else {\r\n                            /* istanbul ignore next */\r\n                            graphic === null || graphic === void 0 ? void 0 : graphic.localBounds.translate(offset).draw(this._graphicsContext, this._engine.debug.graphics.boundsColor);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * This applies the current entity transform to the graphics context\r\n     * @param entity\r\n     */\r\n    _applyTransform(entity) {\r\n        const ancestors = entity.getAncestors();\r\n        for (const ancestor of ancestors) {\r\n            const transform = ancestor === null || ancestor === void 0 ? void 0 : ancestor.get(TransformComponent);\r\n            if (transform) {\r\n                this._graphicsContext.translate(transform.pos.x, transform.pos.y);\r\n                this._graphicsContext.scale(transform.scale.x, transform.scale.y);\r\n                this._graphicsContext.rotate(transform.rotation);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Applies the current camera transform if in world coordinates\r\n     * @param transform\r\n     */\r\n    _pushCameraTransform(transform) {\r\n        // Establish camera offset per entity\r\n        if (transform.coordPlane === CoordPlane.World) {\r\n            this._graphicsContext.save();\r\n            if (this._camera) {\r\n                this._camera.draw(this._graphicsContext);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Resets the current camera transform if in world coordinates\r\n     * @param transform\r\n     */\r\n    _popCameraTransform(transform) {\r\n        if (transform.coordPlane === CoordPlane.World) {\r\n            // Apply camera world offset\r\n            this._graphicsContext.restore();\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Drawing/CanvasDrawingSystem.ts\n\r\n\r\n\r\n\r\n/**\r\n * Draws anything with a transform and a \"draw\" method\r\n * @deprecated Shim for canvas drawing, will be removed v0.26.0\r\n */\r\nclass CanvasDrawingSystem extends System {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.types = ['ex.transform', 'ex.canvas'];\r\n        this.systemType = SystemType.Draw;\r\n        this.priority = -1;\r\n    }\r\n    initialize(scene) {\r\n        this._ctx = scene.engine.ctx;\r\n        this._engine = scene.engine;\r\n        this._camera = scene.camera;\r\n    }\r\n    sort(a, b) {\r\n        return a.get(TransformComponent).z - b.get(TransformComponent).z;\r\n    }\r\n    update(entities, delta) {\r\n        var _a, _b, _c;\r\n        this._clearScreen();\r\n        let transform;\r\n        let canvasdraw;\r\n        const length = entities.length;\r\n        for (let i = 0; i < length; i++) {\r\n            const visible = (_c = (_b = (_a = entities[i]) === null || _a === void 0 ? void 0 : _a.graphics) === null || _b === void 0 ? void 0 : _b.visible) !== null && _c !== void 0 ? _c : true;\r\n            const offscreen = entities[i].isOffScreen;\r\n            if (visible && !offscreen) {\r\n                transform = entities[i].get(TransformComponent);\r\n                canvasdraw = entities[i].get(CanvasDrawComponent);\r\n                this._ctx.save();\r\n                this._pushCameraTransform(transform);\r\n                this._ctx.save();\r\n                this._applyTransform(entities[i]);\r\n                canvasdraw.draw(this._ctx, delta);\r\n                this._ctx.restore();\r\n                this._popCameraTransform(transform);\r\n                this._ctx.restore();\r\n            }\r\n            if (this._engine.isDebug) {\r\n                this._ctx.save();\r\n                this._pushCameraTransform(transform);\r\n                this._ctx.strokeStyle = 'yellow';\r\n                entities[i].debugDraw(this._ctx);\r\n                this._popCameraTransform(transform);\r\n                this._ctx.restore();\r\n            }\r\n        }\r\n        if (this._engine.isDebug) {\r\n            this._ctx.save();\r\n            this._camera.draw(this._ctx);\r\n            this._camera.debugDraw(this._ctx);\r\n            this._ctx.restore();\r\n        }\r\n        this._engine.stats.currFrame.graphics.drawnImages = GraphicsDiagnostics.DrawnImagesCount;\r\n        this._engine.stats.currFrame.graphics.drawCalls = GraphicsDiagnostics.DrawCallCount;\r\n    }\r\n    _applyTransform(entity) {\r\n        const ancestors = entity.getAncestors();\r\n        for (const ancestor of ancestors) {\r\n            const transform = ancestor === null || ancestor === void 0 ? void 0 : ancestor.get(TransformComponent);\r\n            if (transform) {\r\n                this._ctx.translate(transform.pos.x, transform.pos.y);\r\n                this._ctx.rotate(transform.rotation);\r\n                this._ctx.scale(transform.scale.x, transform.scale.y);\r\n            }\r\n        }\r\n    }\r\n    _clearScreen() {\r\n        this._ctx.clearRect(0, 0, this._ctx.canvas.width, this._ctx.canvas.height);\r\n        this._ctx.fillStyle = this._engine.backgroundColor.toString();\r\n        this._ctx.fillRect(0, 0, this._ctx.canvas.width, this._ctx.canvas.height);\r\n    }\r\n    _pushCameraTransform(transform) {\r\n        if (transform.coordPlane === CoordPlane.World) {\r\n            // Apply camera transform to place entity in world space\r\n            this._ctx.save();\r\n            if (this._camera) {\r\n                this._camera.draw(this._ctx);\r\n            }\r\n        }\r\n    }\r\n    _popCameraTransform(transform) {\r\n        if (transform.coordPlane === CoordPlane.World) {\r\n            // Restore back to screen space from world space if we were drawing an entity there\r\n            this._ctx.restore();\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Debug/DebugSystem.ts\n\r\n\r\n\r\n\r\n\r\n\r\nclass DebugSystem extends System {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.types = ['ex.transform'];\r\n        this.systemType = SystemType.Draw;\r\n        this.priority = 999; // lowest priority\r\n    }\r\n    initialize(scene) {\r\n        this._graphicsContext = scene.engine.graphicsContext;\r\n        this._camera = scene.camera;\r\n        this._engine = scene.engine;\r\n        this._collisionSystem = scene.world.systemManager.get(CollisionSystem);\r\n    }\r\n    update(entities, _delta) {\r\n        var _a, _b;\r\n        if (!this._engine.isDebug) {\r\n            return;\r\n        }\r\n        const filterSettings = this._engine.debug.filter;\r\n        let id;\r\n        let name;\r\n        const entitySettings = this._engine.debug.entity;\r\n        let tx;\r\n        const txSettings = this._engine.debug.transform;\r\n        let motion;\r\n        const motionSettings = this._engine.debug.motion;\r\n        let colliderComp;\r\n        const colliderSettings = this._engine.debug.collider;\r\n        const physicsSettings = this._engine.debug.physics;\r\n        let graphics;\r\n        const graphicsSettings = this._engine.debug.graphics;\r\n        let body;\r\n        const bodySettings = this._engine.debug.body;\r\n        const cameraSettings = this._engine.debug.camera;\r\n        for (const entity of entities) {\r\n            if (entity.hasTag('offscreen')) {\r\n                // skip offscreen entities\r\n                continue;\r\n            }\r\n            if (entity instanceof Particle) {\r\n                // Particles crush the renderer :(\r\n                continue;\r\n            }\r\n            if (filterSettings.useFilter) {\r\n                const allIds = filterSettings.ids.length === 0;\r\n                const idMatch = allIds || filterSettings.ids.includes(entity.id);\r\n                if (!idMatch) {\r\n                    continue;\r\n                }\r\n                const allNames = filterSettings.nameQuery === '';\r\n                const nameMatch = allNames || entity.name.includes(filterSettings.nameQuery);\r\n                if (!nameMatch) {\r\n                    continue;\r\n                }\r\n            }\r\n            let cursor = Vector.Zero;\r\n            const lineHeight = vec(0, 16);\r\n            id = entity.id;\r\n            name = entity.name;\r\n            tx = entity.get(TransformComponent);\r\n            // This optionally sets our camera based on the entity coord plan (world vs. screen)\r\n            this._pushCameraTransform(tx);\r\n            this._graphicsContext.save();\r\n            this._applyTransform(entity);\r\n            if (tx) {\r\n                if (txSettings.showAll || txSettings.showPosition) {\r\n                    this._graphicsContext.debug.drawPoint(Vector.Zero, { size: 2, color: txSettings.positionColor });\r\n                    this._graphicsContext.debug.drawText(`pos${tx.pos.toString(2)}`, cursor);\r\n                    cursor = cursor.add(lineHeight);\r\n                }\r\n                if (entitySettings.showAll || entitySettings.showId) {\r\n                    this._graphicsContext.debug.drawText(`id(${id}) ${tx.parent ? 'child of id(' + ((_b = (_a = tx.parent) === null || _a === void 0 ? void 0 : _a.owner) === null || _b === void 0 ? void 0 : _b.id) + ')' : ''}`, cursor);\r\n                    cursor = cursor.add(lineHeight);\r\n                }\r\n                if (entitySettings.showAll || entitySettings.showName) {\r\n                    this._graphicsContext.debug.drawText(`name(${name})`, cursor);\r\n                    cursor = cursor.add(lineHeight);\r\n                }\r\n                if (txSettings.showAll || txSettings.showRotation) {\r\n                    this._graphicsContext.drawLine(Vector.Zero, Vector.fromAngle(tx.rotation).scale(50).add(Vector.Zero), txSettings.rotationColor, 2);\r\n                    this._graphicsContext.debug.drawText(`rot deg(${toDegrees(tx.rotation).toFixed(2)})`, cursor);\r\n                    cursor = cursor.add(lineHeight);\r\n                }\r\n                if (txSettings.showAll || txSettings.showScale) {\r\n                    this._graphicsContext.drawLine(Vector.Zero, tx.scale.add(Vector.Zero), txSettings.scaleColor, 2);\r\n                }\r\n            }\r\n            graphics = entity.get(GraphicsComponent);\r\n            if (graphics) {\r\n                if (graphicsSettings.showAll || graphicsSettings.showBounds) {\r\n                    const bounds = graphics.localBounds;\r\n                    bounds.draw(this._graphicsContext, graphicsSettings.boundsColor);\r\n                }\r\n            }\r\n            body = entity.get(BodyComponent);\r\n            if (body) {\r\n                if (bodySettings.showAll || bodySettings.showCollisionGroup) {\r\n                    this._graphicsContext.debug.drawText(`collision group(${body.group.name})`, cursor);\r\n                    cursor = cursor.add(lineHeight);\r\n                }\r\n                if (bodySettings.showAll || bodySettings.showCollisionType) {\r\n                    this._graphicsContext.debug.drawText(`collision type(${body.collisionType})`, cursor);\r\n                    cursor = cursor.add(lineHeight);\r\n                }\r\n                if (bodySettings.showAll || bodySettings.showMass) {\r\n                    this._graphicsContext.debug.drawText(`mass(${body.mass})`, cursor);\r\n                    cursor = cursor.add(lineHeight);\r\n                }\r\n                if (bodySettings.showAll || bodySettings.showMotion) {\r\n                    this._graphicsContext.debug.drawText(`motion(${body.sleepMotion})`, cursor);\r\n                    cursor = cursor.add(lineHeight);\r\n                }\r\n                if (bodySettings.showAll || bodySettings.showSleeping) {\r\n                    this._graphicsContext.debug.drawText(`sleeping(${body.canSleep ? body.sleeping : 'cant sleep'})`, cursor);\r\n                    cursor = cursor.add(lineHeight);\r\n                }\r\n            }\r\n            this._graphicsContext.restore();\r\n            motion = entity.get(MotionComponent);\r\n            if (motion) {\r\n                if (motionSettings.showAll || motionSettings.showVelocity) {\r\n                    this._graphicsContext.debug.drawText(`vel${motion.vel.toString(2)}`, cursor.add(tx.globalPos));\r\n                    this._graphicsContext.drawLine(tx.globalPos, tx.globalPos.add(motion.vel), motionSettings.velocityColor, 2);\r\n                    cursor = cursor.add(lineHeight);\r\n                }\r\n                if (motionSettings.showAll || motionSettings.showAcceleration) {\r\n                    this._graphicsContext.drawLine(tx.globalPos, tx.globalPos.add(motion.acc), motionSettings.accelerationColor, 2);\r\n                }\r\n            }\r\n            // Colliders live in world space already so after the restore()\r\n            colliderComp = entity.get(ColliderComponent);\r\n            if (colliderComp) {\r\n                const collider = colliderComp.get();\r\n                if ((colliderSettings.showAll || colliderSettings.showGeometry) && collider) {\r\n                    collider.debug(this._graphicsContext, colliderSettings.geometryColor);\r\n                }\r\n                if (colliderSettings.showAll || colliderSettings.showBounds) {\r\n                    if (collider instanceof CompositeCollider) {\r\n                        const colliders = collider.getColliders();\r\n                        for (const collider of colliders) {\r\n                            const bounds = collider.bounds;\r\n                            const pos = vec(bounds.left, bounds.top);\r\n                            this._graphicsContext.debug.drawRect(pos.x, pos.y, bounds.width, bounds.height, { color: colliderSettings.boundsColor });\r\n                            if (colliderSettings.showAll || colliderSettings.showOwner) {\r\n                                this._graphicsContext.debug.drawText(`owner id(${collider.owner.id})`, pos);\r\n                            }\r\n                        }\r\n                        colliderComp.bounds.draw(this._graphicsContext, colliderSettings.boundsColor);\r\n                    }\r\n                    else if (collider) {\r\n                        const bounds = colliderComp.bounds;\r\n                        const pos = vec(bounds.left, bounds.top);\r\n                        this._graphicsContext.debug.drawRect(pos.x, pos.y, bounds.width, bounds.height, { color: colliderSettings.boundsColor });\r\n                        if (colliderSettings.showAll || colliderSettings.showOwner) {\r\n                            this._graphicsContext.debug.drawText(`owner id(${colliderComp.owner.id})`, pos);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._popCameraTransform(tx);\r\n        }\r\n        this._graphicsContext.save();\r\n        this._camera.draw(this._graphicsContext);\r\n        if (physicsSettings.showAll || physicsSettings.showBroadphaseSpacePartitionDebug) {\r\n            this._collisionSystem.debug(this._graphicsContext);\r\n        }\r\n        if (physicsSettings.showAll || physicsSettings.showCollisionContacts || physicsSettings.showCollisionNormals) {\r\n            for (const [_, contact] of this._engine.debug.stats.currFrame.physics.contacts) {\r\n                if (physicsSettings.showAll || physicsSettings.showCollisionContacts) {\r\n                    for (const point of contact.points) {\r\n                        this._graphicsContext.debug.drawPoint(point, { size: 5, color: physicsSettings.collisionContactColor });\r\n                    }\r\n                }\r\n                if (physicsSettings.showAll || physicsSettings.showCollisionNormals) {\r\n                    for (const point of contact.points) {\r\n                        this._graphicsContext.debug.drawLine(point, contact.normal.scale(30).add(point), {\r\n                            color: physicsSettings.collisionNormalColor\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._graphicsContext.restore();\r\n        if (cameraSettings) {\r\n            this._graphicsContext.save();\r\n            this._camera.draw(this._graphicsContext);\r\n            if (cameraSettings.showAll || cameraSettings.showFocus) {\r\n                this._graphicsContext.drawCircle(this._camera.pos, 4, cameraSettings.focusColor);\r\n            }\r\n            if (cameraSettings.showAll || cameraSettings.showZoom) {\r\n                this._graphicsContext.debug.drawText(`zoom(${this._camera.zoom})`, this._camera.pos);\r\n            }\r\n            this._graphicsContext.restore();\r\n        }\r\n        this._graphicsContext.flush();\r\n    }\r\n    /**\r\n     * This applies the current entity transform to the graphics context\r\n     * @param entity\r\n     */\r\n    _applyTransform(entity) {\r\n        const ancestors = entity.getAncestors();\r\n        for (const ancestor of ancestors) {\r\n            const transform = ancestor === null || ancestor === void 0 ? void 0 : ancestor.get(TransformComponent);\r\n            if (transform) {\r\n                this._graphicsContext.translate(transform.pos.x, transform.pos.y);\r\n                this._graphicsContext.scale(transform.scale.x, transform.scale.y);\r\n                this._graphicsContext.rotate(transform.rotation);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Applies the current camera transform if in world coordinates\r\n     * @param transform\r\n     */\r\n    _pushCameraTransform(transform) {\r\n        // Establish camera offset per entity\r\n        if (transform.coordPlane === CoordPlane.World) {\r\n            this._graphicsContext.save();\r\n            if (this._camera) {\r\n                this._camera.draw(this._graphicsContext);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Resets the current camera transform if in world coordinates\r\n     * @param transform\r\n     */\r\n    _popCameraTransform(transform) {\r\n        if (transform.coordPlane === CoordPlane.World) {\r\n            // Apply camera world offset\r\n            this._graphicsContext.restore();\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Actions/ActionsSystem.ts\n\r\n\r\nclass ActionsSystem extends System {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.types = ['ex.actions'];\r\n        this.systemType = SystemType.Update;\r\n        this.priority = -1;\r\n    }\r\n    update(entities, delta) {\r\n        let actions;\r\n        for (const entity of entities) {\r\n            actions = entity.get(ActionsComponent);\r\n            actions.update(delta);\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Scene.ts\nvar Scene_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * [[Actor|Actors]] are composed together into groupings called Scenes in\r\n * Excalibur. The metaphor models the same idea behind real world\r\n * actors in a scene. Only actors in scenes will be updated and drawn.\r\n *\r\n * Typical usages of a scene include: levels, menus, loading screens, etc.\r\n */\r\nclass Scene extends Class {\r\n    constructor() {\r\n        super();\r\n        this._logger = Logger.getInstance();\r\n        /**\r\n         * Gets or sets the current camera for the scene\r\n         */\r\n        this.camera = new Camera();\r\n        /**\r\n         * The ECS world for the scene\r\n         */\r\n        this.world = new World(this);\r\n        this._isInitialized = false;\r\n        this._timers = [];\r\n        this._cancelQueue = [];\r\n        // TODO how to people do there own systems\r\n        // Initialize systems\r\n        this.world.add(new ActionsSystem());\r\n        this.world.add(new MotionSystem());\r\n        this.world.add(new CollisionSystem());\r\n        if (Flags.isEnabled(Legacy.LegacyDrawing)) {\r\n            this.world.add(new CanvasDrawingSystem());\r\n        }\r\n        else {\r\n            this.world.add(new GraphicsSystem());\r\n        }\r\n        this.world.add(new DebugSystem());\r\n    }\r\n    /**\r\n     * The actors in the current scene\r\n     */\r\n    get actors() {\r\n        return this.world.entityManager.entities.filter((e) => {\r\n            return e instanceof Actor;\r\n        });\r\n    }\r\n    /**\r\n     * The entities in the current scene\r\n     */\r\n    get entities() {\r\n        return this.world.entityManager.entities;\r\n    }\r\n    /**\r\n     * The triggers in the current scene\r\n     */\r\n    get triggers() {\r\n        return this.world.entityManager.entities.filter((e) => {\r\n            return e instanceof Trigger_Trigger;\r\n        });\r\n    }\r\n    /**\r\n     * The [[TileMap]]s in the scene, if any\r\n     */\r\n    get tileMaps() {\r\n        return this.world.entityManager.entities.filter((e) => {\r\n            return e instanceof TileMap;\r\n        });\r\n    }\r\n    /**\r\n     * The [[ScreenElement]]s in a scene, if any; these are drawn last\r\n     * @deprecated Use [[Scene.actors]]\r\n     */\r\n    get screenElements() {\r\n        return this.actors.filter((a) => a instanceof ScreenElement_ScreenElement);\r\n    }\r\n    on(eventName, handler) {\r\n        super.on(eventName, handler);\r\n    }\r\n    once(eventName, handler) {\r\n        super.once(eventName, handler);\r\n    }\r\n    off(eventName, handler) {\r\n        super.off(eventName, handler);\r\n    }\r\n    /**\r\n     * This is called before the first update of the [[Scene]]. Initializes scene members like the camera. This method is meant to be\r\n     * overridden. This is where initialization of child actors should take place.\r\n     */\r\n    onInitialize(_engine) {\r\n        // will be overridden\r\n    }\r\n    /**\r\n     * This is called when the scene is made active and started. It is meant to be overridden,\r\n     * this is where you should setup any DOM UI or event handlers needed for the scene.\r\n     */\r\n    onActivate(_oldScene, _newScene) {\r\n        // will be overridden\r\n    }\r\n    /**\r\n     * This is called when the scene is made transitioned away from and stopped. It is meant to be overridden,\r\n     * this is where you should cleanup any DOM UI or event handlers needed for the scene.\r\n     */\r\n    onDeactivate(_oldScene, _newScene) {\r\n        // will be overridden\r\n    }\r\n    /**\r\n     * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\r\n     *\r\n     * `onPreUpdate` is called directly before a scene is updated.\r\n     */\r\n    onPreUpdate(_engine, _delta) {\r\n        // will be overridden\r\n    }\r\n    /**\r\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\r\n     *\r\n     * `onPostUpdate` is called directly after a scene is updated.\r\n     */\r\n    onPostUpdate(_engine, _delta) {\r\n        // will be overridden\r\n    }\r\n    /**\r\n     * Safe to override onPreDraw lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\r\n     *\r\n     * `onPreDraw` is called directly before a scene is drawn.\r\n     */\r\n    onPreDraw(_ctx, _delta) {\r\n        // will be overridden\r\n    }\r\n    /**\r\n     * Safe to override onPostDraw lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\r\n     *\r\n     * `onPostDraw` is called directly after a scene is drawn.\r\n     */\r\n    onPostDraw(_ctx, _delta) {\r\n        // will be overridden\r\n    }\r\n    /**\r\n     * Initializes actors in the scene\r\n     */\r\n    _initializeChildren() {\r\n        for (const child of this.entities) {\r\n            child._initialize(this.engine);\r\n        }\r\n    }\r\n    /**\r\n     * Gets whether or not the [[Scene]] has been initialized\r\n     */\r\n    get isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Initializes the scene before the first update, meant to be called by engine not by users of\r\n     * Excalibur\r\n     * @internal\r\n     */\r\n    _initialize(engine) {\r\n        if (!this.isInitialized) {\r\n            this.engine = engine;\r\n            // Initialize camera first\r\n            this.camera._initialize(engine);\r\n            // This order is important! we want to be sure any custom init that add actors\r\n            // fire before the actor init\r\n            this.onInitialize.call(this, engine);\r\n            this._initializeChildren();\r\n            this._logger.debug('Scene.onInitialize', this, engine);\r\n            this.eventDispatcher.emit('initialize', new InitializeEvent(engine, this));\r\n            this._isInitialized = true;\r\n        }\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Activates the scene with the base behavior, then calls the overridable `onActivate` implementation.\r\n     * @internal\r\n     */\r\n    _activate(oldScene, newScene) {\r\n        this._logger.debug('Scene.onActivate', this);\r\n        this.onActivate(oldScene, newScene);\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Deactivates the scene with the base behavior, then calls the overridable `onDeactivate` implementation.\r\n     * @internal\r\n     */\r\n    _deactivate(oldScene, newScene) {\r\n        this._logger.debug('Scene.onDeactivate', this);\r\n        this.onDeactivate(oldScene, newScene);\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\r\n     * @internal\r\n     */\r\n    _preupdate(_engine, delta) {\r\n        this.emit('preupdate', new PreUpdateEvent(_engine, delta, this));\r\n        this.onPreUpdate(_engine, delta);\r\n    }\r\n    /**\r\n     *  It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\r\n     * @internal\r\n     */\r\n    _postupdate(_engine, delta) {\r\n        this.emit('postupdate', new PostUpdateEvent(_engine, delta, this));\r\n        this.onPostUpdate(_engine, delta);\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Internal _predraw handler for [[onPreDraw]] lifecycle event\r\n     *\r\n     * @internal\r\n     */\r\n    _predraw(_ctx, _delta) {\r\n        this.emit('predraw', new PreDrawEvent(_ctx, _delta, this));\r\n        this.onPreDraw(_ctx, _delta);\r\n    }\r\n    /**\r\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\r\n     *\r\n     * Internal _postdraw handler for [[onPostDraw]] lifecycle event\r\n     *\r\n     * @internal\r\n     */\r\n    _postdraw(_ctx, _delta) {\r\n        this.emit('postdraw', new PostDrawEvent(_ctx, _delta, this));\r\n        this.onPostDraw(_ctx, _delta);\r\n    }\r\n    /**\r\n     * Updates all the actors and timers in the scene. Called by the [[Engine]].\r\n     * @param engine  Reference to the current Engine\r\n     * @param delta   The number of milliseconds since the last update\r\n     */\r\n    update(engine, delta) {\r\n        this._preupdate(engine, delta);\r\n        if (this.camera) {\r\n            this.camera.update(engine, delta);\r\n        }\r\n        // TODO differed entity removal for timers\r\n        let i, len;\r\n        // Remove timers in the cancel queue before updating them\r\n        for (i = 0, len = this._cancelQueue.length; i < len; i++) {\r\n            this.removeTimer(this._cancelQueue[i]);\r\n        }\r\n        this._cancelQueue.length = 0;\r\n        // Cycle through timers updating timers\r\n        for (const timer of this._timers) {\r\n            timer.update(delta);\r\n        }\r\n        this.world.update(SystemType.Update, delta);\r\n        this._collectActorStats(engine);\r\n        engine.input.pointers.dispatchPointerEvents();\r\n        this._postupdate(engine, delta);\r\n    }\r\n    /**\r\n     * Draws all the actors in the Scene. Called by the [[Engine]].\r\n     * @param ctx    The current rendering context\r\n     * @param delta  The number of milliseconds since the last draw\r\n     */\r\n    draw(ctx, delta) {\r\n        var _a;\r\n        this._predraw(ctx, delta);\r\n        this.world.update(SystemType.Draw, delta);\r\n        if ((_a = this.engine) === null || _a === void 0 ? void 0 : _a.isDebug) {\r\n            this.debugDraw(ctx);\r\n        }\r\n        this._postdraw(ctx, delta);\r\n    }\r\n    /**\r\n     * Draws all the actors' debug information in the Scene. Called by the [[Engine]].\r\n     * @param ctx  The current rendering context\r\n     * @deprecated\r\n     */\r\n    /* istanbul ignore next */\r\n    debugDraw(ctx) {\r\n        this.emit('predebugdraw', new PreDebugDrawEvent(ctx, this));\r\n        // pass\r\n        this.emit('postdebugdraw', new PostDebugDrawEvent(ctx, this));\r\n    }\r\n    /**\r\n     * Checks whether an actor is contained in this scene or not\r\n     */\r\n    contains(actor) {\r\n        return this.actors.indexOf(actor) > -1;\r\n    }\r\n    add(entity) {\r\n        this.emit('entityadded', { target: entity });\r\n        this.world.add(entity);\r\n        entity.scene = this;\r\n        if (entity instanceof Timer) {\r\n            if (!contains(this._timers, entity)) {\r\n                this.addTimer(entity);\r\n            }\r\n            return;\r\n        }\r\n    }\r\n    remove(entity) {\r\n        if (entity instanceof Entity) {\r\n            this.emit('entityremoved', { target: entity });\r\n            this.world.remove(entity);\r\n        }\r\n        if (entity instanceof Timer) {\r\n            this.removeTimer(entity);\r\n        }\r\n    }\r\n    /**\r\n     * Adds (any) actor to act as a piece of UI, meaning it is always positioned\r\n     * in screen coordinates. UI actors do not participate in collisions.\r\n     * @todo Should this be `ScreenElement` only?\r\n     * @deprecated Use [[Scene.add]]\r\n     */\r\n    addScreenElement(actor) {\r\n        this.add(actor);\r\n    }\r\n    /**\r\n     * Removes an actor as a piece of UI\r\n     * @deprecated Use [[Scene.remove]]\r\n     */\r\n    removeScreenElement(actor) {\r\n        this.remove(actor);\r\n    }\r\n    /**\r\n     * Adds a [[TileMap]] to the scene, once this is done the TileMap will be drawn and updated.\r\n     * @deprecated Use [[Scene.add]]\r\n     */\r\n    addTileMap(tileMap) {\r\n        this.world.add(tileMap);\r\n    }\r\n    /**\r\n     * Removes a [[TileMap]] from the scene, it will no longer be drawn or updated.\r\n     * @deprecated Use [[Scene.remove]]\r\n     */\r\n    removeTileMap(tileMap) {\r\n        this.world.remove(tileMap);\r\n    }\r\n    /**\r\n     * Adds a [[Timer]] to the scene\r\n     * @param timer  The timer to add\r\n     */\r\n    addTimer(timer) {\r\n        this._timers.push(timer);\r\n        timer.scene = this;\r\n        return timer;\r\n    }\r\n    /**\r\n     * Removes a [[Timer]] from the scene.\r\n     * @warning Can be dangerous, use [[cancelTimer]] instead\r\n     * @param timer  The timer to remove\r\n     */\r\n    removeTimer(timer) {\r\n        const i = this._timers.indexOf(timer);\r\n        if (i !== -1) {\r\n            this._timers.splice(i, 1);\r\n        }\r\n        return timer;\r\n    }\r\n    /**\r\n     * Cancels a [[Timer]], removing it from the scene nicely\r\n     * @param timer  The timer to cancel\r\n     */\r\n    cancelTimer(timer) {\r\n        this._cancelQueue.push(timer);\r\n        return timer;\r\n    }\r\n    /**\r\n     * Tests whether a [[Timer]] is active in the scene\r\n     */\r\n    isTimerActive(timer) {\r\n        return this._timers.indexOf(timer) > -1 && !timer.complete;\r\n    }\r\n    isCurrentScene() {\r\n        if (this.engine) {\r\n            return this.engine.currentScene === this;\r\n        }\r\n        return false;\r\n    }\r\n    _collectActorStats(engine) {\r\n        const screenElements = this.actors.filter((a) => a instanceof ScreenElement_ScreenElement);\r\n        for (const _ui of screenElements) {\r\n            engine.stats.currFrame.actors.ui++;\r\n        }\r\n        for (const actor of this.actors) {\r\n            engine.stats.currFrame.actors.alive++;\r\n            for (const child of actor.children) {\r\n                if (isScreenElement(child)) {\r\n                    // TODO not true\r\n                    engine.stats.currFrame.actors.ui++;\r\n                }\r\n                else {\r\n                    engine.stats.currFrame.actors.alive++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nScene_decorate([\r\n    obsolete({\r\n        message: 'Will be removed in excalibur v0.26.0',\r\n        alternateMethod: 'ScreenElements now are normal actors with a Transform Coordinate Plane of Screen'\r\n    })\r\n], Scene.prototype, \"screenElements\", null);\r\nScene_decorate([\r\n    obsolete({ message: 'Will be removed in excalibur v0.26.0', alternateMethod: 'Use Scene.add' })\r\n], Scene.prototype, \"addScreenElement\", null);\r\nScene_decorate([\r\n    obsolete({ message: 'Will be removed in excalibur v0.26.0', alternateMethod: 'Use Scene.remove' })\r\n], Scene.prototype, \"removeScreenElement\", null);\r\nScene_decorate([\r\n    obsolete({ message: 'Will be removed in excalibur v0.26.0', alternateMethod: 'Use Scene.add' })\r\n], Scene.prototype, \"addTileMap\", null);\r\nScene_decorate([\r\n    obsolete({ message: 'Will be removed in excalibur v0.26.0', alternateMethod: 'Use Scene.remove' })\r\n], Scene.prototype, \"removeTileMap\", null);\r\n\n;// CONCATENATED MODULE: ./PostProcessing/ColorBlindCorrector.ts\n\r\nvar ColorBlindness;\r\n(function (ColorBlindness) {\r\n    ColorBlindness[ColorBlindness[\"Protanope\"] = 0] = \"Protanope\";\r\n    ColorBlindness[ColorBlindness[\"Deuteranope\"] = 1] = \"Deuteranope\";\r\n    ColorBlindness[ColorBlindness[\"Tritanope\"] = 2] = \"Tritanope\";\r\n})(ColorBlindness || (ColorBlindness = {}));\r\n/**\r\n * This post processor can correct colors and simulate color blindness.\r\n * It is possible to use this on every game, but the game's performance\r\n * will suffer measurably. It's better to use it as a helpful tool while developing your game.\r\n * Remember, the best practice is to design with color blindness in mind.\r\n */\r\nclass ColorBlindCorrector {\r\n    constructor(engine, simulate = false, colorMode = ColorBlindness.Protanope) {\r\n        this.engine = engine;\r\n        this.simulate = simulate;\r\n        this.colorMode = colorMode;\r\n        /*eslint-disable */\r\n        this._vertexShader = '' +\r\n            'attribute vec2 a_position;' +\r\n            'attribute vec2 a_texCoord;' +\r\n            'uniform vec2 u_resolution;' +\r\n            'varying vec2 v_texCoord;' +\r\n            'void main() {' +\r\n            // convert the rectangle from pixels to 0.0 to 1.0\r\n            'vec2 zeroToOne = a_position / u_resolution;' +\r\n            // convert from 0->1 to 0->2\r\n            'vec2 zeroToTwo = zeroToOne * 2.0;' +\r\n            // convert from 0->2 to -1->+1 (clipspace)\r\n            'vec2 clipSpace = zeroToTwo - 1.0;' +\r\n            'gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);' +\r\n            // pass the texCoord to the fragment shader\r\n            // The GPU will interpolate this value between points.\r\n            'v_texCoord = a_texCoord;' +\r\n            '}';\r\n        this._fragmentShader = 'precision mediump float;' +\r\n            // our texture\r\n            'uniform sampler2D u_image;' +\r\n            // the texCoords passed in from the vertex shader.\r\n            'varying vec2 v_texCoord;' +\r\n            // Color blind conversions\r\n            /*'mat3 m[9] =' +\r\n           '{' +\r\n              'mat3(1.0, 0.0, 0.0,  0.0, 1.0, 0.0,  0.0, 0.0, 1.0  ),' + // normal\r\n              'mat3(0.567, 0.433, 0.0,  0.558, 0.442, 0.0,  0.0, 0.242, 0.758),' + // protanopia\r\n              'mat3(0.817, 0.183, 0.0,  0.333, 0.667, 0.0,  0.0, 0.125,0.875),' + // protanomaly\r\n              'mat3(0.625, 0.375, 0.0,  0.7, 0.3, 0.0,  0.0, 0.3,0.7  ),' + // deuteranopia\r\n              'mat3(0.8, 0.2, 0.0,  0.258, 0.742, 0.0,  0.0, 0.142,0.858),' + // deuteranomaly\r\n              'mat3(0.95, 0.05, 0.0,  0.0, 0.433, 0.567,  0.0, 0.475,0.525),' + // tritanopia\r\n              'mat3(0.967, 0.033, 0.0,  0.0, 0.733, 0.267,  0.0, 0.183,0.817),' + // tritanomaly\r\n              'mat3(0.299, 0.587, 0.114,  0.299, 0.587, 0.114,  0.299, 0.587,0.114),' + // achromatopsia\r\n              'mat3(0.618, 0.320, 0.062,  0.163, 0.775, 0.062,  0.163, 0.320,0.516)' +  // achromatomaly\r\n           '};' +*/\r\n            'void main() {' +\r\n            'vec4 o =  texture2D(u_image, v_texCoord);' +\r\n            // RGB to LMS matrix conversion\r\n            'float L = (17.8824 * o.r) + (43.5161 * o.g) + (4.11935 * o.b);' +\r\n            'float M = (3.45565 * o.r) + (27.1554 * o.g) + (3.86714 * o.b);' +\r\n            'float S = (0.0299566 * o.r) + (0.184309 * o.g) + (1.46709 * o.b);' +\r\n            // Simulate color blindness\r\n            '//MODE CODE//' +\r\n            /* Deuteranope for testing\r\n              'float l = 1.0 * L + 0.0 * M + 0.0 * S;' +\r\n                    'float m = 0.494207 * L + 0.0 * M + 1.24827 * S;' +\r\n                    'float s = 0.0 * L + 0.0 * M + 1.0 * S;' +*/\r\n            // LMS to RGB matrix conversion\r\n            'vec4 error;' +\r\n            'error.r = (0.0809444479 * l) + (-0.130504409 * m) + (0.116721066 * s);' +\r\n            'error.g = (-0.0102485335 * l) + (0.0540193266 * m) + (-0.113614708 * s);' +\r\n            'error.b = (-0.000365296938 * l) + (-0.00412161469 * m) + (0.693511405 * s);' +\r\n            'error.a = 1.0;' +\r\n            'vec4 diff = o - error;' +\r\n            'vec4 correction;' +\r\n            'correction.r = 0.0;' +\r\n            'correction.g =  (diff.r * 0.7) + (diff.g * 1.0);' +\r\n            'correction.b =  (diff.r * 0.7) + (diff.b * 1.0);' +\r\n            'correction = o + correction;' +\r\n            'correction.a = o.a;' +\r\n            '//SIMULATE//' +\r\n            '}';\r\n        this._internalCanvas = document.createElement('canvas');\r\n        this._internalCanvas.width = engine.drawWidth;\r\n        this._internalCanvas.height = engine.drawHeight;\r\n        // eslint-disable-next-line\r\n        this._gl = this._internalCanvas.getContext('webgl', { preserveDrawingBuffer: true });\r\n        this._program = this._gl.createProgram();\r\n        const fragmentShader = this._getShader('Fragment', this._getFragmentShaderByMode(colorMode));\r\n        const vertextShader = this._getShader('Vertex', this._vertexShader);\r\n        this._gl.attachShader(this._program, vertextShader);\r\n        this._gl.attachShader(this._program, fragmentShader);\r\n        this._gl.linkProgram(this._program);\r\n        if (!this._gl.getProgramParameter(this._program, this._gl.LINK_STATUS)) {\r\n            Logger.getInstance().error('Unable to link shader program!');\r\n        }\r\n        this._gl.useProgram(this._program);\r\n    }\r\n    _getFragmentShaderByMode(colorMode) {\r\n        let code = '';\r\n        if (colorMode === ColorBlindness.Protanope) {\r\n            code =\r\n                'float l = 0.0 * L + 2.02344 * M + -2.52581 * S;' +\r\n                    'float m = 0.0 * L + 1.0 * M + 0.0 * S;' +\r\n                    'float s = 0.0 * L + 0.0 * M + 1.0 * S;';\r\n        }\r\n        else if (colorMode === ColorBlindness.Deuteranope) {\r\n            code =\r\n                'float l = 1.0 * L + 0.0 * M + 0.0 * S;' +\r\n                    'float m = 0.494207 * L + 0.0 * M + 1.24827 * S;' +\r\n                    'float s = 0.0 * L + 0.0 * M + 1.0 * S;';\r\n        }\r\n        else if (colorMode === ColorBlindness.Tritanope) {\r\n            code =\r\n                'float l = 1.0 * L + 0.0 * M + 0.0 * S;' +\r\n                    'float m = 0.0 * L + 1.0 * M + 0.0 * S;' +\r\n                    'float s = -0.395913 * L + 0.801109 * M + 0.0 * S;';\r\n        }\r\n        if (this.simulate) {\r\n            this._fragmentShader = this._fragmentShader.replace('//SIMULATE//', 'gl_FragColor = error.rgba;');\r\n        }\r\n        else {\r\n            this._fragmentShader = this._fragmentShader.replace('//SIMULATE//', 'gl_FragColor = correction.rgba;');\r\n        }\r\n        return this._fragmentShader.replace('//MODE CODE//', code);\r\n    }\r\n    _setRectangle(x, y, width, height) {\r\n        const x1 = x;\r\n        const x2 = x + width;\r\n        const y1 = y;\r\n        const y2 = y + height;\r\n        this._gl.bufferData(this._gl.ARRAY_BUFFER, new Float32Array([x1, y1, x2, y1, x1, y2, x1, y2, x2, y1, x2, y2]), this._gl.STATIC_DRAW);\r\n    }\r\n    _getShader(type, program) {\r\n        let shader;\r\n        if (type === 'Fragment') {\r\n            shader = this._gl.createShader(this._gl.FRAGMENT_SHADER);\r\n        }\r\n        else if (type === 'Vertex') {\r\n            shader = this._gl.createShader(this._gl.VERTEX_SHADER);\r\n        }\r\n        else {\r\n            Logger.getInstance().error('Error unknown shader type', type);\r\n        }\r\n        this._gl.shaderSource(shader, program);\r\n        this._gl.compileShader(shader);\r\n        if (!this._gl.getShaderParameter(shader, this._gl.COMPILE_STATUS)) {\r\n            Logger.getInstance().error('Unable to compile shader!', this._gl.getShaderInfoLog(shader));\r\n            return null;\r\n        }\r\n        return shader;\r\n    }\r\n    process(image, out) {\r\n        // look up where the vertex data needs to go.\r\n        const positionLocation = this._gl.getAttribLocation(this._program, 'a_position');\r\n        const texCoordLocation = this._gl.getAttribLocation(this._program, 'a_texCoord');\r\n        const texCoordBuffer = this._gl.createBuffer();\r\n        this._gl.bindBuffer(this._gl.ARRAY_BUFFER, texCoordBuffer);\r\n        this._gl.bufferData(this._gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]), this._gl.STATIC_DRAW);\r\n        this._gl.enableVertexAttribArray(texCoordLocation);\r\n        this._gl.vertexAttribPointer(texCoordLocation, 2, this._gl.FLOAT, false, 0, 0);\r\n        // Create a texture.\r\n        const texture = this._gl.createTexture();\r\n        this._gl.bindTexture(this._gl.TEXTURE_2D, texture);\r\n        // Set the parameters so we can render any size image.\r\n        this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_WRAP_S, this._gl.CLAMP_TO_EDGE);\r\n        this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_WRAP_T, this._gl.CLAMP_TO_EDGE);\r\n        this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_MIN_FILTER, this._gl.NEAREST);\r\n        this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_MAG_FILTER, this._gl.NEAREST);\r\n        // Flip the texture when unpacking into the gl context, gl reads textures in the opposite order as everything else :/\r\n        this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL, 1);\r\n        // Upload the image into the texture.\r\n        this._gl.texImage2D(this._gl.TEXTURE_2D, 0, this._gl.RGBA, this._gl.RGBA, this._gl.UNSIGNED_BYTE, image);\r\n        // lookup uniforms\r\n        const resolutionLocation = this._gl.getUniformLocation(this._program, 'u_resolution');\r\n        // set the resolution\r\n        this._gl.uniform2f(resolutionLocation, this._internalCanvas.width, this._internalCanvas.height);\r\n        // Create a buffer for the position of the rectangle corners.\r\n        const positionBuffer = this._gl.createBuffer();\r\n        this._gl.bindBuffer(this._gl.ARRAY_BUFFER, positionBuffer);\r\n        this._gl.enableVertexAttribArray(positionLocation);\r\n        this._gl.vertexAttribPointer(positionLocation, 2, this._gl.FLOAT, false, 0, 0);\r\n        // Set a rectangle the same size as the image.\r\n        this._setRectangle(0, 0, image.width, image.height);\r\n        // Draw the rectangle.\r\n        this._gl.drawArrays(this._gl.TRIANGLES, 0, 6);\r\n        // Grab transformed image from internal canvas\r\n        const pixelData = new Uint8Array(image.width * image.height * 4);\r\n        this._gl.readPixels(0, 0, image.width, image.height, this._gl.RGBA, this._gl.UNSIGNED_BYTE, pixelData);\r\n        image.data.set(pixelData);\r\n        out.putImageData(image, 0, 0);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Debug/DebugFlags.ts\n\r\nclass ColorBlindFlags {\r\n    constructor(engine) {\r\n        this._engine = engine;\r\n    }\r\n    correct(colorBlindness) {\r\n        this._engine.postProcessors.push(new ColorBlindCorrector(this._engine, false, colorBlindness));\r\n    }\r\n    simulate(colorBlindness) {\r\n        this._engine.postProcessors.push(new ColorBlindCorrector(this._engine, true, colorBlindness));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Debug/Debug.ts\n\r\n\r\n/**\r\n * Debug statistics and flags for Excalibur. If polling these values, it would be\r\n * best to do so on the `postupdate` event for [[Engine]], after all values have been\r\n * updated during a frame.\r\n */\r\nclass Debug {\r\n    constructor(engine) {\r\n        /**\r\n         * Performance statistics\r\n         */\r\n        this.stats = {\r\n            /**\r\n             * Current frame statistics. Engine reuses this instance, use [[FrameStats.clone]] to copy frame stats.\r\n             * Best accessed on [[postframe]] event. See [[FrameStats]]\r\n             */\r\n            currFrame: new FrameStats(),\r\n            /**\r\n             * Previous frame statistics. Engine reuses this instance, use [[FrameStats.clone]] to copy frame stats.\r\n             * Best accessed on [[preframe]] event. Best inspected on engine event `preframe`. See [[FrameStats]]\r\n             */\r\n            prevFrame: new FrameStats()\r\n        };\r\n        /**\r\n         * Filter debug context to named entities or entity ids\r\n         */\r\n        this.filter = {\r\n            /**\r\n             * Toggle filter on or off (default off) must be on for DebugDraw to use filters\r\n             */\r\n            useFilter: false,\r\n            /**\r\n             * Query for entities by name, if the entity name contains `nameQuery` it will be included\r\n             */\r\n            nameQuery: '',\r\n            /**\r\n             * Query for Entity ids, if the id matches it will be included\r\n             */\r\n            ids: []\r\n        };\r\n        /**\r\n         * Entity debug settings\r\n         */\r\n        this.entity = {\r\n            showAll: false,\r\n            showId: true,\r\n            showName: false\r\n        };\r\n        /**\r\n         * Transform component debug settings\r\n         */\r\n        this.transform = {\r\n            showAll: false,\r\n            showPosition: false,\r\n            positionColor: Color.Yellow,\r\n            showScale: false,\r\n            scaleColor: Color.Green,\r\n            showRotation: false,\r\n            rotationColor: Color.Blue\r\n        };\r\n        /**\r\n         * Graphics component debug settings\r\n         */\r\n        this.graphics = {\r\n            showAll: false,\r\n            showBounds: true,\r\n            boundsColor: Color.Yellow\r\n        };\r\n        /**\r\n         * Collider component debug settings\r\n         */\r\n        this.collider = {\r\n            showAll: false,\r\n            showBounds: true,\r\n            boundsColor: Color.Blue,\r\n            showOwner: false,\r\n            showGeometry: true,\r\n            geometryColor: Color.Green\r\n        };\r\n        /**\r\n         * Physics simulation debug settings\r\n         */\r\n        this.physics = {\r\n            showAll: false,\r\n            showBroadphaseSpacePartitionDebug: false,\r\n            showCollisionNormals: false,\r\n            collisionNormalColor: Color.Cyan,\r\n            showCollisionContacts: true,\r\n            collisionContactColor: Color.Red\r\n        };\r\n        /**\r\n         * Motion component debug settings\r\n         */\r\n        this.motion = {\r\n            showAll: false,\r\n            showVelocity: false,\r\n            velocityColor: Color.Yellow,\r\n            showAcceleration: false,\r\n            accelerationColor: Color.Red\r\n        };\r\n        /**\r\n         * Body component debug settings\r\n         */\r\n        this.body = {\r\n            showAll: false,\r\n            showCollisionGroup: false,\r\n            showCollisionType: false,\r\n            showSleeping: false,\r\n            showMotion: false,\r\n            showMass: false\r\n        };\r\n        /**\r\n         * Camera debug settings\r\n         */\r\n        this.camera = {\r\n            showAll: false,\r\n            showFocus: false,\r\n            focusColor: Color.Red,\r\n            showZoom: false\r\n        };\r\n        this._engine = engine;\r\n        this.colorBlindMode = new ColorBlindFlags(this._engine);\r\n    }\r\n}\r\n/**\r\n * Implementation of a frame's stats. Meant to have values copied via [[FrameStats.reset]], avoid\r\n * creating instances of this every frame.\r\n */\r\nclass FrameStats {\r\n    constructor() {\r\n        this._id = 0;\r\n        this._delta = 0;\r\n        this._fps = 0;\r\n        this._actorStats = {\r\n            alive: 0,\r\n            killed: 0,\r\n            ui: 0,\r\n            get remaining() {\r\n                return this.alive - this.killed;\r\n            },\r\n            get total() {\r\n                return this.remaining + this.ui;\r\n            }\r\n        };\r\n        this._durationStats = {\r\n            update: 0,\r\n            draw: 0,\r\n            get total() {\r\n                return this.update + this.draw;\r\n            }\r\n        };\r\n        this._physicsStats = new PhysicsStats();\r\n        this._graphicsStats = {\r\n            drawCalls: 0,\r\n            drawnImages: 0\r\n        };\r\n    }\r\n    /**\r\n     * Zero out values or clone other IFrameStat stats. Allows instance reuse.\r\n     *\r\n     * @param [otherStats] Optional stats to clone\r\n     */\r\n    reset(otherStats) {\r\n        if (otherStats) {\r\n            this.id = otherStats.id;\r\n            this.delta = otherStats.delta;\r\n            this.fps = otherStats.fps;\r\n            this.actors.alive = otherStats.actors.alive;\r\n            this.actors.killed = otherStats.actors.killed;\r\n            this.actors.ui = otherStats.actors.ui;\r\n            this.duration.update = otherStats.duration.update;\r\n            this.duration.draw = otherStats.duration.draw;\r\n            this._physicsStats.reset(otherStats.physics);\r\n            this.graphics.drawCalls = otherStats.graphics.drawCalls;\r\n            this.graphics.drawnImages = otherStats.graphics.drawnImages;\r\n        }\r\n        else {\r\n            this.id = this.delta = this.fps = 0;\r\n            this.actors.alive = this.actors.killed = this.actors.ui = 0;\r\n            this.duration.update = this.duration.draw = 0;\r\n            this._physicsStats.reset();\r\n            this.graphics.drawnImages = this.graphics.drawCalls = 0;\r\n        }\r\n    }\r\n    /**\r\n     * Provides a clone of this instance.\r\n     */\r\n    clone() {\r\n        const fs = new FrameStats();\r\n        fs.reset(this);\r\n        return fs;\r\n    }\r\n    /**\r\n     * Gets the frame's id\r\n     */\r\n    get id() {\r\n        return this._id;\r\n    }\r\n    /**\r\n     * Sets the frame's id\r\n     */\r\n    set id(value) {\r\n        this._id = value;\r\n    }\r\n    /**\r\n     * Gets the frame's delta (time since last frame)\r\n     */\r\n    get delta() {\r\n        return this._delta;\r\n    }\r\n    /**\r\n     * Sets the frame's delta (time since last frame). Internal use only.\r\n     * @internal\r\n     */\r\n    set delta(value) {\r\n        this._delta = value;\r\n    }\r\n    /**\r\n     * Gets the frame's frames-per-second (FPS)\r\n     */\r\n    get fps() {\r\n        return this._fps;\r\n    }\r\n    /**\r\n     * Sets the frame's frames-per-second (FPS). Internal use only.\r\n     * @internal\r\n     */\r\n    set fps(value) {\r\n        this._fps = value;\r\n    }\r\n    /**\r\n     * Gets the frame's actor statistics\r\n     */\r\n    get actors() {\r\n        return this._actorStats;\r\n    }\r\n    /**\r\n     * Gets the frame's duration statistics\r\n     */\r\n    get duration() {\r\n        return this._durationStats;\r\n    }\r\n    /**\r\n     * Gets the frame's physics statistics\r\n     */\r\n    get physics() {\r\n        return this._physicsStats;\r\n    }\r\n    /**\r\n     * Gets the frame's graphics statistics\r\n     */\r\n    get graphics() {\r\n        return this._graphicsStats;\r\n    }\r\n}\r\nclass PhysicsStats {\r\n    constructor() {\r\n        this._pairs = 0;\r\n        this._collisions = 0;\r\n        this._contacts = new Map();\r\n        this._fastBodies = 0;\r\n        this._fastBodyCollisions = 0;\r\n        this._broadphase = 0;\r\n        this._narrowphase = 0;\r\n    }\r\n    /**\r\n     * Zero out values or clone other IPhysicsStats stats. Allows instance reuse.\r\n     *\r\n     * @param [otherStats] Optional stats to clone\r\n     */\r\n    reset(otherStats) {\r\n        if (otherStats) {\r\n            this.pairs = otherStats.pairs;\r\n            this.collisions = otherStats.collisions;\r\n            this.contacts = otherStats.contacts;\r\n            this.fastBodies = otherStats.fastBodies;\r\n            this.fastBodyCollisions = otherStats.fastBodyCollisions;\r\n            this.broadphase = otherStats.broadphase;\r\n            this.narrowphase = otherStats.narrowphase;\r\n        }\r\n        else {\r\n            this.pairs = this.collisions = this.fastBodies = 0;\r\n            this.fastBodyCollisions = this.broadphase = this.narrowphase = 0;\r\n            this.contacts.clear();\r\n        }\r\n    }\r\n    /**\r\n     * Provides a clone of this instance.\r\n     */\r\n    clone() {\r\n        const ps = new PhysicsStats();\r\n        ps.reset(this);\r\n        return ps;\r\n    }\r\n    get pairs() {\r\n        return this._pairs;\r\n    }\r\n    set pairs(value) {\r\n        this._pairs = value;\r\n    }\r\n    get collisions() {\r\n        return this._collisions;\r\n    }\r\n    set collisions(value) {\r\n        this._collisions = value;\r\n    }\r\n    get contacts() {\r\n        return this._contacts;\r\n    }\r\n    set contacts(contacts) {\r\n        this._contacts = contacts;\r\n    }\r\n    get fastBodies() {\r\n        return this._fastBodies;\r\n    }\r\n    set fastBodies(value) {\r\n        this._fastBodies = value;\r\n    }\r\n    get fastBodyCollisions() {\r\n        return this._fastBodyCollisions;\r\n    }\r\n    set fastBodyCollisions(value) {\r\n        this._fastBodyCollisions = value;\r\n    }\r\n    get broadphase() {\r\n        return this._broadphase;\r\n    }\r\n    set broadphase(value) {\r\n        this._broadphase = value;\r\n    }\r\n    get narrowphase() {\r\n        return this._narrowphase;\r\n    }\r\n    set narrowphase(value) {\r\n        this._narrowphase = value;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Input/Keyboard.ts\n\r\n\r\n\r\n/**\r\n * Enum representing physical input key codes\r\n */\r\nvar Keys;\r\n(function (Keys) {\r\n    // NUMPAD\r\n    Keys[\"Num0\"] = \"Numpad0\";\r\n    Keys[\"Num1\"] = \"Numpad1\";\r\n    Keys[\"Num2\"] = \"Numpad2\";\r\n    Keys[\"Num3\"] = \"Numpad3\";\r\n    Keys[\"Num4\"] = \"Numpad4\";\r\n    Keys[\"Num5\"] = \"Numpad5\";\r\n    Keys[\"Num6\"] = \"Numpad6\";\r\n    Keys[\"Num7\"] = \"Numpad7\";\r\n    Keys[\"Num8\"] = \"Numpad8\";\r\n    Keys[\"Num9\"] = \"Numpad9\";\r\n    Keys[\"NumAdd\"] = \"NumpadAdd\";\r\n    Keys[\"NumSubtract\"] = \"NumpadSubtract\";\r\n    Keys[\"NumMultiply\"] = \"NumpadMultiply\";\r\n    Keys[\"NumDivide\"] = \"NumpadDivide\";\r\n    // NumComma = 'NumpadComma', // not x-browser\r\n    Keys[\"NumDecimal\"] = \"NumpadDecimal\";\r\n    Keys[\"Numpad0\"] = \"Numpad0\";\r\n    Keys[\"Numpad1\"] = \"Numpad1\";\r\n    Keys[\"Numpad2\"] = \"Numpad2\";\r\n    Keys[\"Numpad3\"] = \"Numpad3\";\r\n    Keys[\"Numpad4\"] = \"Numpad4\";\r\n    Keys[\"Numpad5\"] = \"Numpad5\";\r\n    Keys[\"Numpad6\"] = \"Numpad6\";\r\n    Keys[\"Numpad7\"] = \"Numpad7\";\r\n    Keys[\"Numpad8\"] = \"Numpad8\";\r\n    Keys[\"Numpad9\"] = \"Numpad9\";\r\n    Keys[\"NumpadAdd\"] = \"NumpadAdd\";\r\n    Keys[\"NumpadSubtract\"] = \"NumpadSubtract\";\r\n    Keys[\"NumpadMultiply\"] = \"NumpadMultiply\";\r\n    Keys[\"NumpadDivide\"] = \"NumpadDivide\";\r\n    // NumpadComma = 'NumpadComma', // not x-browser\r\n    Keys[\"NumpadDecimal\"] = \"NumpadDecimal\";\r\n    // MODIFIERS\r\n    Keys[\"NumLock\"] = \"NumLock\";\r\n    Keys[\"ShiftLeft\"] = \"ShiftLeft\";\r\n    Keys[\"ShiftRight\"] = \"ShiftRight\";\r\n    Keys[\"AltLeft\"] = \"AltLeft\";\r\n    Keys[\"AltRight\"] = \"AltRight\";\r\n    // NUMBERS\r\n    Keys[\"Key0\"] = \"Digit0\";\r\n    Keys[\"Key1\"] = \"Digit1\";\r\n    Keys[\"Key2\"] = \"Digit2\";\r\n    Keys[\"Key3\"] = \"Digit3\";\r\n    Keys[\"Key4\"] = \"Digit4\";\r\n    Keys[\"Key5\"] = \"Digit5\";\r\n    Keys[\"Key6\"] = \"Digit6\";\r\n    Keys[\"Key7\"] = \"Digit7\";\r\n    Keys[\"Key8\"] = \"Digit8\";\r\n    Keys[\"Key9\"] = \"Digit9\";\r\n    Keys[\"Digit0\"] = \"Digit0\";\r\n    Keys[\"Digit1\"] = \"Digit1\";\r\n    Keys[\"Digit2\"] = \"Digit2\";\r\n    Keys[\"Digit3\"] = \"Digit3\";\r\n    Keys[\"Digit4\"] = \"Digit4\";\r\n    Keys[\"Digit5\"] = \"Digit5\";\r\n    Keys[\"Digit6\"] = \"Digit6\";\r\n    Keys[\"Digit7\"] = \"Digit7\";\r\n    Keys[\"Digit8\"] = \"Digit8\";\r\n    Keys[\"Digit9\"] = \"Digit9\";\r\n    // LETTERS\r\n    Keys[\"A\"] = \"KeyA\";\r\n    Keys[\"B\"] = \"KeyB\";\r\n    Keys[\"C\"] = \"KeyC\";\r\n    Keys[\"D\"] = \"KeyD\";\r\n    Keys[\"E\"] = \"KeyE\";\r\n    Keys[\"F\"] = \"KeyF\";\r\n    Keys[\"G\"] = \"KeyG\";\r\n    Keys[\"H\"] = \"KeyH\";\r\n    Keys[\"I\"] = \"KeyI\";\r\n    Keys[\"J\"] = \"KeyJ\";\r\n    Keys[\"K\"] = \"KeyK\";\r\n    Keys[\"L\"] = \"KeyL\";\r\n    Keys[\"M\"] = \"KeyM\";\r\n    Keys[\"N\"] = \"KeyN\";\r\n    Keys[\"O\"] = \"KeyO\";\r\n    Keys[\"P\"] = \"KeyP\";\r\n    Keys[\"Q\"] = \"KeyQ\";\r\n    Keys[\"R\"] = \"KeyR\";\r\n    Keys[\"S\"] = \"KeyS\";\r\n    Keys[\"T\"] = \"KeyT\";\r\n    Keys[\"U\"] = \"KeyU\";\r\n    Keys[\"V\"] = \"KeyV\";\r\n    Keys[\"W\"] = \"KeyW\";\r\n    Keys[\"X\"] = \"KeyX\";\r\n    Keys[\"Y\"] = \"KeyY\";\r\n    Keys[\"Z\"] = \"KeyZ\";\r\n    Keys[\"KeyA\"] = \"KeyA\";\r\n    Keys[\"KeyB\"] = \"KeyB\";\r\n    Keys[\"KeyC\"] = \"KeyC\";\r\n    Keys[\"KeyD\"] = \"KeyD\";\r\n    Keys[\"KeyE\"] = \"KeyE\";\r\n    Keys[\"KeyF\"] = \"KeyF\";\r\n    Keys[\"KeyG\"] = \"KeyG\";\r\n    Keys[\"KeyH\"] = \"KeyH\";\r\n    Keys[\"KeyI\"] = \"KeyI\";\r\n    Keys[\"KeyJ\"] = \"KeyJ\";\r\n    Keys[\"KeyK\"] = \"KeyK\";\r\n    Keys[\"KeyL\"] = \"KeyL\";\r\n    Keys[\"KeyM\"] = \"KeyM\";\r\n    Keys[\"KeyN\"] = \"KeyN\";\r\n    Keys[\"KeyO\"] = \"KeyO\";\r\n    Keys[\"KeyP\"] = \"KeyP\";\r\n    Keys[\"KeyQ\"] = \"KeyQ\";\r\n    Keys[\"KeyR\"] = \"KeyR\";\r\n    Keys[\"KeyS\"] = \"KeyS\";\r\n    Keys[\"KeyT\"] = \"KeyT\";\r\n    Keys[\"KeyU\"] = \"KeyU\";\r\n    Keys[\"KeyV\"] = \"KeyV\";\r\n    Keys[\"KeyW\"] = \"KeyW\";\r\n    Keys[\"KeyX\"] = \"KeyX\";\r\n    Keys[\"KeyY\"] = \"KeyY\";\r\n    Keys[\"KeyZ\"] = \"KeyZ\";\r\n    // SYMBOLS\r\n    Keys[\"Semicolon\"] = \"Semicolon\";\r\n    Keys[\"Quote\"] = \"Quote\";\r\n    Keys[\"Comma\"] = \"Comma\";\r\n    Keys[\"Minus\"] = \"Minus\";\r\n    Keys[\"Period\"] = \"Period\";\r\n    Keys[\"Slash\"] = \"Slash\";\r\n    Keys[\"Equal\"] = \"Equal\";\r\n    Keys[\"BracketLeft\"] = \"BracketLeft\";\r\n    Keys[\"Backslash\"] = \"Backslash\";\r\n    Keys[\"BracketRight\"] = \"BracketRight\";\r\n    Keys[\"Backquote\"] = \"Backquote\";\r\n    // DIRECTIONS\r\n    Keys[\"Up\"] = \"ArrowUp\";\r\n    Keys[\"Down\"] = \"ArrowDown\";\r\n    Keys[\"Left\"] = \"ArrowLeft\";\r\n    Keys[\"Right\"] = \"ArrowRight\";\r\n    Keys[\"ArrowUp\"] = \"ArrowUp\";\r\n    Keys[\"ArrowDown\"] = \"ArrowDown\";\r\n    Keys[\"ArrowLeft\"] = \"ArrowLeft\";\r\n    Keys[\"ArrowRight\"] = \"ArrowRight\";\r\n    // OTHER\r\n    Keys[\"Space\"] = \"Space\";\r\n    Keys[\"Esc\"] = \"Escape\";\r\n    Keys[\"Escape\"] = \"Escape\";\r\n})(Keys || (Keys = {}));\r\n/**\r\n * Event thrown on a game object for a key event\r\n */\r\nclass KeyEvent extends GameEvent {\r\n    /**\r\n     * @param key  The key responsible for throwing the event\r\n     * @param value The key's typed value the browser detected\r\n     * @param originalEvent The original keyboard event that Excalibur handled\r\n     */\r\n    constructor(key, value, originalEvent) {\r\n        super();\r\n        this.key = key;\r\n        this.value = value;\r\n        this.originalEvent = originalEvent;\r\n    }\r\n}\r\n/**\r\n * Provides keyboard support for Excalibur.\r\n */\r\nclass Keyboard extends Class {\r\n    constructor() {\r\n        super();\r\n        this._keys = [];\r\n        this._keysUp = [];\r\n        this._keysDown = [];\r\n    }\r\n    on(eventName, handler) {\r\n        super.on(eventName, handler);\r\n    }\r\n    /**\r\n     * Initialize Keyboard event listeners\r\n     */\r\n    init(global) {\r\n        if (!global) {\r\n            try {\r\n                // Try and listen to events on top window frame if within an iframe.\r\n                //\r\n                // See https://github.com/excaliburjs/Excalibur/issues/1294\r\n                //\r\n                // Attempt to add an event listener, which triggers a DOMException on\r\n                // cross-origin iframes\r\n                const noop = () => {\r\n                    return;\r\n                };\r\n                window.top.addEventListener('blur', noop);\r\n                window.top.removeEventListener('blur', noop);\r\n                // this will be the same as window if not embedded within an iframe\r\n                global = window.top;\r\n            }\r\n            catch (_a) {\r\n                // fallback to current frame\r\n                global = window;\r\n                Logger.getInstance().warn('Failed to bind to keyboard events to top frame. ' +\r\n                    'If you are trying to embed Excalibur in a cross-origin iframe, keyboard events will not fire.');\r\n            }\r\n        }\r\n        global.addEventListener('blur', () => {\r\n            this._keys.length = 0; // empties array efficiently\r\n        });\r\n        // key up is on window because canvas cannot have focus\r\n        global.addEventListener('keyup', (ev) => {\r\n            const code = ev.code;\r\n            const key = this._keys.indexOf(code);\r\n            this._keys.splice(key, 1);\r\n            this._keysUp.push(code);\r\n            const keyEvent = new KeyEvent(code, ev.key, ev);\r\n            // alias the old api, we may want to deprecate this in the future\r\n            this.eventDispatcher.emit('up', keyEvent);\r\n            this.eventDispatcher.emit('release', keyEvent);\r\n        });\r\n        // key down is on window because canvas cannot have focus\r\n        global.addEventListener('keydown', (ev) => {\r\n            const code = ev.code;\r\n            if (this._keys.indexOf(code) === -1) {\r\n                this._keys.push(code);\r\n                this._keysDown.push(code);\r\n                const keyEvent = new KeyEvent(code, ev.key, ev);\r\n                this.eventDispatcher.emit('down', keyEvent);\r\n                this.eventDispatcher.emit('press', keyEvent);\r\n            }\r\n        });\r\n    }\r\n    update() {\r\n        // Reset keysDown and keysUp after update is complete\r\n        this._keysDown.length = 0;\r\n        this._keysUp.length = 0;\r\n        // Emit synthetic \"hold\" event\r\n        for (let i = 0; i < this._keys.length; i++) {\r\n            this.eventDispatcher.emit('hold', new KeyEvent(this._keys[i]));\r\n        }\r\n    }\r\n    /**\r\n     * Gets list of keys being pressed down\r\n     */\r\n    getKeys() {\r\n        return this._keys;\r\n    }\r\n    /**\r\n     * Tests if a certain key was just pressed this frame. This is cleared at the end of the update frame.\r\n     * @param key Test whether a key was just pressed\r\n     */\r\n    wasPressed(key) {\r\n        return this._keysDown.indexOf(key) > -1;\r\n    }\r\n    /**\r\n     * Tests if a certain key is held down. This is persisted between frames.\r\n     * @param key  Test whether a key is held down\r\n     */\r\n    isHeld(key) {\r\n        return this._keys.indexOf(key) > -1;\r\n    }\r\n    /**\r\n     * Tests if a certain key was just released this frame. This is cleared at the end of the update frame.\r\n     * @param key  Test whether a key was just released\r\n     */\r\n    wasReleased(key) {\r\n        return this._keysUp.indexOf(key) > -1;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Input/Pointer.ts\n\r\n\r\n\r\n\r\n/**\r\n * The type of pointer for a [[PointerEvent]].\r\n */\r\nvar PointerType;\r\n(function (PointerType) {\r\n    PointerType[\"Touch\"] = \"Touch\";\r\n    PointerType[\"Mouse\"] = \"Mouse\";\r\n    PointerType[\"Pen\"] = \"Pen\";\r\n    PointerType[\"Unknown\"] = \"Unknown\";\r\n})(PointerType || (PointerType = {}));\r\n/**\r\n * Determines the scope of handling mouse/touch events. See [[Pointers]] for more information.\r\n */\r\nvar PointerScope;\r\n(function (PointerScope) {\r\n    /**\r\n     * Handle events on the `canvas` element only. Events originating outside the\r\n     * `canvas` will not be handled.\r\n     */\r\n    PointerScope[\"Canvas\"] = \"Canvas\";\r\n    /**\r\n     * Handles events on the entire document. All events will be handled by Excalibur.\r\n     */\r\n    PointerScope[\"Document\"] = \"Document\";\r\n})(PointerScope || (PointerScope = {}));\r\n/**\r\n * Captures and dispatches PointerEvents\r\n */\r\nclass Pointer extends Class {\r\n    constructor() {\r\n        super();\r\n        this.id = Pointer._MAX_ID++;\r\n        this._isDown = false;\r\n        this._wasDown = false;\r\n        this._actorsUnderPointer = { length: 0 };\r\n        this._actors = [];\r\n        this._actorsLastFrame = [];\r\n        this._actorsNoLongerUnderPointer = [];\r\n        this._actorSortingFcn = (a, b) => {\r\n            if (a.z === b.z) {\r\n                return b.id - a.id;\r\n            }\r\n            return b.z - a.z;\r\n        };\r\n        /**\r\n         * The last position on the document this pointer was at. Can be `null` if pointer was never active.\r\n         */\r\n        this.lastPagePos = null;\r\n        /**\r\n         * The last position on the screen this pointer was at. Can be `null` if pointer was never active.\r\n         */\r\n        this.lastScreenPos = null;\r\n        /**\r\n         * The last position in the game world coordinates this pointer was at. Can be `null` if pointer was never active.\r\n         */\r\n        this.lastWorldPos = null;\r\n        /**\r\n         * Returns the currently dragging target or null if it isn't exist\r\n         */\r\n        this.dragTarget = null;\r\n        this.on('move', this._onPointerMove);\r\n        this.on('down', this._onPointerDown);\r\n        this.on('up', this._onPointerUp);\r\n    }\r\n    /**\r\n     * Whether the Pointer is currently dragging.\r\n     */\r\n    get isDragging() {\r\n        return this._isDown;\r\n    }\r\n    /**\r\n     * Whether the Pointer just started dragging.\r\n     */\r\n    get isDragStart() {\r\n        return !this._wasDown && this._isDown;\r\n    }\r\n    /**\r\n     * Whether the Pointer just ended dragging.\r\n     */\r\n    get isDragEnd() {\r\n        return this._wasDown && !this._isDown;\r\n    }\r\n    /**\r\n     * Returns true if pointer has any actors under\r\n     */\r\n    get hasActorsUnderPointer() {\r\n        return !!this._actorsUnderPointer.length;\r\n    }\r\n    on(event, handler) {\r\n        super.on(event, handler);\r\n    }\r\n    once(event, handler) {\r\n        super.once(event, handler);\r\n    }\r\n    off(event, handler) {\r\n        super.off(event, handler);\r\n    }\r\n    /**\r\n     * Update the state of current pointer, meant to be called a the end of frame\r\n     */\r\n    update() {\r\n        if (this._wasDown && !this._isDown) {\r\n            this._wasDown = false;\r\n        }\r\n        else if (!this._wasDown && this._isDown) {\r\n            this._wasDown = true;\r\n        }\r\n        this._actorsLastFrame = [...this._actors];\r\n        this._actorsNoLongerUnderPointer = [];\r\n    }\r\n    /**\r\n     * Adds an Actor to actorsUnderPointer object.\r\n     * @param actor An Actor to be added;\r\n     */\r\n    addActorUnderPointer(actor) {\r\n        if (!this.isActorAliveUnderPointer(actor)) {\r\n            this._actorsUnderPointer[actor.id] = actor;\r\n            this._actorsUnderPointer.length += 1;\r\n            this._actors.push(actor);\r\n        }\r\n        // Actors are processed in z-order highest z to lowest\r\n        // ties are broken by id highest id (newest) to lowest id (oldest)\r\n        this._actors.sort(this._actorSortingFcn);\r\n    }\r\n    /**\r\n     * Removes an Actor from actorsUnderPointer object.\r\n     * @param actor An Actor to be removed;\r\n     */\r\n    removeActorUnderPointer(actor) {\r\n        if (this.isActorAliveUnderPointer(actor)) {\r\n            delete this._actorsUnderPointer[actor.id];\r\n            this._actorsUnderPointer.length -= 1;\r\n            removeItemFromArray(actor, this._actors);\r\n            this._actorsNoLongerUnderPointer.push(actor);\r\n        }\r\n    }\r\n    /**\r\n     * Returns all actors under this pointer this frame\r\n     */\r\n    getActorsUnderPointer() {\r\n        return this._actors;\r\n    }\r\n    /**\r\n     * Returns all actors that are no longer under the pointer this frame\r\n     */\r\n    getActorsUnderPointerLastFrame() {\r\n        return this._actorsLastFrame;\r\n    }\r\n    /**\r\n     * Returns all actors relevant for events to pointer this frame\r\n     */\r\n    getActorsForEvents() {\r\n        return this._actors\r\n            .concat(this._actorsLastFrame)\r\n            .filter((actor, i, self) => {\r\n            return self.indexOf(actor) === i; // de-dup\r\n        })\r\n            .sort(this._actorSortingFcn); // sort by z\r\n    }\r\n    /**\r\n     * Checks if Pointer location has a specific Actor bounds contained underneath.\r\n     * @param actor An Actor for check;\r\n     */\r\n    checkActorUnderPointer(actor) {\r\n        if (this.lastWorldPos) {\r\n            return actor.contains(this.lastWorldPos.x, this.lastWorldPos.y, !isScreenElement(actor));\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Checks if an actor was under the pointer last frame\r\n     * @param actor\r\n     */\r\n    wasActorUnderPointer(actor) {\r\n        return this._actorsLastFrame.indexOf(actor) > -1;\r\n    }\r\n    /**\r\n     * Checks if Pointer has a specific Actor in ActorsUnderPointer list.\r\n     * @param actor An Actor for check;\r\n     */\r\n    isActorAliveUnderPointer(actor) {\r\n        return !!(!actor.isKilled() && actor.scene && this._actorsUnderPointer.hasOwnProperty(actor.id.toString()));\r\n    }\r\n    _onPointerMove(ev) {\r\n        this.lastPagePos = new Vector(ev.pagePos.x, ev.pagePos.y);\r\n        this.lastScreenPos = new Vector(ev.screenPos.x, ev.screenPos.y);\r\n        this.lastWorldPos = new Vector(ev.worldPos.x, ev.worldPos.y);\r\n    }\r\n    _onPointerDown(ev) {\r\n        this.lastPagePos = new Vector(ev.pagePos.x, ev.pagePos.y);\r\n        this.lastScreenPos = new Vector(ev.screenPos.x, ev.screenPos.y);\r\n        this.lastWorldPos = new Vector(ev.worldPos.x, ev.worldPos.y);\r\n        this._isDown = true;\r\n    }\r\n    _onPointerUp(_ev) {\r\n        this._isDown = false;\r\n        this.dragTarget = null;\r\n    }\r\n}\r\nPointer._MAX_ID = 0;\r\n\n;// CONCATENATED MODULE: ./Input/PointerEvents.ts\n\r\n/**\r\n * Native browser button enumeration\r\n */\r\nvar NativePointerButton;\r\n(function (NativePointerButton) {\r\n    NativePointerButton[NativePointerButton[\"NoButton\"] = -1] = \"NoButton\";\r\n    NativePointerButton[NativePointerButton[\"Left\"] = 0] = \"Left\";\r\n    NativePointerButton[NativePointerButton[\"Middle\"] = 1] = \"Middle\";\r\n    NativePointerButton[NativePointerButton[\"Right\"] = 2] = \"Right\";\r\n    NativePointerButton[NativePointerButton[\"Unknown\"] = 3] = \"Unknown\";\r\n})(NativePointerButton || (NativePointerButton = {}));\r\n/**\r\n * The mouse button being pressed.\r\n */\r\nvar PointerButton;\r\n(function (PointerButton) {\r\n    PointerButton[\"Left\"] = \"Left\";\r\n    PointerButton[\"Middle\"] = \"Middle\";\r\n    PointerButton[\"Right\"] = \"Right\";\r\n    PointerButton[\"Unknown\"] = \"Unknown\";\r\n    PointerButton[\"NoButton\"] = \"NoButton\";\r\n})(PointerButton || (PointerButton = {}));\r\nvar WheelDeltaMode;\r\n(function (WheelDeltaMode) {\r\n    WheelDeltaMode[\"Pixel\"] = \"Pixel\";\r\n    WheelDeltaMode[\"Line\"] = \"Line\";\r\n    WheelDeltaMode[\"Page\"] = \"Page\";\r\n})(WheelDeltaMode || (WheelDeltaMode = {}));\r\n/**\r\n * Pointer events\r\n *\r\n * Represents a mouse, touch, or stylus event. See [[Pointers]] for more information on\r\n * handling pointer input.\r\n *\r\n * For mouse-based events, you can inspect [[PointerEvent.button]] to see what button was pressed.\r\n */\r\nclass PointerEvent extends GameEvent {\r\n    /**\r\n     * @param coordinates         The [[GlobalCoordinates]] of the event\r\n     * @param pointer             The [[Pointer]] of the event\r\n     * @param index               The index of the pointer (zero-based)\r\n     * @param pointerType         The type of pointer\r\n     * @param button              The button pressed (if [[PointerType.Mouse]])\r\n     * @param ev                  The raw DOM event being handled\r\n     */\r\n    constructor(coordinates, pointer, index, pointerType, button, ev) {\r\n        super();\r\n        this.coordinates = coordinates;\r\n        this.pointer = pointer;\r\n        this.index = index;\r\n        this.pointerType = pointerType;\r\n        this.button = button;\r\n        this.ev = ev;\r\n        this._canceled = false;\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    /** The world coordinates of the event. */\r\n    get worldPos() {\r\n        return this.coordinates.worldPos.clone();\r\n    }\r\n    /** The page coordinates of the event. */\r\n    get pagePos() {\r\n        return this.coordinates.pagePos.clone();\r\n    }\r\n    /** The screen coordinates of the event. */\r\n    get screenPos() {\r\n        return this.coordinates.screenPos.clone();\r\n    }\r\n    get pos() {\r\n        return this.coordinates.worldPos.clone();\r\n    }\r\n    /**\r\n     * Cancels pointer event propogation, event will not be transmitted to any other actors\r\n     */\r\n    cancel() {\r\n        this._canceled = true;\r\n    }\r\n    /**\r\n     *\r\n     * @returns If the event is canceled it will no longer be transmitted to any other actors\r\n     */\r\n    isCanceled() {\r\n        return this._canceled;\r\n    }\r\n    propagate(actor) {\r\n        this.doAction(actor);\r\n        if (this.bubbles && !this.isCanceled() && actor.parent) {\r\n            this.propagate(actor.parent); // TODO not true\r\n        }\r\n    }\r\n    /**\r\n     * Action, that calls when event happens\r\n     */\r\n    doAction(actor) {\r\n        if (actor) {\r\n            this._onActionStart(actor);\r\n            actor.emit(this._name, this);\r\n            this._onActionEnd(actor);\r\n        }\r\n    }\r\n    _onActionStart(_actor) {\r\n        // to be rewritten\r\n    }\r\n    _onActionEnd(_actor) {\r\n        // to be rewritten\r\n    }\r\n}\r\nclass PointerEventFactory {\r\n    constructor(_pointerEventType) {\r\n        this._pointerEventType = _pointerEventType;\r\n    }\r\n    /**\r\n     * Create specific PointerEvent\r\n     */\r\n    create(coordinates, pointer, index, pointerType, button, ev) {\r\n        return new this._pointerEventType(coordinates, pointer, index, pointerType, button, ev);\r\n    }\r\n}\r\nclass PointerDragEvent extends PointerEvent {\r\n}\r\nclass PointerUpEvent extends PointerEvent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._name = 'pointerup';\r\n    }\r\n    _onActionEnd(actor) {\r\n        const pointer = this.pointer;\r\n        if (pointer.isDragEnd && actor.capturePointer.captureDragEvents) {\r\n            actor.eventDispatcher.emit('pointerdragend', this);\r\n        }\r\n    }\r\n}\r\nclass PointerDownEvent extends PointerEvent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._name = 'pointerdown';\r\n    }\r\n    _onActionEnd(actor) {\r\n        if (this.pointer.isDragStart && actor.capturePointer.captureDragEvents) {\r\n            actor.eventDispatcher.emit('pointerdragstart', this);\r\n        }\r\n    }\r\n}\r\nclass PointerMoveEvent extends PointerEvent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._name = 'pointermove';\r\n        // private _onActorEnter(actor: Actor) {\r\n        //   const pe = createPointerEventByName('enter', this.coordinates, this.pointer, this.index, this.pointerType, this.button, this.ev);\r\n        //   pe.propagate(actor);\r\n        //   this.pointer.addActorUnderPointer(actor);\r\n        //   if (this.pointer.isDragging) {\r\n        //     this.pointer.dragTarget = actor;\r\n        //   }\r\n        // }\r\n        // private _onActorLeave(actor: Actor) {\r\n        //   const pe = createPointerEventByName('leave', this.coordinates, this.pointer, this.index, this.pointerType, this.button, this.ev);\r\n        //   pe.propagate(actor);\r\n        //   this.pointer.removeActorUnderPointer(actor);\r\n        // }\r\n    }\r\n    propagate(actor) {\r\n        // If the actor was under the pointer last frame, but not this one it left\r\n        // if (this.pointer.wasActorUnderPointer(actor) && !this.pointer.isActorUnderPointer(actor)) {\r\n        //   this._onActorLeave(actor);\r\n        //   return;\r\n        // }\r\n        if (this.pointer.isActorAliveUnderPointer(actor)) {\r\n            this.doAction(actor);\r\n            if (this.bubbles && !this.isCanceled() && actor.parent) {\r\n                this.propagate(actor.parent); // TODO not true\r\n            }\r\n        }\r\n    }\r\n    _onActionStart(actor) {\r\n        if (!actor.capturePointer.captureMoveEvents) {\r\n            return;\r\n        }\r\n        // In the case this is new\r\n        // if (this.pointer.checkActorUnderPointer(actor) && !this.pointer.wasActorUnderPointer(actor)) {\r\n        //   this._onActorEnter(actor);\r\n        // }\r\n        if (this.pointer.isDragging && actor.capturePointer.captureDragEvents) {\r\n            actor.eventDispatcher.emit('pointerdragmove', this);\r\n        }\r\n    }\r\n}\r\nclass PointerEnterEvent extends PointerEvent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._name = 'pointerenter';\r\n    }\r\n    _onActionStart(actor) {\r\n        if (!actor.capturePointer.captureMoveEvents) {\r\n            return;\r\n        }\r\n    }\r\n    _onActionEnd(actor) {\r\n        const pointer = this.pointer;\r\n        if (pointer.isDragging && actor.capturePointer.captureDragEvents) {\r\n            actor.eventDispatcher.emit('pointerdragenter', this);\r\n        }\r\n    }\r\n}\r\nclass PointerLeaveEvent extends PointerEvent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._name = 'pointerleave';\r\n    }\r\n    _onActionStart(actor) {\r\n        if (!actor.capturePointer.captureMoveEvents) {\r\n            return;\r\n        }\r\n    }\r\n    _onActionEnd(actor) {\r\n        const pointer = this.pointer;\r\n        if (pointer.isDragging && actor.capturePointer.captureDragEvents) {\r\n            actor.eventDispatcher.emit('pointerdragleave', this);\r\n        }\r\n    }\r\n}\r\nclass PointerCancelEvent extends PointerEvent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._name = 'pointercancel';\r\n    }\r\n}\r\n/**\r\n * Wheel Events\r\n *\r\n * Represents a mouse wheel event. See [[Pointers]] for more information on\r\n * handling point input.\r\n */\r\nclass WheelEvent extends GameEvent {\r\n    /**\r\n     * @param x            The `x` coordinate of the event (in world coordinates)\r\n     * @param y            The `y` coordinate of the event (in world coordinates)\r\n     * @param pageX        The `x` coordinate of the event (in document coordinates)\r\n     * @param pageY        The `y` coordinate of the event (in document coordinates)\r\n     * @param screenX      The `x` coordinate of the event (in screen coordinates)\r\n     * @param screenY      The `y` coordinate of the event (in screen coordinates)\r\n     * @param index        The index of the pointer (zero-based)\r\n     * @param deltaX       The type of pointer\r\n     * @param deltaY       The type of pointer\r\n     * @param deltaZ       The type of pointer\r\n     * @param deltaMode    The type of movement [[WheelDeltaMode]]\r\n     * @param ev           The raw DOM event being handled\r\n     */\r\n    constructor(x, y, pageX, pageY, screenX, screenY, index, deltaX, deltaY, deltaZ, deltaMode, ev) {\r\n        super();\r\n        this.x = x;\r\n        this.y = y;\r\n        this.pageX = pageX;\r\n        this.pageY = pageY;\r\n        this.screenX = screenX;\r\n        this.screenY = screenY;\r\n        this.index = index;\r\n        this.deltaX = deltaX;\r\n        this.deltaY = deltaY;\r\n        this.deltaZ = deltaZ;\r\n        this.deltaMode = deltaMode;\r\n        this.ev = ev;\r\n        this._isCanceled = false;\r\n    }\r\n    /**\r\n     * Cancels pointer event propogation, event will not be transmitted to any other actors\r\n     */\r\n    cancel() {\r\n        this._isCanceled = true;\r\n    }\r\n    /**\r\n     *\r\n     * @returns If the event is canceled it will no longer be transmitted to any other actors\r\n     */\r\n    isCanceled() {\r\n        return this._isCanceled;\r\n    }\r\n}\r\n/**\r\n *\r\n */\r\nfunction createPointerEventByName(eventName, coordinates, pointer, index, pointerType, button, ev) {\r\n    let factory;\r\n    switch (eventName) {\r\n        case 'up':\r\n            factory = new PointerEventFactory(PointerUpEvent);\r\n            break;\r\n        case 'down':\r\n            factory = new PointerEventFactory(PointerDownEvent);\r\n            break;\r\n        case 'move':\r\n            factory = new PointerEventFactory(PointerMoveEvent);\r\n            break;\r\n        case 'cancel':\r\n            factory = new PointerEventFactory(PointerCancelEvent);\r\n            break;\r\n        case 'enter':\r\n            factory = new PointerEventFactory(PointerEnterEvent);\r\n            break;\r\n        case 'leave':\r\n            factory = new PointerEventFactory(PointerLeaveEvent);\r\n            break;\r\n    }\r\n    return factory.create(coordinates, pointer, index, pointerType, button, ev);\r\n}\r\n\n;// CONCATENATED MODULE: ./Math/global-coordinates.ts\n\r\nclass GlobalCoordinates {\r\n    constructor(worldPos, pagePos, screenPos) {\r\n        this.worldPos = worldPos;\r\n        this.pagePos = pagePos;\r\n        this.screenPos = screenPos;\r\n    }\r\n    static fromPagePosition(xOrPos, yOrEngine, engineOrUndefined) {\r\n        let pageX;\r\n        let pageY;\r\n        let pagePos;\r\n        let engine;\r\n        if (arguments.length === 3) {\r\n            pageX = xOrPos;\r\n            pageY = yOrEngine;\r\n            pagePos = new Vector(pageX, pageY);\r\n            engine = engineOrUndefined;\r\n        }\r\n        else {\r\n            pagePos = xOrPos;\r\n            pageX = pagePos.x;\r\n            pageY = pagePos.y;\r\n            engine = yOrEngine;\r\n        }\r\n        const screenPos = engine.screen.pageToScreenCoordinates(pagePos);\r\n        const worldPos = engine.screen.screenToWorldCoordinates(screenPos);\r\n        return new GlobalCoordinates(worldPos, pagePos, screenPos);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Input/Pointers.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A constant used to normalize wheel events across different browsers\r\n *\r\n * This normalization factor is pulled from https://developer.mozilla.org/en-US/docs/Web/Events/wheel#Listening_to_this_event_across_browser\r\n */\r\nconst ScrollWheelNormalizationFactor = -1 / 40;\r\n/**\r\n * Handles pointer events (mouse, touch, stylus, etc.) and normalizes to\r\n * [W3C Pointer Events](http://www.w3.org/TR/pointerevents/).\r\n */\r\nclass Pointers extends Class {\r\n    constructor(engine) {\r\n        super();\r\n        this._pointerDown = [];\r\n        this._pointerUp = [];\r\n        this._pointerMove = [];\r\n        this._pointerCancel = [];\r\n        this._wheel = [];\r\n        this._pointers = [];\r\n        this._activePointers = [];\r\n        this._engine = engine;\r\n        this._pointers.push(new Pointer());\r\n        this._activePointers = [-1];\r\n        this.primary = this._pointers[0];\r\n    }\r\n    on(eventName, handler) {\r\n        super.on(eventName, handler);\r\n    }\r\n    /**\r\n     * Initializes pointer event listeners\r\n     */\r\n    init(target) {\r\n        target = target || this._engine.canvas;\r\n        // Touch Events\r\n        target.addEventListener('touchstart', this._handleTouchEvent('down', this._pointerDown));\r\n        target.addEventListener('touchend', this._handleTouchEvent('up', this._pointerUp));\r\n        target.addEventListener('touchmove', this._handleTouchEvent('move', this._pointerMove));\r\n        target.addEventListener('touchcancel', this._handleTouchEvent('cancel', this._pointerCancel));\r\n        // W3C Pointer Events\r\n        // Current: IE11, IE10\r\n        if (window.PointerEvent) {\r\n            // IE11\r\n            this._engine.canvas.style.touchAction = 'none';\r\n            target.addEventListener('pointerdown', this._handlePointerEvent('down', this._pointerDown));\r\n            target.addEventListener('pointerup', this._handlePointerEvent('up', this._pointerUp));\r\n            target.addEventListener('pointermove', this._handlePointerEvent('move', this._pointerMove));\r\n            target.addEventListener('pointercancel', this._handlePointerEvent('cancel', this._pointerCancel));\r\n        }\r\n        else if (window.MSPointerEvent) {\r\n            // IE10\r\n            this._engine.canvas.style.msTouchAction = 'none';\r\n            target.addEventListener('MSPointerDown', this._handlePointerEvent('down', this._pointerDown));\r\n            target.addEventListener('MSPointerUp', this._handlePointerEvent('up', this._pointerUp));\r\n            target.addEventListener('MSPointerMove', this._handlePointerEvent('move', this._pointerMove));\r\n            target.addEventListener('MSPointerCancel', this._handlePointerEvent('cancel', this._pointerCancel));\r\n        }\r\n        else {\r\n            // Mouse Events\r\n            target.addEventListener('mousedown', this._handleMouseEvent('down', this._pointerDown));\r\n            target.addEventListener('mouseup', this._handleMouseEvent('up', this._pointerUp));\r\n            target.addEventListener('mousemove', this._handleMouseEvent('move', this._pointerMove));\r\n        }\r\n        // MDN MouseWheelEvent\r\n        const wheelOptions = {\r\n            passive: !(this._engine.pageScrollPreventionMode === ScrollPreventionMode.All ||\r\n                this._engine.pageScrollPreventionMode === ScrollPreventionMode.Canvas)\r\n        };\r\n        if ('onwheel' in document.createElement('div')) {\r\n            // Modern Browsers\r\n            target.addEventListener('wheel', this._handleWheelEvent('wheel', this._wheel), wheelOptions);\r\n        }\r\n        else if (document.onmousewheel !== undefined) {\r\n            // Webkit and IE\r\n            target.addEventListener('mousewheel', this._handleWheelEvent('wheel', this._wheel), wheelOptions);\r\n        }\r\n        else {\r\n            // Remaining browser and older Firefox\r\n            target.addEventListener('MozMousePixelScroll', this._handleWheelEvent('wheel', this._wheel), wheelOptions);\r\n        }\r\n    }\r\n    /**\r\n     * Synthesize a pointer event that looks like a real browser event to excalibur\r\n     * @param eventName\r\n     * @param pos\r\n     */\r\n    triggerEvent(eventName, pos, button = NativePointerButton.Left, pointerType = 'mouse', pointerId = 0) {\r\n        let x = 0;\r\n        let y = 0;\r\n        let coords;\r\n        if (pos instanceof GlobalCoordinates) {\r\n            x = pos.pagePos.x;\r\n            y = pos.pagePos.y;\r\n            coords = pos;\r\n        }\r\n        else {\r\n            x = pos.x;\r\n            y = pos.y;\r\n            coords = new GlobalCoordinates(pos.clone(), pos.clone(), pos.clone());\r\n        }\r\n        const eventish = {\r\n            pageX: x,\r\n            pageY: y,\r\n            pointerId: pointerId,\r\n            pointerType: pointerType,\r\n            button: button,\r\n            preventDefault: () => {\r\n                /* do nothing */\r\n            }\r\n        };\r\n        switch (eventName) {\r\n            case 'move':\r\n                this._handlePointerEvent(eventName, this._pointerMove, coords)(eventish);\r\n                break;\r\n            case 'down':\r\n                this._handlePointerEvent(eventName, this._pointerDown, coords)(eventish);\r\n                break;\r\n            case 'up':\r\n                this._handlePointerEvent(eventName, this._pointerUp, coords)(eventish);\r\n                break;\r\n            case 'cancel':\r\n                this._handlePointerEvent(eventName, this._pointerCancel, coords)(eventish);\r\n                break;\r\n        }\r\n        for (const actor of this._engine.currentScene.actors) {\r\n            const capturePointer = actor.traits.filter((t) => t instanceof CapturePointer)[0];\r\n            if (capturePointer) {\r\n                capturePointer.update(actor, this._engine, 1);\r\n            }\r\n        }\r\n        this.dispatchPointerEvents();\r\n        this.update();\r\n    }\r\n    /**\r\n     * Update all pointer events and pointers, meant to be called at the end of frame\r\n     */\r\n    update() {\r\n        this._pointerUp.length = 0;\r\n        this._pointerDown.length = 0;\r\n        this._pointerMove.length = 0;\r\n        this._pointerCancel.length = 0;\r\n        this._wheel.length = 0;\r\n        for (let i = 0; i < this._pointers.length; i++) {\r\n            this._pointers[i].update();\r\n        }\r\n    }\r\n    /**\r\n     * Safely gets a Pointer at a specific index and initializes one if it doesn't yet exist\r\n     * @param index  The pointer index to retrieve\r\n     */\r\n    at(index) {\r\n        if (index >= this._pointers.length) {\r\n            // Ensure there is a pointer to retrieve\r\n            for (let i = this._pointers.length - 1, max = index; i < max; i++) {\r\n                this._pointers.push(new Pointer());\r\n                this._activePointers.push(-1);\r\n            }\r\n        }\r\n        return this._pointers[index];\r\n    }\r\n    /**\r\n     * Get number of pointers being watched\r\n     */\r\n    count() {\r\n        return this._pointers.length;\r\n    }\r\n    checkAndUpdateActorUnderPointer(actor) {\r\n        for (const pointer of this._pointers) {\r\n            if (pointer.checkActorUnderPointer(actor)) {\r\n                pointer.addActorUnderPointer(actor);\r\n            }\r\n            else {\r\n                pointer.removeActorUnderPointer(actor);\r\n            }\r\n        }\r\n    }\r\n    _dispatchWithBubble(events) {\r\n        for (const evt of events) {\r\n            for (const actor of evt.pointer.getActorsForEvents()) {\r\n                if (!evt.isCanceled()) {\r\n                    evt.propagate(actor);\r\n                }\r\n                if (!evt.bubbles || evt.isCanceled()) {\r\n                    // if the event stops bubbling part way stop processing\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _dispatchPointerLeaveEvents() {\r\n        const lastMoveEventPerPointerPerActor = {};\r\n        const pointerLeave = [];\r\n        for (const evt of this._pointerMove) {\r\n            for (const actor of evt.pointer.getActorsForEvents()) {\r\n                // If the actor was under the pointer last frame, but not this this frame, pointer left\r\n                if (!lastMoveEventPerPointerPerActor[evt.pointer.id + '+' + actor.id] &&\r\n                    evt.pointer.wasActorUnderPointer(actor) &&\r\n                    !evt.pointer.isActorAliveUnderPointer(actor) &&\r\n                    !evt.isCanceled()) {\r\n                    lastMoveEventPerPointerPerActor[evt.pointer.id + '+' + actor.id] = evt;\r\n                    const pe = createPointerEventByName('leave', new GlobalCoordinates(evt.worldPos, evt.pagePos, evt.screenPos), evt.pointer, evt.index, evt.pointerType, evt.button, evt.ev);\r\n                    pe.propagate(actor);\r\n                    pointerLeave.push(pe);\r\n                }\r\n            }\r\n        }\r\n        return pointerLeave;\r\n    }\r\n    _dispatchPointerEnterEvents() {\r\n        const lastMoveEventPerPointer = {};\r\n        const pointerEnter = [];\r\n        for (const evt of this._pointerMove) {\r\n            for (const actor of evt.pointer.getActorsForEvents()) {\r\n                // If the actor was not under the pointer last frame, but it is this frame, pointer entered\r\n                if (!lastMoveEventPerPointer[evt.pointer.id] &&\r\n                    !evt.pointer.wasActorUnderPointer(actor) &&\r\n                    evt.pointer.isActorAliveUnderPointer(actor) &&\r\n                    !evt.isCanceled()) {\r\n                    lastMoveEventPerPointer[evt.pointer.id] = evt;\r\n                    const pe = createPointerEventByName('enter', new GlobalCoordinates(evt.worldPos, evt.pagePos, evt.screenPos), evt.pointer, evt.index, evt.pointerType, evt.button, evt.ev);\r\n                    pe.propagate(actor);\r\n                    pointerEnter.push(pe);\r\n                    // if pointer is dragging set the drag target\r\n                    if (evt.pointer.isDragging) {\r\n                        evt.pointer.dragTarget = actor;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return pointerEnter;\r\n    }\r\n    dispatchPointerEvents() {\r\n        this._dispatchWithBubble(this._pointerDown);\r\n        this._dispatchWithBubble(this._pointerUp);\r\n        this._dispatchWithBubble(this._pointerMove);\r\n        this._dispatchPointerLeaveEvents();\r\n        this._dispatchPointerEnterEvents();\r\n        this._dispatchWithBubble(this._pointerCancel);\r\n        // TODO some duplication here\r\n        for (const evt of this._wheel) {\r\n            for (const actor of this._pointers[evt.index].getActorsUnderPointer()) {\r\n                this._propagateWheelPointerEvent(actor, evt);\r\n                if (!evt.bubbles || evt.isCanceled()) {\r\n                    // if the event stops bubbling part way stop processing\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _propagateWheelPointerEvent(actor, wheelEvent) {\r\n        actor.emit('pointerwheel', wheelEvent);\r\n        // Recurse and propagate\r\n        if (wheelEvent.bubbles && !wheelEvent.isCanceled() && actor.parent) {\r\n            this._propagateWheelPointerEvent(actor.parent, wheelEvent); // TODO not true\r\n        }\r\n    }\r\n    _handleMouseEvent(eventName, eventArr) {\r\n        return (e) => {\r\n            e.preventDefault();\r\n            const pointer = this.at(0);\r\n            const coordinates = GlobalCoordinates.fromPagePosition(e.pageX, e.pageY, this._engine);\r\n            const pe = createPointerEventByName(eventName, coordinates, pointer, 0, PointerType.Mouse, this._nativeButtonToPointerButton(e.button), e);\r\n            eventArr.push(pe);\r\n            pointer.eventDispatcher.emit(eventName, pe);\r\n        };\r\n    }\r\n    _handleTouchEvent(eventName, eventArr) {\r\n        return (e) => {\r\n            e.preventDefault();\r\n            for (let i = 0, len = e.changedTouches.length; i < len; i++) {\r\n                const index = this._pointers.length > 1 ? this._getPointerIndex(e.changedTouches[i].identifier) : 0;\r\n                if (index === -1) {\r\n                    continue;\r\n                }\r\n                const pointer = this.at(index);\r\n                const coordinates = GlobalCoordinates.fromPagePosition(e.changedTouches[i].pageX, e.changedTouches[i].pageY, this._engine);\r\n                const pe = createPointerEventByName(eventName, coordinates, pointer, index, PointerType.Touch, PointerButton.Unknown, e);\r\n                eventArr.push(pe);\r\n                pointer.eventDispatcher.emit(eventName, pe);\r\n                this.emit(eventName, pe);\r\n                // only with multi-pointer\r\n                if (this._pointers.length > 1) {\r\n                    if (eventName === 'up') {\r\n                        // remove pointer ID from pool when pointer is lifted\r\n                        this._activePointers[index] = -1;\r\n                    }\r\n                    else if (eventName === 'down') {\r\n                        // set pointer ID to given index\r\n                        this._activePointers[index] = e.changedTouches[i].identifier;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n    _handlePointerEvent(eventName, eventArr, coords) {\r\n        return (e) => {\r\n            e.preventDefault();\r\n            // get the index for this pointer ID if multi-pointer is asked for\r\n            const index = this._pointers.length > 1 ? this._getPointerIndex(e.pointerId) : 0;\r\n            if (index === -1) {\r\n                return;\r\n            }\r\n            const pointer = this.at(index);\r\n            const coordinates = coords || GlobalCoordinates.fromPagePosition(e.pageX, e.pageY, this._engine);\r\n            const pe = createPointerEventByName(eventName, coordinates, pointer, index, this._stringToPointerType(e.pointerType), this._nativeButtonToPointerButton(e.button), e);\r\n            eventArr.push(pe);\r\n            pointer.eventDispatcher.emit(eventName, pe);\r\n            this.emit(eventName, pe);\r\n            // only with multi-pointer\r\n            if (this._pointers.length > 1) {\r\n                if (eventName === 'up') {\r\n                    // remove pointer ID from pool when pointer is lifted\r\n                    this._activePointers[index] = -1;\r\n                }\r\n                else if (eventName === 'down') {\r\n                    // set pointer ID to given index\r\n                    this._activePointers[index] = e.pointerId;\r\n                }\r\n            }\r\n        };\r\n    }\r\n    _handleWheelEvent(eventName, eventArr) {\r\n        return (e) => {\r\n            // Should we prevent page scroll because of this event\r\n            if (this._engine.pageScrollPreventionMode === ScrollPreventionMode.All ||\r\n                (this._engine.pageScrollPreventionMode === ScrollPreventionMode.Canvas && e.target === this._engine.canvas)) {\r\n                e.preventDefault();\r\n            }\r\n            const screen = this._engine.screen.pageToScreenCoordinates(vec(e.pageX, e.pageY));\r\n            const world = this._engine.screen.screenToWorldCoordinates(screen);\r\n            // deltaX, deltaY, and deltaZ are the standard modern properties\r\n            // wheelDeltaX, wheelDeltaY, are legacy properties in webkit browsers and older IE\r\n            // e.detail is only used in opera\r\n            const deltaX = e.deltaX || e.wheelDeltaX * ScrollWheelNormalizationFactor || 0;\r\n            const deltaY = e.deltaY || e.wheelDeltaY * ScrollWheelNormalizationFactor || e.wheelDelta * ScrollWheelNormalizationFactor || e.detail || 0;\r\n            const deltaZ = e.deltaZ || 0;\r\n            let deltaMode = WheelDeltaMode.Pixel;\r\n            if (e.deltaMode) {\r\n                if (e.deltaMode === 1) {\r\n                    deltaMode = WheelDeltaMode.Line;\r\n                }\r\n                else if (e.deltaMode === 2) {\r\n                    deltaMode = WheelDeltaMode.Page;\r\n                }\r\n            }\r\n            const we = new WheelEvent(world.x, world.y, e.pageX, e.pageY, screen.x, screen.y, 0, deltaX, deltaY, deltaZ, deltaMode, e);\r\n            eventArr.push(we);\r\n            this.at(0).eventDispatcher.emit(eventName, we);\r\n            this.emit(eventName, we);\r\n        };\r\n    }\r\n    /**\r\n     * Gets the index of the pointer specified for the given pointer ID or finds the next empty pointer slot available.\r\n     * This is required because IE10/11 uses incrementing pointer IDs so we need to store a mapping of ID => idx\r\n     */\r\n    _getPointerIndex(pointerId) {\r\n        let idx;\r\n        if ((idx = this._activePointers.indexOf(pointerId)) > -1) {\r\n            return idx;\r\n        }\r\n        for (let i = 0; i < this._activePointers.length; i++) {\r\n            if (this._activePointers[i] === -1) {\r\n                return i;\r\n            }\r\n        }\r\n        // ignore pointer because game isn't watching\r\n        return -1;\r\n    }\r\n    _nativeButtonToPointerButton(s) {\r\n        switch (s) {\r\n            case NativePointerButton.NoButton:\r\n                return PointerButton.NoButton;\r\n            case NativePointerButton.Left:\r\n                return PointerButton.Left;\r\n            case NativePointerButton.Middle:\r\n                return PointerButton.Middle;\r\n            case NativePointerButton.Right:\r\n                return PointerButton.Right;\r\n            case NativePointerButton.Unknown:\r\n                return PointerButton.Unknown;\r\n            default:\r\n                return fail(s);\r\n        }\r\n    }\r\n    _stringToPointerType(s) {\r\n        switch (s) {\r\n            case 'touch':\r\n                return PointerType.Touch;\r\n            case 'mouse':\r\n                return PointerType.Mouse;\r\n            case 'pen':\r\n                return PointerType.Pen;\r\n            default:\r\n                return PointerType.Unknown;\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Input/Gamepad.ts\n\r\n\r\n/**\r\n * Excalibur leverages the HTML5 Gamepad API [where it is supported](http://caniuse.com/#feat=gamepad)\r\n * to provide controller support for your games.\r\n */\r\nclass Gamepads extends Class {\r\n    constructor() {\r\n        super();\r\n        /**\r\n         * Whether or not to poll for Gamepad input (default: `false`)\r\n         */\r\n        this.enabled = false;\r\n        /**\r\n         * Whether or not Gamepad API is supported\r\n         */\r\n        this.supported = !!navigator.getGamepads;\r\n        this._gamePadTimeStamps = [0, 0, 0, 0];\r\n        this._oldPads = [];\r\n        this._pads = [];\r\n        this._initSuccess = false;\r\n        this._navigator = navigator;\r\n        this._minimumConfiguration = null;\r\n    }\r\n    init() {\r\n        if (!this.supported) {\r\n            return;\r\n        }\r\n        if (this._initSuccess) {\r\n            return;\r\n        }\r\n        // In Chrome, this will return 4 undefined items until a button is pressed\r\n        // In FF, this will not return any items until a button is pressed\r\n        this._oldPads = this._clonePads(this._navigator.getGamepads());\r\n        if (this._oldPads.length && this._oldPads[0]) {\r\n            this._initSuccess = true;\r\n        }\r\n    }\r\n    /**\r\n     * Sets the minimum gamepad configuration, for example {axis: 4, buttons: 4} means\r\n     * this game requires at minimum 4 axis inputs and 4 buttons, this is not restrictive\r\n     * all other controllers with more axis or buttons are valid as well. If no minimum\r\n     * configuration is set all pads are valid.\r\n     */\r\n    setMinimumGamepadConfiguration(config) {\r\n        this._enableAndUpdate(); // if config is used, implicitly enable\r\n        this._minimumConfiguration = config;\r\n    }\r\n    /**\r\n     * When implicitly enabled, set the enabled flag and run an update so information is updated\r\n     */\r\n    _enableAndUpdate() {\r\n        if (!this.enabled) {\r\n            this.enabled = true;\r\n            this.update();\r\n        }\r\n    }\r\n    /**\r\n     * Checks a navigator gamepad against the minimum configuration if present.\r\n     */\r\n    _isGamepadValid(pad) {\r\n        if (!this._minimumConfiguration) {\r\n            return true;\r\n        }\r\n        if (!pad) {\r\n            return false;\r\n        }\r\n        const axesLength = pad.axes.filter((value) => {\r\n            return typeof value !== undefined;\r\n        }).length;\r\n        const buttonLength = pad.buttons.filter((value) => {\r\n            return typeof value !== undefined;\r\n        }).length;\r\n        return axesLength >= this._minimumConfiguration.axis && buttonLength >= this._minimumConfiguration.buttons && pad.connected;\r\n    }\r\n    on(eventName, handler) {\r\n        this._enableAndUpdate(); // implicitly enable\r\n        super.on(eventName, handler);\r\n    }\r\n    off(eventName, handler) {\r\n        this._enableAndUpdate(); // implicitly enable\r\n        super.off(eventName, handler);\r\n    }\r\n    /**\r\n     * Updates Gamepad state and publishes Gamepad events\r\n     */\r\n    update() {\r\n        if (!this.enabled || !this.supported) {\r\n            return;\r\n        }\r\n        this.init();\r\n        const gamepads = this._navigator.getGamepads();\r\n        for (let i = 0; i < gamepads.length; i++) {\r\n            if (!gamepads[i]) {\r\n                const gamepad = this.at(i);\r\n                // If was connected, but now isn't emit the disconnect event\r\n                if (gamepad.connected) {\r\n                    this.eventDispatcher.emit('disconnect', new GamepadDisconnectEvent(i, gamepad));\r\n                }\r\n                // Reset connection status\r\n                gamepad.connected = false;\r\n                continue;\r\n            }\r\n            else {\r\n                if (!this.at(i).connected && this._isGamepadValid(gamepads[i])) {\r\n                    this.eventDispatcher.emit('connect', new GamepadConnectEvent(i, this.at(i)));\r\n                }\r\n                // Set connection status\r\n                this.at(i).connected = true;\r\n            }\r\n            // Only supported in Chrome\r\n            if (gamepads[i].timestamp && gamepads[i].timestamp === this._gamePadTimeStamps[i]) {\r\n                continue;\r\n            }\r\n            this._gamePadTimeStamps[i] = gamepads[i].timestamp;\r\n            // Add reference to navigator gamepad\r\n            this.at(i).navigatorGamepad = gamepads[i];\r\n            // Buttons\r\n            let b, bi, a, ai, value;\r\n            for (b in Buttons) {\r\n                bi = Buttons[b];\r\n                if (typeof bi === 'number') {\r\n                    if (gamepads[i].buttons[bi]) {\r\n                        value = gamepads[i].buttons[bi].value;\r\n                        if (value !== this._oldPads[i].getButton(bi)) {\r\n                            if (gamepads[i].buttons[bi].pressed) {\r\n                                this.at(i).updateButton(bi, value);\r\n                                this.at(i).eventDispatcher.emit('button', new GamepadButtonEvent(bi, value, this.at(i)));\r\n                            }\r\n                            else {\r\n                                this.at(i).updateButton(bi, 0);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // Axes\r\n            for (a in Axes) {\r\n                ai = Axes[a];\r\n                if (typeof ai === 'number') {\r\n                    value = gamepads[i].axes[ai];\r\n                    if (value !== this._oldPads[i].getAxes(ai)) {\r\n                        this.at(i).updateAxes(ai, value);\r\n                        this.at(i).eventDispatcher.emit('axis', new GamepadAxisEvent(ai, value, this.at(i)));\r\n                    }\r\n                }\r\n            }\r\n            this._oldPads[i] = this._clonePad(gamepads[i]);\r\n        }\r\n    }\r\n    /**\r\n     * Safely retrieves a Gamepad at a specific index and creates one if it doesn't yet exist\r\n     */\r\n    at(index) {\r\n        this._enableAndUpdate(); // implicitly enable gamepads when at() is called\r\n        if (index >= this._pads.length) {\r\n            // Ensure there is a pad to retrieve\r\n            for (let i = this._pads.length - 1, max = index; i < max; i++) {\r\n                this._pads.push(new Gamepad());\r\n                this._oldPads.push(new Gamepad());\r\n            }\r\n        }\r\n        return this._pads[index];\r\n    }\r\n    /**\r\n     * Returns a list of all valid gamepads that meet the minimum configuration requirement.\r\n     */\r\n    getValidGamepads() {\r\n        this._enableAndUpdate();\r\n        const result = [];\r\n        for (let i = 0; i < this._pads.length; i++) {\r\n            if (this._isGamepadValid(this.at(i).navigatorGamepad) && this.at(i).connected) {\r\n                result.push(this.at(i));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Gets the number of connected gamepads\r\n     */\r\n    count() {\r\n        return this._pads.filter((p) => p.connected).length;\r\n    }\r\n    _clonePads(pads) {\r\n        const arr = [];\r\n        for (let i = 0, len = pads.length; i < len; i++) {\r\n            arr.push(this._clonePad(pads[i]));\r\n        }\r\n        return arr;\r\n    }\r\n    /**\r\n     * Fastest way to clone a known object is to do it yourself\r\n     */\r\n    _clonePad(pad) {\r\n        let i, len;\r\n        const clonedPad = new Gamepad();\r\n        if (!pad) {\r\n            return clonedPad;\r\n        }\r\n        for (i = 0, len = pad.buttons.length; i < len; i++) {\r\n            if (pad.buttons[i]) {\r\n                clonedPad.updateButton(i, pad.buttons[i].value);\r\n            }\r\n        }\r\n        for (i = 0, len = pad.axes.length; i < len; i++) {\r\n            clonedPad.updateAxes(i, pad.axes[i]);\r\n        }\r\n        return clonedPad;\r\n    }\r\n}\r\n/**\r\n * The minimum value an axis has to move before considering it a change\r\n */\r\nGamepads.MinAxisMoveThreshold = 0.05;\r\n/**\r\n * Gamepad holds state information for a connected controller. See [[Gamepads]]\r\n * for more information on handling controller input.\r\n */\r\nclass Gamepad extends Class {\r\n    constructor() {\r\n        super();\r\n        this.connected = false;\r\n        this._buttons = new Array(16);\r\n        this._axes = new Array(4);\r\n        for (let i = 0; i < this._buttons.length; i++) {\r\n            this._buttons[i] = 0;\r\n        }\r\n        for (let i = 0; i < this._axes.length; i++) {\r\n            this._axes[i] = 0;\r\n        }\r\n    }\r\n    /**\r\n     * Whether or not the given button is pressed\r\n     * @param button     The button to query\r\n     * @param threshold  The threshold over which the button is considered to be pressed\r\n     */\r\n    isButtonPressed(button, threshold = 1) {\r\n        return this._buttons[button] >= threshold;\r\n    }\r\n    /**\r\n     * Gets the given button value between 0 and 1\r\n     */\r\n    getButton(button) {\r\n        return this._buttons[button];\r\n    }\r\n    /**\r\n     * Gets the given axis value between -1 and 1. Values below\r\n     * [[MinAxisMoveThreshold]] are considered 0.\r\n     */\r\n    getAxes(axes) {\r\n        const value = this._axes[axes];\r\n        if (Math.abs(value) < Gamepads.MinAxisMoveThreshold) {\r\n            return 0;\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n    updateButton(buttonIndex, value) {\r\n        this._buttons[buttonIndex] = value;\r\n    }\r\n    updateAxes(axesIndex, value) {\r\n        this._axes[axesIndex] = value;\r\n    }\r\n}\r\n/**\r\n * Gamepad Buttons enumeration\r\n */\r\nvar Buttons;\r\n(function (Buttons) {\r\n    /**\r\n     * Face 1 button (e.g. A)\r\n     */\r\n    Buttons[Buttons[\"Face1\"] = 0] = \"Face1\";\r\n    /**\r\n     * Face 2 button (e.g. B)\r\n     */\r\n    Buttons[Buttons[\"Face2\"] = 1] = \"Face2\";\r\n    /**\r\n     * Face 3 button (e.g. X)\r\n     */\r\n    Buttons[Buttons[\"Face3\"] = 2] = \"Face3\";\r\n    /**\r\n     * Face 4 button (e.g. Y)\r\n     */\r\n    Buttons[Buttons[\"Face4\"] = 3] = \"Face4\";\r\n    /**\r\n     * Left bumper button\r\n     */\r\n    Buttons[Buttons[\"LeftBumper\"] = 4] = \"LeftBumper\";\r\n    /**\r\n     * Right bumper button\r\n     */\r\n    Buttons[Buttons[\"RightBumper\"] = 5] = \"RightBumper\";\r\n    /**\r\n     * Left trigger button\r\n     */\r\n    Buttons[Buttons[\"LeftTrigger\"] = 6] = \"LeftTrigger\";\r\n    /**\r\n     * Right trigger button\r\n     */\r\n    Buttons[Buttons[\"RightTrigger\"] = 7] = \"RightTrigger\";\r\n    /**\r\n     * Select button\r\n     */\r\n    Buttons[Buttons[\"Select\"] = 8] = \"Select\";\r\n    /**\r\n     * Start button\r\n     */\r\n    Buttons[Buttons[\"Start\"] = 9] = \"Start\";\r\n    /**\r\n     * Left analog stick press (e.g. L3)\r\n     */\r\n    Buttons[Buttons[\"LeftStick\"] = 10] = \"LeftStick\";\r\n    /**\r\n     * Right analog stick press (e.g. R3)\r\n     */\r\n    Buttons[Buttons[\"RightStick\"] = 11] = \"RightStick\";\r\n    /**\r\n     * D-pad up\r\n     */\r\n    Buttons[Buttons[\"DpadUp\"] = 12] = \"DpadUp\";\r\n    /**\r\n     * D-pad down\r\n     */\r\n    Buttons[Buttons[\"DpadDown\"] = 13] = \"DpadDown\";\r\n    /**\r\n     * D-pad left\r\n     */\r\n    Buttons[Buttons[\"DpadLeft\"] = 14] = \"DpadLeft\";\r\n    /**\r\n     * D-pad right\r\n     */\r\n    Buttons[Buttons[\"DpadRight\"] = 15] = \"DpadRight\";\r\n})(Buttons || (Buttons = {}));\r\n/**\r\n * Gamepad Axes enumeration\r\n */\r\nvar Axes;\r\n(function (Axes) {\r\n    /**\r\n     * Left analogue stick X direction\r\n     */\r\n    Axes[Axes[\"LeftStickX\"] = 0] = \"LeftStickX\";\r\n    /**\r\n     * Left analogue stick Y direction\r\n     */\r\n    Axes[Axes[\"LeftStickY\"] = 1] = \"LeftStickY\";\r\n    /**\r\n     * Right analogue stick X direction\r\n     */\r\n    Axes[Axes[\"RightStickX\"] = 2] = \"RightStickX\";\r\n    /**\r\n     * Right analogue stick Y direction\r\n     */\r\n    Axes[Axes[\"RightStickY\"] = 3] = \"RightStickY\";\r\n})(Axes || (Axes = {}));\r\n\n;// CONCATENATED MODULE: ./Util/Browser.ts\nclass BrowserComponent {\r\n    constructor(nativeComponent) {\r\n        this.nativeComponent = nativeComponent;\r\n        this._paused = false;\r\n        this._nativeHandlers = {};\r\n    }\r\n    on(eventName, handler) {\r\n        if (this._nativeHandlers[eventName]) {\r\n            this.off(eventName, this._nativeHandlers[eventName]);\r\n        }\r\n        this._nativeHandlers[eventName] = this._decorate(handler);\r\n        this.nativeComponent.addEventListener(eventName, this._nativeHandlers[eventName]);\r\n    }\r\n    off(eventName, handler) {\r\n        if (!handler) {\r\n            handler = this._nativeHandlers[eventName];\r\n        }\r\n        this.nativeComponent.removeEventListener(eventName, handler);\r\n        this._nativeHandlers[eventName] = null;\r\n    }\r\n    _decorate(handler) {\r\n        return (evt) => {\r\n            if (!this._paused) {\r\n                handler(evt);\r\n            }\r\n        };\r\n    }\r\n    pause() {\r\n        this._paused = true;\r\n    }\r\n    resume() {\r\n        this._paused = false;\r\n    }\r\n    clear() {\r\n        for (const event in this._nativeHandlers) {\r\n            this.off(event);\r\n        }\r\n    }\r\n}\r\nclass BrowserEvents {\r\n    constructor(_windowGlobal, _documentGlobal) {\r\n        this._windowGlobal = _windowGlobal;\r\n        this._documentGlobal = _documentGlobal;\r\n        this._windowComponent = new BrowserComponent(this._windowGlobal);\r\n        this._documentComponent = new BrowserComponent(this._documentGlobal);\r\n    }\r\n    get window() {\r\n        return this._windowComponent;\r\n    }\r\n    get document() {\r\n        return this._documentComponent;\r\n    }\r\n    pause() {\r\n        this.window.pause();\r\n        this.document.pause();\r\n    }\r\n    resume() {\r\n        this.window.resume();\r\n        this.document.resume();\r\n    }\r\n    clear() {\r\n        this.window.clear();\r\n        this.document.clear();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Context/ExcaliburGraphicsContext2DCanvas.ts\n\r\n\r\n\r\n\r\nclass ExcaliburGraphicsContext2DCanvasDebug {\r\n    constructor(_ex) {\r\n        this._ex = _ex;\r\n        this._debugText = new DebugText();\r\n    }\r\n    /**\r\n     * Draw a debug rectangle to the context\r\n     * @param x\r\n     * @param y\r\n     * @param width\r\n     * @param height\r\n     */\r\n    drawRect(x, y, width, height) {\r\n        this._ex.__ctx.save();\r\n        this._ex.__ctx.strokeStyle = 'red';\r\n        this._ex.__ctx.strokeRect(this._ex.snapToPixel ? ~~x : x, this._ex.snapToPixel ? ~~y : y, this._ex.snapToPixel ? ~~width : width, this._ex.snapToPixel ? ~~height : height);\r\n        this._ex.__ctx.restore();\r\n    }\r\n    drawLine(start, end, lineOptions = { color: Color.Black }) {\r\n        this._ex.__ctx.save();\r\n        this._ex.__ctx.beginPath();\r\n        this._ex.__ctx.strokeStyle = lineOptions.color.toString();\r\n        this._ex.__ctx.moveTo(this._ex.snapToPixel ? ~~start.x : start.x, this._ex.snapToPixel ? ~~start.y : start.y);\r\n        this._ex.__ctx.lineTo(this._ex.snapToPixel ? ~~end.x : end.x, this._ex.snapToPixel ? ~~end.y : end.y);\r\n        this._ex.__ctx.lineWidth = 2;\r\n        this._ex.__ctx.stroke();\r\n        this._ex.__ctx.closePath();\r\n        this._ex.__ctx.restore();\r\n    }\r\n    drawPoint(point, pointOptions = { color: Color.Black, size: 5 }) {\r\n        this._ex.__ctx.save();\r\n        this._ex.__ctx.beginPath();\r\n        this._ex.__ctx.fillStyle = pointOptions.color.toString();\r\n        this._ex.__ctx.arc(this._ex.snapToPixel ? ~~point.x : point.x, this._ex.snapToPixel ? ~~point.y : point.y, pointOptions.size, 0, Math.PI * 2);\r\n        this._ex.__ctx.fill();\r\n        this._ex.__ctx.closePath();\r\n        this._ex.__ctx.restore();\r\n    }\r\n    drawText(text, pos) {\r\n        this._debugText.write(this._ex, text, pos);\r\n    }\r\n}\r\nclass ExcaliburGraphicsContext2DCanvas {\r\n    constructor(options) {\r\n        this.backgroundColor = Color.ExcaliburBlue;\r\n        this._state = new StateStack();\r\n        this.snapToPixel = true;\r\n        this.debug = new ExcaliburGraphicsContext2DCanvasDebug(this);\r\n        const { canvasElement, enableTransparency, snapToPixel, smoothing, backgroundColor } = options;\r\n        this.__ctx = canvasElement.getContext('2d', {\r\n            alpha: enableTransparency !== null && enableTransparency !== void 0 ? enableTransparency : true\r\n        });\r\n        this.backgroundColor = backgroundColor !== null && backgroundColor !== void 0 ? backgroundColor : this.backgroundColor;\r\n        this.snapToPixel = snapToPixel !== null && snapToPixel !== void 0 ? snapToPixel : this.snapToPixel;\r\n        this.smoothing = smoothing !== null && smoothing !== void 0 ? smoothing : this.smoothing;\r\n    }\r\n    get width() {\r\n        return this.__ctx.canvas.width;\r\n    }\r\n    get height() {\r\n        return this.__ctx.canvas.height;\r\n    }\r\n    get opacity() {\r\n        return this._state.current.opacity;\r\n    }\r\n    set opacity(value) {\r\n        this._state.current.opacity = value;\r\n    }\r\n    get smoothing() {\r\n        return this.__ctx.imageSmoothingEnabled;\r\n    }\r\n    set smoothing(value) {\r\n        this.__ctx.imageSmoothingEnabled = value;\r\n    }\r\n    resetTransform() {\r\n        this.__ctx.resetTransform();\r\n    }\r\n    updateViewport() {\r\n        // pass\r\n    }\r\n    drawImage(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\r\n        if (swidth === 0 || sheight === 0) {\r\n            return; // zero dimension dest exit early\r\n        }\r\n        else if (dwidth === 0 || dheight === 0) {\r\n            return; // zero dimension dest exit early\r\n        }\r\n        else if (image.width === 0 || image.height === 0) {\r\n            return; // zero dimension source exit early\r\n        }\r\n        this.__ctx.globalAlpha = this.opacity;\r\n        const args = [image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight]\r\n            .filter((a) => a !== undefined)\r\n            .map((a) => (typeof a === 'number' && this.snapToPixel ? ~~a : a));\r\n        this.__ctx.drawImage.apply(this.__ctx, args);\r\n        GraphicsDiagnostics.DrawCallCount++;\r\n        GraphicsDiagnostics.DrawnImagesCount = 1;\r\n    }\r\n    drawLine(start, end, color, thickness = 1) {\r\n        this.__ctx.save();\r\n        this.__ctx.beginPath();\r\n        this.__ctx.strokeStyle = color.toString();\r\n        this.__ctx.moveTo(this.snapToPixel ? ~~start.x : start.x, this.snapToPixel ? ~~start.y : start.y);\r\n        this.__ctx.lineTo(this.snapToPixel ? ~~end.x : end.x, this.snapToPixel ? ~~end.y : end.y);\r\n        this.__ctx.lineWidth = thickness;\r\n        this.__ctx.stroke();\r\n        this.__ctx.closePath();\r\n        this.__ctx.restore();\r\n    }\r\n    drawRectangle(pos, width, height, color) {\r\n        this.__ctx.save();\r\n        this.__ctx.fillStyle = color.toString();\r\n        this.__ctx.fillRect(this.snapToPixel ? ~~pos.x : pos.x, this.snapToPixel ? ~~pos.y : pos.y, this.snapToPixel ? ~~width : width, this.snapToPixel ? ~~height : height);\r\n        this.__ctx.restore();\r\n    }\r\n    drawCircle(pos, radius, color) {\r\n        this.__ctx.save();\r\n        this.__ctx.beginPath();\r\n        this.__ctx.fillStyle = color.toString();\r\n        this.__ctx.arc(this.snapToPixel ? ~~pos.x : pos.x, this.snapToPixel ? ~~pos.y : pos.y, radius, 0, Math.PI * 2);\r\n        this.__ctx.fill();\r\n        this.__ctx.closePath();\r\n        this.__ctx.restore();\r\n    }\r\n    /**\r\n     * Save the current state of the canvas to the stack (transforms and opacity)\r\n     */\r\n    save() {\r\n        this.__ctx.save();\r\n    }\r\n    /**\r\n     * Restore the state of the canvas from the stack\r\n     */\r\n    restore() {\r\n        this.__ctx.restore();\r\n    }\r\n    /**\r\n     * Translate the origin of the context by an x and y\r\n     * @param x\r\n     * @param y\r\n     */\r\n    translate(x, y) {\r\n        this.__ctx.translate(this.snapToPixel ? ~~x : x, this.snapToPixel ? ~~y : y);\r\n    }\r\n    /**\r\n     * Rotate the context about the current origin\r\n     */\r\n    rotate(angle) {\r\n        this.__ctx.rotate(angle);\r\n    }\r\n    /**\r\n     * Scale the context by an x and y factor\r\n     * @param x\r\n     * @param y\r\n     */\r\n    scale(x, y) {\r\n        this.__ctx.scale(x, y);\r\n    }\r\n    clear() {\r\n        // Clear frame\r\n        this.__ctx.clearRect(0, 0, this.width, this.height);\r\n        this.__ctx.fillStyle = this.backgroundColor.toString();\r\n        this.__ctx.fillRect(0, 0, this.width, this.height);\r\n        GraphicsDiagnostics.clear();\r\n    }\r\n    /**\r\n     * Flushes the batched draw calls to the screen\r\n     */\r\n    flush() {\r\n        // pass\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Engine.ts\nvar Engine_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\npolyfill();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Enum representing the different mousewheel event bubble prevention\r\n */\r\nvar ScrollPreventionMode;\r\n(function (ScrollPreventionMode) {\r\n    /**\r\n     * Do not prevent any page scrolling\r\n     */\r\n    ScrollPreventionMode[ScrollPreventionMode[\"None\"] = 0] = \"None\";\r\n    /**\r\n     * Prevent page scroll if mouse is over the game canvas\r\n     */\r\n    ScrollPreventionMode[ScrollPreventionMode[\"Canvas\"] = 1] = \"Canvas\";\r\n    /**\r\n     * Prevent all page scrolling via mouse wheel\r\n     */\r\n    ScrollPreventionMode[ScrollPreventionMode[\"All\"] = 2] = \"All\";\r\n})(ScrollPreventionMode || (ScrollPreventionMode = {}));\r\n/**\r\n * The Excalibur Engine\r\n *\r\n * The [[Engine]] is the main driver for a game. It is responsible for\r\n * starting/stopping the game, maintaining state, transmitting events,\r\n * loading resources, and managing the scene.\r\n */\r\nclass Engine extends Class {\r\n    /**\r\n     * Creates a new game using the given [[EngineOptions]]. By default, if no options are provided,\r\n     * the game will be rendered full screen (taking up all available browser window space).\r\n     * You can customize the game rendering through [[EngineOptions]].\r\n     *\r\n     * Example:\r\n     *\r\n     * ```js\r\n     * var game = new ex.Engine({\r\n     *   width: 0, // the width of the canvas\r\n     *   height: 0, // the height of the canvas\r\n     *   enableCanvasTransparency: true, // the transparencySection of the canvas\r\n     *   canvasElementId: '', // the DOM canvas element ID, if you are providing your own\r\n     *   displayMode: ex.DisplayMode.FullScreen, // the display mode\r\n     *   pointerScope: ex.Input.PointerScope.Document, // the scope of capturing pointer (mouse/touch) events\r\n     *   backgroundColor: ex.Color.fromHex('#2185d0') // background color of the engine\r\n     * });\r\n     *\r\n     * // call game.start, which is a Promise\r\n     * game.start().then(function () {\r\n     *   // ready, set, go!\r\n     * });\r\n     * ```\r\n     */\r\n    constructor(options) {\r\n        var _a, _b, _c;\r\n        super();\r\n        this._hasStarted = false;\r\n        /**\r\n         * Gets or sets the list of post processors to apply at the end of drawing a frame (such as [[ColorBlindCorrector]])\r\n         */\r\n        this.postProcessors = [];\r\n        /**\r\n         * Contains all the scenes currently registered with Excalibur\r\n         */\r\n        this.scenes = {};\r\n        /**\r\n         * @hidden\r\n         * @deprecated\r\n         */\r\n        this._animations = [];\r\n        this._suppressPlayButton = false;\r\n        /**\r\n         * Indicates whether audio should be paused when the game is no longer visible.\r\n         */\r\n        this.pauseAudioWhenHidden = true;\r\n        /**\r\n         * Indicates whether the engine should draw with debug information\r\n         */\r\n        this._isDebug = false;\r\n        this.debugColor = new Color(255, 255, 255);\r\n        /**\r\n         * Sets the Transparency for the engine.\r\n         */\r\n        this.enableCanvasTransparency = true;\r\n        /**\r\n         * The action to take when a fatal exception is thrown\r\n         */\r\n        this.onFatalException = (e) => {\r\n            Logger.getInstance().fatal(e);\r\n        };\r\n        this._timescale = 1.0;\r\n        this._isLoading = false;\r\n        this._isInitialized = false;\r\n        this._deferredGoTo = null;\r\n        this._loadingComplete = false;\r\n        options = Object.assign(Object.assign({}, Engine._DEFAULT_ENGINE_OPTIONS), options);\r\n        Flags.freeze();\r\n        // Initialize browser events facade\r\n        this.browser = new BrowserEvents(window, document);\r\n        // Check compatibility\r\n        const detector = new Detector();\r\n        if (!options.suppressMinimumBrowserFeatureDetection && !(this._compatible = detector.test())) {\r\n            const message = document.createElement('div');\r\n            message.innerText = 'Sorry, your browser does not support all the features needed for Excalibur';\r\n            document.body.appendChild(message);\r\n            detector.failedTests.forEach(function (test) {\r\n                const testMessage = document.createElement('div');\r\n                testMessage.innerText = 'Browser feature missing ' + test;\r\n                document.body.appendChild(testMessage);\r\n            });\r\n            if (options.canvasElementId) {\r\n                const canvas = document.getElementById(options.canvasElementId);\r\n                if (canvas) {\r\n                    canvas.parentElement.removeChild(canvas);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n        else {\r\n            this._compatible = true;\r\n        }\r\n        // Use native console API for color fun\r\n        // eslint-disable-next-line no-console\r\n        if (console.log && !options.suppressConsoleBootMessage) {\r\n            // eslint-disable-next-line no-console\r\n            console.log(`%cPowered by Excalibur.js (v${EX_VERSION})`, 'background: #176BAA; color: white; border-radius: 5px; padding: 15px; font-size: 1.5em; line-height: 80px;');\r\n            // eslint-disable-next-line no-console\r\n            console.log('\\n\\\r\n      /| ________________\\n\\\r\nO|===|* >________________>\\n\\\r\n      \\\\|');\r\n            // eslint-disable-next-line no-console\r\n            console.log('Visit', 'http://excaliburjs.com', 'for more information');\r\n        }\r\n        // Suppress play button\r\n        if (options.suppressPlayButton) {\r\n            this._suppressPlayButton = true;\r\n        }\r\n        this._logger = Logger.getInstance();\r\n        // If debug is enabled, let's log browser features to the console.\r\n        if (this._logger.defaultLevel === LogLevel.Debug) {\r\n            detector.logBrowserFeatures();\r\n        }\r\n        this._logger.debug('Building engine...');\r\n        this.canvasElementId = options.canvasElementId;\r\n        if (options.canvasElementId) {\r\n            this._logger.debug('Using Canvas element specified: ' + options.canvasElementId);\r\n            this.canvas = document.getElementById(options.canvasElementId);\r\n        }\r\n        else if (options.canvasElement) {\r\n            this._logger.debug('Using Canvas element specified:', options.canvasElement);\r\n            this.canvas = options.canvasElement;\r\n        }\r\n        else {\r\n            this._logger.debug('Using generated canvas element');\r\n            this.canvas = document.createElement('canvas');\r\n        }\r\n        let displayMode = (_a = options.displayMode) !== null && _a !== void 0 ? _a : DisplayMode.Fixed;\r\n        if ((options.width && options.height) || options.viewport) {\r\n            if (options.displayMode === undefined) {\r\n                displayMode = DisplayMode.Fixed;\r\n            }\r\n            this._logger.debug('Engine viewport is size ' + options.width + ' x ' + options.height);\r\n        }\r\n        else if (!options.displayMode) {\r\n            this._logger.debug('Engine viewport is fit');\r\n            displayMode = DisplayMode.FitScreen;\r\n        }\r\n        if (Flags.isEnabled(Legacy.Canvas)) {\r\n            const ex2dCtx = new ExcaliburGraphicsContext2DCanvas({\r\n                canvasElement: this.canvas,\r\n                enableTransparency: this.enableCanvasTransparency,\r\n                smoothing: options.antialiasing,\r\n                backgroundColor: options.backgroundColor,\r\n                snapToPixel: options.snapToPixel\r\n            });\r\n            this.graphicsContext = ex2dCtx;\r\n            this.ctx = ex2dCtx.__ctx;\r\n        }\r\n        else {\r\n            const exWebglCtx = new ExcaliburGraphicsContextWebGL({\r\n                canvasElement: this.canvas,\r\n                enableTransparency: this.enableCanvasTransparency,\r\n                smoothing: options.antialiasing,\r\n                backgroundColor: options.backgroundColor,\r\n                snapToPixel: options.snapToPixel\r\n            });\r\n            this.graphicsContext = exWebglCtx;\r\n            this.ctx = exWebglCtx.__ctx;\r\n        }\r\n        this.screen = new Screen({\r\n            canvas: this.canvas,\r\n            context: this.graphicsContext,\r\n            antialiasing: (_b = options.antialiasing) !== null && _b !== void 0 ? _b : true,\r\n            browser: this.browser,\r\n            viewport: (_c = options.viewport) !== null && _c !== void 0 ? _c : (options.width && options.height ? { width: options.width, height: options.height } : Resolution.SVGA),\r\n            resolution: options.resolution,\r\n            displayMode,\r\n            position: options.position,\r\n            pixelRatio: options.suppressHiDPIScaling ? 1 : null\r\n        });\r\n        if (options.backgroundColor) {\r\n            this.backgroundColor = options.backgroundColor.clone();\r\n        }\r\n        this.enableCanvasTransparency = options.enableCanvasTransparency;\r\n        this._loader = new Loader();\r\n        this.debug = new Debug(this);\r\n        this._initialize(options);\r\n        this.rootScene = this.currentScene = new Scene();\r\n        this.addScene('root', this.rootScene);\r\n    }\r\n    /**\r\n     * The width of the game canvas in pixels (physical width component of the\r\n     * resolution of the canvas element)\r\n     */\r\n    get canvasWidth() {\r\n        return this.screen.canvasWidth;\r\n    }\r\n    /**\r\n     * Returns half width of the game canvas in pixels (half physical width component)\r\n     */\r\n    get halfCanvasWidth() {\r\n        return this.screen.halfCanvasWidth;\r\n    }\r\n    /**\r\n     * The height of the game canvas in pixels, (physical height component of\r\n     * the resolution of the canvas element)\r\n     */\r\n    get canvasHeight() {\r\n        return this.screen.canvasHeight;\r\n    }\r\n    /**\r\n     * Returns half height of the game canvas in pixels (half physical height component)\r\n     */\r\n    get halfCanvasHeight() {\r\n        return this.screen.halfCanvasHeight;\r\n    }\r\n    /**\r\n     * Returns the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\r\n     */\r\n    get drawWidth() {\r\n        return this.screen.drawWidth;\r\n    }\r\n    /**\r\n     * Returns half the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\r\n     */\r\n    get halfDrawWidth() {\r\n        return this.screen.halfDrawWidth;\r\n    }\r\n    /**\r\n     * Returns the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\r\n     */\r\n    get drawHeight() {\r\n        return this.screen.drawHeight;\r\n    }\r\n    /**\r\n     * Returns half the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\r\n     */\r\n    get halfDrawHeight() {\r\n        return this.screen.halfDrawHeight;\r\n    }\r\n    /**\r\n     * Returns whether excalibur detects the current screen to be HiDPI\r\n     */\r\n    get isHiDpi() {\r\n        return this.screen.isHiDpi;\r\n    }\r\n    /**\r\n     * Access [[stats]] that holds frame statistics.\r\n     */\r\n    get stats() {\r\n        return this.debug.stats;\r\n    }\r\n    /**\r\n     * Indicates whether the engine is set to fullscreen or not\r\n     */\r\n    get isFullscreen() {\r\n        return this.screen.isFullScreen;\r\n    }\r\n    /**\r\n     * Indicates the current [[DisplayMode]] of the engine.\r\n     */\r\n    get displayMode() {\r\n        return this.screen.displayMode;\r\n    }\r\n    /**\r\n     * Returns the calculated pixel ration for use in rendering\r\n     */\r\n    get pixelRatio() {\r\n        return this.screen.pixelRatio;\r\n    }\r\n    get isDebug() {\r\n        return this._isDebug;\r\n    }\r\n    on(eventName, handler) {\r\n        super.on(eventName, handler);\r\n    }\r\n    once(eventName, handler) {\r\n        super.once(eventName, handler);\r\n    }\r\n    off(eventName, handler) {\r\n        super.off(eventName, handler);\r\n    }\r\n    /**\r\n     * Returns a BoundingBox of the top left corner of the screen\r\n     * and the bottom right corner of the screen.\r\n     */\r\n    getWorldBounds() {\r\n        return this.screen.getWorldBounds();\r\n    }\r\n    /**\r\n     * Gets the current engine timescale factor (default is 1.0 which is 1:1 time)\r\n     */\r\n    get timescale() {\r\n        return this._timescale;\r\n    }\r\n    /**\r\n     * Sets the current engine timescale factor. Useful for creating slow-motion effects or fast-forward effects\r\n     * when using time-based movement.\r\n     */\r\n    set timescale(value) {\r\n        if (value <= 0) {\r\n            Logger.getInstance().error('Cannot set engine.timescale to a value of 0 or less than 0.');\r\n            return;\r\n        }\r\n        this._timescale = value;\r\n    }\r\n    /**\r\n     * Plays a sprite animation on the screen at the specified `x` and `y`\r\n     * (in game coordinates, not screen pixels). These animations play\r\n     * independent of actors, and will be cleaned up internally as soon\r\n     * as they are complete. Note animations that loop will never be\r\n     * cleaned up.\r\n     *\r\n     * @param animation  Animation to play\r\n     * @param x          x game coordinate to play the animation\r\n     * @param y          y game coordinate to play the animation\r\n     * @deprecated\r\n     */\r\n    playAnimation(animation, x, y) {\r\n        this._animations.push(new AnimationNode(animation, x, y));\r\n    }\r\n    /**\r\n     * Adds a [[TileMap]] to the [[currentScene]], once this is done the TileMap\r\n     * will be drawn and updated.\r\n     */\r\n    addTileMap(tileMap) {\r\n        this.currentScene.addTileMap(tileMap);\r\n    }\r\n    /**\r\n     * Removes a [[TileMap]] from the [[currentScene]], it will no longer be drawn or updated.\r\n     */\r\n    removeTileMap(tileMap) {\r\n        this.currentScene.removeTileMap(tileMap);\r\n    }\r\n    /**\r\n     * Adds a [[Timer]] to the [[currentScene]].\r\n     * @param timer  The timer to add to the [[currentScene]].\r\n     */\r\n    addTimer(timer) {\r\n        return this.currentScene.addTimer(timer);\r\n    }\r\n    /**\r\n     * Removes a [[Timer]] from the [[currentScene]].\r\n     * @param timer  The timer to remove to the [[currentScene]].\r\n     */\r\n    removeTimer(timer) {\r\n        return this.currentScene.removeTimer(timer);\r\n    }\r\n    /**\r\n     * Adds a [[Scene]] to the engine, think of scenes in Excalibur as you\r\n     * would levels or menus.\r\n     *\r\n     * @param key  The name of the scene, must be unique\r\n     * @param scene The scene to add to the engine\r\n     */\r\n    addScene(key, scene) {\r\n        if (this.scenes[key]) {\r\n            this._logger.warn('Scene', key, 'already exists overwriting');\r\n        }\r\n        this.scenes[key] = scene;\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    removeScene(entity) {\r\n        if (entity instanceof Scene) {\r\n            // remove scene\r\n            for (const key in this.scenes) {\r\n                if (this.scenes.hasOwnProperty(key)) {\r\n                    if (this.scenes[key] === entity) {\r\n                        delete this.scenes[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (typeof entity === 'string') {\r\n            // remove scene\r\n            delete this.scenes[entity];\r\n        }\r\n    }\r\n    add(entity) {\r\n        if (arguments.length === 2) {\r\n            this.addScene(arguments[0], arguments[1]);\r\n            return;\r\n        }\r\n        if (this._deferredGoTo && this.scenes[this._deferredGoTo]) {\r\n            this.scenes[this._deferredGoTo].add(entity);\r\n        }\r\n        else {\r\n            this.currentScene.add(entity);\r\n        }\r\n    }\r\n    remove(entity) {\r\n        if (entity instanceof Entity) {\r\n            this.currentScene.remove(entity);\r\n        }\r\n        if (entity instanceof Scene) {\r\n            this.removeScene(entity);\r\n        }\r\n        if (typeof entity === 'string') {\r\n            this.removeScene(entity);\r\n        }\r\n    }\r\n    /**\r\n     * Changes the currently updating and drawing scene to a different,\r\n     * named scene. Calls the [[Scene]] lifecycle events.\r\n     * @param key  The key of the scene to transition to.\r\n     */\r\n    goToScene(key) {\r\n        // if not yet initialized defer goToScene\r\n        if (!this.isInitialized) {\r\n            this._deferredGoTo = key;\r\n            return;\r\n        }\r\n        if (this.scenes[key]) {\r\n            const oldScene = this.currentScene;\r\n            const newScene = this.scenes[key];\r\n            this._logger.debug('Going to scene:', key);\r\n            // only deactivate when initialized\r\n            if (this.currentScene.isInitialized) {\r\n                this.currentScene._deactivate.apply(this.currentScene, [oldScene, newScene]);\r\n                this.currentScene.eventDispatcher.emit('deactivate', new DeactivateEvent(newScene, this.currentScene));\r\n            }\r\n            // set current scene to new one\r\n            this.currentScene = newScene;\r\n            this.screen.setCurrentCamera(newScene.camera);\r\n            // initialize the current scene if has not been already\r\n            this.currentScene._initialize(this);\r\n            this.currentScene._activate.apply(this.currentScene, [oldScene, newScene]);\r\n            this.currentScene.eventDispatcher.emit('activate', new ActivateEvent(oldScene, this.currentScene));\r\n        }\r\n        else {\r\n            this._logger.error('Scene', key, 'does not exist!');\r\n        }\r\n    }\r\n    /**\r\n     * Transforms the current x, y from screen coordinates to world coordinates\r\n     * @param point  Screen coordinate to convert\r\n     */\r\n    screenToWorldCoordinates(point) {\r\n        return this.screen.screenToWorldCoordinates(point);\r\n    }\r\n    /**\r\n     * Transforms a world coordinate, to a screen coordinate\r\n     * @param point  World coordinate to convert\r\n     */\r\n    worldToScreenCoordinates(point) {\r\n        return this.screen.worldToScreenCoordinates(point);\r\n    }\r\n    /**\r\n     * Initializes the internal canvas, rendering context, display mode, and native event listeners\r\n     */\r\n    _initialize(options) {\r\n        this.pageScrollPreventionMode = options.scrollPreventionMode;\r\n        // initialize inputs\r\n        this.input = {\r\n            keyboard: new Keyboard(),\r\n            pointers: new Pointers(this),\r\n            gamepads: new Gamepads()\r\n        };\r\n        this.input.keyboard.init();\r\n        this.input.pointers.init(options && options.pointerScope === PointerScope.Document ? document : this.canvas);\r\n        this.input.gamepads.init();\r\n        // Issue #385 make use of the visibility api\r\n        // https://developer.mozilla.org/en-US/docs/Web/Guide/User_experience/Using_the_Page_Visibility_API\r\n        let hidden, visibilityChange;\r\n        if (typeof document.hidden !== 'undefined') {\r\n            // Opera 12.10 and Firefox 18 and later support\r\n            hidden = 'hidden';\r\n            visibilityChange = 'visibilitychange';\r\n        }\r\n        else if ('msHidden' in document) {\r\n            hidden = 'msHidden';\r\n            visibilityChange = 'msvisibilitychange';\r\n        }\r\n        else if ('webkitHidden' in document) {\r\n            hidden = 'webkitHidden';\r\n            visibilityChange = 'webkitvisibilitychange';\r\n        }\r\n        this.browser.document.on(visibilityChange, () => {\r\n            if (document[hidden]) {\r\n                this.eventDispatcher.emit('hidden', new HiddenEvent(this));\r\n                this._logger.debug('Window hidden');\r\n            }\r\n            else {\r\n                this.eventDispatcher.emit('visible', new VisibleEvent(this));\r\n                this._logger.debug('Window visible');\r\n            }\r\n        });\r\n        if (!this.canvasElementId && !options.canvasElement) {\r\n            document.body.appendChild(this.canvas);\r\n        }\r\n    }\r\n    onInitialize(_engine) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * If supported by the browser, this will set the antialiasing flag on the\r\n     * canvas. Set this to `false` if you want a 'jagged' pixel art look to your\r\n     * image resources.\r\n     * @param isSmooth  Set smoothing to true or false\r\n     */\r\n    setAntialiasing(isSmooth) {\r\n        this.screen.antialiasing = isSmooth;\r\n    }\r\n    /**\r\n     * Return the current smoothing status of the canvas\r\n     */\r\n    getAntialiasing() {\r\n        return this.screen.antialiasing;\r\n    }\r\n    /**\r\n     * Gets whether the actor is Initialized\r\n     */\r\n    get isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n    _overrideInitialize(engine) {\r\n        if (!this.isInitialized) {\r\n            this.onInitialize(engine);\r\n            super.emit('initialize', new InitializeEvent(engine, this));\r\n            this._isInitialized = true;\r\n            if (this._deferredGoTo) {\r\n                this.goToScene(this._deferredGoTo);\r\n            }\r\n            else {\r\n                this.goToScene('root');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Updates the entire state of the game\r\n     * @param delta  Number of milliseconds elapsed since the last update.\r\n     */\r\n    _update(delta) {\r\n        if (this._isLoading) {\r\n            // suspend updates until loading is finished\r\n            this._loader.update(this, delta);\r\n            // Update input listeners\r\n            this.input.keyboard.update();\r\n            this.input.pointers.update();\r\n            this.input.gamepads.update();\r\n            return;\r\n        }\r\n        this._overrideInitialize(this);\r\n        // Publish preupdate events\r\n        this._preupdate(delta);\r\n        // process engine level events\r\n        this.currentScene.update(this, delta);\r\n        // update animations\r\n        // TODO remove\r\n        this._animations = this._animations.filter(function (a) {\r\n            return !a.animation.isDone();\r\n        });\r\n        // Update input listeners\r\n        this.input.keyboard.update();\r\n        this.input.pointers.update();\r\n        this.input.gamepads.update();\r\n        // Publish update event\r\n        this._postupdate(delta);\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    _preupdate(delta) {\r\n        this.emit('preupdate', new PreUpdateEvent(this, delta, this));\r\n        this.onPreUpdate(this, delta);\r\n    }\r\n    onPreUpdate(_engine, _delta) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    _postupdate(delta) {\r\n        this.emit('postupdate', new PostUpdateEvent(this, delta, this));\r\n        this.onPostUpdate(this, delta);\r\n    }\r\n    onPostUpdate(_engine, _delta) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * Draws the entire game\r\n     * @param delta  Number of milliseconds elapsed since the last draw.\r\n     */\r\n    _draw(delta) {\r\n        const ctx = this.ctx;\r\n        this._predraw(ctx, delta);\r\n        if (this._isLoading) {\r\n            this._loader.canvas.draw(this.graphicsContext, 0, 0);\r\n            this.graphicsContext.flush();\r\n            // Drawing nothing else while loading\r\n            return;\r\n        }\r\n        // TODO move to graphics systems?\r\n        this.graphicsContext.backgroundColor = this.backgroundColor;\r\n        this.currentScene.draw(this.ctx, delta);\r\n        // todo needs to be a better way of doing this\r\n        let a = 0;\r\n        const len = this._animations.length;\r\n        for (a; a < len; a++) {\r\n            this._animations[a].animation.draw(ctx, this._animations[a].x, this._animations[a].y);\r\n        }\r\n        // Draw debug information\r\n        // TODO don't access ctx directly\r\n        if (this.isDebug) {\r\n            this.ctx.font = 'Consolas';\r\n            this.ctx.fillStyle = this.debugColor.toString();\r\n            const keys = this.input.keyboard.getKeys();\r\n            for (let j = 0; j < keys.length; j++) {\r\n                this.ctx.fillText(keys[j].toString() + ' : ' + (Keys[keys[j]] ? Keys[keys[j]] : 'Not Mapped'), 100, 10 * j + 10);\r\n            }\r\n            this.ctx.fillText('FPS:' + this.stats.currFrame.fps.toFixed(2).toString(), 10, 10);\r\n        }\r\n        // Post processing\r\n        for (let i = 0; i < this.postProcessors.length; i++) {\r\n            this.postProcessors[i].process(this.ctx.getImageData(0, 0, this.canvasWidth, this.canvasHeight), this.ctx);\r\n        }\r\n        this._postdraw(ctx, delta);\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    _predraw(_ctx, delta) {\r\n        this.emit('predraw', new PreDrawEvent(_ctx, delta, this));\r\n        this.onPreDraw(_ctx, delta);\r\n    }\r\n    onPreDraw(_ctx, _delta) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    _postdraw(_ctx, delta) {\r\n        this.emit('postdraw', new PostDrawEvent(_ctx, delta, this));\r\n        this.onPostDraw(_ctx, delta);\r\n    }\r\n    onPostDraw(_ctx, _delta) {\r\n        // Override me\r\n    }\r\n    /**\r\n     * Enable or disable Excalibur debugging functionality.\r\n     * @param toggle a value that debug drawing will be changed to\r\n     */\r\n    showDebug(toggle) {\r\n        this._isDebug = toggle;\r\n    }\r\n    /**\r\n     * Toggle Excalibur debugging functionality.\r\n     */\r\n    toggleDebug() {\r\n        this._isDebug = !this._isDebug;\r\n        return this._isDebug;\r\n    }\r\n    /**\r\n     * Returns true when loading is totally complete and the player has clicked start\r\n     */\r\n    get loadingComplete() {\r\n        return this._loadingComplete;\r\n    }\r\n    /**\r\n     * Starts the internal game loop for Excalibur after loading\r\n     * any provided assets.\r\n     * @param loader  Optional [[Loader]] to use to load resources. The default loader is [[Loader]], override to provide your own\r\n     * custom loader.\r\n     */\r\n    start(loader) {\r\n        if (!this._compatible) {\r\n            return Promise.reject('Excalibur is incompatible with your browser');\r\n        }\r\n        let loadingComplete;\r\n        // Push the current user entered resolution/viewport\r\n        this.screen.pushResolutionAndViewport();\r\n        // Configure resolution for loader\r\n        this.screen.resolution = this.screen.viewport;\r\n        this.screen.applyResolutionAndViewport();\r\n        this.graphicsContext.updateViewport();\r\n        if (loader) {\r\n            this._loader = loader;\r\n            this._loader.suppressPlayButton = this._suppressPlayButton || this._loader.suppressPlayButton;\r\n            this._loader.wireEngine(this);\r\n            loadingComplete = this.load(this._loader);\r\n        }\r\n        else {\r\n            loadingComplete = Promise.resolve();\r\n        }\r\n        loadingComplete.then(() => {\r\n            this.screen.popResolutionAndViewport();\r\n            this.screen.applyResolutionAndViewport();\r\n            this.graphicsContext.updateViewport();\r\n            this.emit('start', new GameStartEvent(this));\r\n            this._loadingComplete = true;\r\n        });\r\n        if (!this._hasStarted) {\r\n            // has started is a slight misnomer, it's really mainloop started\r\n            this._hasStarted = true;\r\n            this._logger.debug('Starting game...');\r\n            this.browser.resume();\r\n            Engine.createMainLoop(this, window.requestAnimationFrame, Date.now)();\r\n            this._logger.debug('Game started');\r\n        }\r\n        else {\r\n            // Game already started;\r\n        }\r\n        return loadingComplete;\r\n    }\r\n    static createMainLoop(game, raf, nowFn) {\r\n        let lastTime = nowFn();\r\n        return function mainloop() {\r\n            if (!game._hasStarted) {\r\n                return;\r\n            }\r\n            try {\r\n                game._requestId = raf(mainloop);\r\n                game.emit('preframe', new PreFrameEvent(game, game.stats.prevFrame));\r\n                // Get the time to calculate time-elapsed\r\n                const now = nowFn();\r\n                let elapsed = Math.floor(now - lastTime) || 1;\r\n                // Resolves issue #138 if the game has been paused, or blurred for\r\n                // more than a 200 milliseconds, reset elapsed time to 1. This improves reliability\r\n                // and provides more expected behavior when the engine comes back\r\n                // into focus\r\n                if (elapsed > 200) {\r\n                    elapsed = 1;\r\n                }\r\n                const delta = elapsed * game.timescale;\r\n                // reset frame stats (reuse existing instances)\r\n                const frameId = game.stats.prevFrame.id + 1;\r\n                game.stats.currFrame.reset();\r\n                game.stats.currFrame.id = frameId;\r\n                game.stats.currFrame.delta = delta;\r\n                game.stats.currFrame.fps = 1.0 / (delta / 1000);\r\n                const beforeUpdate = nowFn();\r\n                game._update(delta);\r\n                const afterUpdate = nowFn();\r\n                game._draw(delta);\r\n                const afterDraw = nowFn();\r\n                game.stats.currFrame.duration.update = afterUpdate - beforeUpdate;\r\n                game.stats.currFrame.duration.draw = afterDraw - afterUpdate;\r\n                lastTime = now;\r\n                game.emit('postframe', new PostFrameEvent(game, game.stats.currFrame));\r\n                game.stats.prevFrame.reset(game.stats.currFrame);\r\n            }\r\n            catch (e) {\r\n                window.cancelAnimationFrame(game._requestId);\r\n                game.stop();\r\n                game.onFatalException(e);\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * Stops Excalibur's main loop, useful for pausing the game.\r\n     */\r\n    stop() {\r\n        if (this._hasStarted) {\r\n            this.emit('stop', new GameStopEvent(this));\r\n            this.browser.pause();\r\n            this._hasStarted = false;\r\n            this._logger.debug('Game stopped');\r\n        }\r\n    }\r\n    /**\r\n     * Returns the Engine's Running status, Useful for checking whether engine is running or paused.\r\n     */\r\n    isPaused() {\r\n        return !this._hasStarted;\r\n    }\r\n    /**\r\n     * Takes a screen shot of the current viewport and returns it as an\r\n     * HTML Image Element.\r\n     */\r\n    screenshot() {\r\n        const result = new Image();\r\n        const raw = this.canvas.toDataURL('image/png');\r\n        result.src = raw;\r\n        return result;\r\n    }\r\n    /**\r\n     * Another option available to you to load resources into the game.\r\n     * Immediately after calling this the game will pause and the loading screen\r\n     * will appear.\r\n     * @param loader  Some [[Loadable]] such as a [[Loader]] collection, [[Sound]], or [[Texture]].\r\n     */\r\n    load(loader) {\r\n        const complete = new Promise((resolve) => {\r\n            this._isLoading = true;\r\n            loader.load().then(() => {\r\n                if (this._suppressPlayButton) {\r\n                    setTimeout(() => {\r\n                        this._isLoading = false;\r\n                        resolve();\r\n                        // Delay is to give the logo a chance to show, otherwise don't delay\r\n                    }, 500);\r\n                }\r\n                else {\r\n                    this._isLoading = false;\r\n                    resolve();\r\n                }\r\n            });\r\n        });\r\n        return complete;\r\n    }\r\n}\r\n/**\r\n * Default [[EngineOptions]]\r\n */\r\nEngine._DEFAULT_ENGINE_OPTIONS = {\r\n    width: 0,\r\n    height: 0,\r\n    enableCanvasTransparency: true,\r\n    canvasElementId: '',\r\n    canvasElement: undefined,\r\n    snapToPixel: false,\r\n    pointerScope: PointerScope.Canvas,\r\n    suppressConsoleBootMessage: null,\r\n    suppressMinimumBrowserFeatureDetection: null,\r\n    suppressHiDPIScaling: null,\r\n    suppressPlayButton: null,\r\n    scrollPreventionMode: ScrollPreventionMode.Canvas,\r\n    backgroundColor: Color.fromHex('#2185d0') // Excalibur blue\r\n};\r\nEngine_decorate([\r\n    obsolete({ message: 'Will be removed in excalibur v0.26.0', alternateMethod: 'Use Actor.graphics' })\r\n], Engine.prototype, \"playAnimation\", null);\r\n/**\r\n * @internal\r\n * @deprecated\r\n */\r\nlet AnimationNode = class AnimationNode {\r\n    constructor(animation, x, y) {\r\n        this.animation = animation;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n};\r\nAnimationNode = Engine_decorate([\r\n    obsolete({ message: 'Will be removed in excalibur v0.26.0' })\r\n], AnimationNode);\r\n\n;// CONCATENATED MODULE: ./Math/Index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./Debug/index.ts\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./Events/MediaEvents.ts\n\r\nclass MediaEvent extends GameEvent {\r\n    constructor(target, _name = 'MediaEvent') {\r\n        super();\r\n        this.target = target;\r\n        this._name = _name;\r\n    }\r\n    /**\r\n     * Media event cannot bubble\r\n     */\r\n    set bubbles(_value) {\r\n        // stubbed\r\n    }\r\n    /**\r\n     * Media event cannot bubble\r\n     */\r\n    get bubbles() {\r\n        return false;\r\n    }\r\n    /**\r\n     * Media event cannot bubble, so they have no path\r\n     */\r\n    get _path() {\r\n        return null;\r\n    }\r\n    /**\r\n     * Media event cannot bubble, so they have no path\r\n     */\r\n    set _path(_val) {\r\n        // stubbed\r\n    }\r\n    /**\r\n     * Prevents event from bubbling\r\n     */\r\n    stopPropagation() {\r\n        /**\r\n         * Stub\r\n         */\r\n    }\r\n    /**\r\n     * Action, that calls when event happens\r\n     */\r\n    action() {\r\n        /**\r\n         * Stub\r\n         */\r\n    }\r\n    /**\r\n     * Propagate event further through event path\r\n     */\r\n    propagate() {\r\n        /**\r\n         * Stub\r\n         */\r\n    }\r\n    layPath(_actor) {\r\n        /**\r\n         * Stub\r\n         */\r\n    }\r\n}\r\nclass NativeSoundEvent extends MediaEvent {\r\n    constructor(target, track) {\r\n        super(target, 'NativeSoundEvent');\r\n        this.track = track;\r\n    }\r\n}\r\nclass NativeSoundProcessedEvent extends MediaEvent {\r\n    constructor(target, _processedData) {\r\n        super(target, 'NativeSoundProcessedEvent');\r\n        this._processedData = _processedData;\r\n        this.data = this._processedData;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Font.ts\n\r\n\r\n\r\n\r\n\r\nclass Font extends Raster {\r\n    constructor(options = {}) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\r\n        super(options);\r\n        /**\r\n         * Font quality determines the size of the underlying rastered text, higher quality means less jagged edges.\r\n         * If quality is set to 1, then just enough raster bitmap is generated to render the text.\r\n         *\r\n         * You can think of quality as how zoomed in to the text you can get before seeing jagged edges.\r\n         *\r\n         * (Default 4)\r\n         */\r\n        this.quality = 2;\r\n        this.family = 'sans-serif';\r\n        this.style = FontStyle.Normal;\r\n        this.bold = false;\r\n        this.unit = FontUnit.Px;\r\n        this.textAlign = TextAlign.Left;\r\n        this.baseAlign = BaseAlign.Alphabetic;\r\n        this.direction = Direction.LeftToRight;\r\n        this.size = 10;\r\n        this.shadow = null;\r\n        this._textBounds = new BoundingBox();\r\n        this._textWidth = 0;\r\n        this._textHeight = 0;\r\n        this.family = (_a = options === null || options === void 0 ? void 0 : options.family) !== null && _a !== void 0 ? _a : this.family;\r\n        this.style = (_b = options === null || options === void 0 ? void 0 : options.style) !== null && _b !== void 0 ? _b : this.style;\r\n        this.bold = (_c = options === null || options === void 0 ? void 0 : options.bold) !== null && _c !== void 0 ? _c : this.bold;\r\n        this.size = (_d = options === null || options === void 0 ? void 0 : options.size) !== null && _d !== void 0 ? _d : this.size;\r\n        this.unit = (_e = options === null || options === void 0 ? void 0 : options.unit) !== null && _e !== void 0 ? _e : this.unit;\r\n        this.textAlign = (_f = options === null || options === void 0 ? void 0 : options.textAlign) !== null && _f !== void 0 ? _f : this.textAlign;\r\n        this.baseAlign = (_g = options === null || options === void 0 ? void 0 : options.baseAlign) !== null && _g !== void 0 ? _g : this.baseAlign;\r\n        this.direction = (_h = options === null || options === void 0 ? void 0 : options.direction) !== null && _h !== void 0 ? _h : this.direction;\r\n        this.quality = (_j = options === null || options === void 0 ? void 0 : options.quality) !== null && _j !== void 0 ? _j : this.quality;\r\n        if (options === null || options === void 0 ? void 0 : options.shadow) {\r\n            this.shadow = {};\r\n            this.shadow.blur = (_k = options.shadow.blur) !== null && _k !== void 0 ? _k : this.shadow.blur;\r\n            this.shadow.offset = (_l = options.shadow.offset) !== null && _l !== void 0 ? _l : this.shadow.offset;\r\n            this.shadow.color = (_m = options.shadow.color) !== null && _m !== void 0 ? _m : this.shadow.color;\r\n        }\r\n        this.flagDirty();\r\n    }\r\n    clone() {\r\n        return new Font(Object.assign(Object.assign(Object.assign({}, this.cloneGraphicOptions()), this.cloneRasterOptions()), { size: this.size, unit: this.unit, family: this.family, style: this.style, bold: this.bold, textAlign: this.textAlign, baseAlign: this.baseAlign, direction: this.direction, shadow: this.shadow\r\n                ? {\r\n                    blur: this.shadow.blur,\r\n                    offset: this.shadow.offset,\r\n                    color: this.shadow.color\r\n                }\r\n                : null }));\r\n    }\r\n    get fontString() {\r\n        return `${this.style} ${this.bold ? 'bold' : ''} ${this.size}${this.unit} ${this.family}`;\r\n    }\r\n    get width() {\r\n        return this._textWidth;\r\n    }\r\n    set width(value) {\r\n        this._textWidth = value;\r\n    }\r\n    get height() {\r\n        var _a, _b;\r\n        const numLines = (_b = (_a = this._lines) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 1;\r\n        return this._textHeight * numLines;\r\n    }\r\n    set height(value) {\r\n        var _a, _b;\r\n        const numLines = (_b = (_a = this._lines) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 1;\r\n        this._textHeight = value / numLines;\r\n    }\r\n    get _rasterWidth() {\r\n        return this._bitmap.width;\r\n    }\r\n    get _rasterHeight() {\r\n        return this._bitmap.height;\r\n    }\r\n    get _halfRasterWidth() {\r\n        return Math.floor(this._bitmap.width / 2);\r\n    }\r\n    get _halfRasterHeight() {\r\n        return Math.floor(this._bitmap.height / 2);\r\n    }\r\n    get localBounds() {\r\n        return this._textBounds;\r\n    }\r\n    _drawImage(ex, x, y) {\r\n        if (this.dirty) {\r\n            this.rasterize();\r\n        }\r\n        ex.drawImage(this._bitmap, 0, 0, this._rasterWidth, this._rasterHeight, x - this._rasterWidth / this.quality / 2, y - this._rasterHeight / this.quality / 2, this._rasterWidth / this.quality, this._rasterHeight / this.quality);\r\n    }\r\n    _rotate(ex) {\r\n        var _a;\r\n        // TODO this needs to change depending on the bounding box...\r\n        const origin = (_a = this.origin) !== null && _a !== void 0 ? _a : this._textBounds.center;\r\n        ex.translate(origin.x, origin.y);\r\n        ex.rotate(this.rotation);\r\n        ex.translate(-origin.x, -origin.y);\r\n    }\r\n    _flip(ex) {\r\n        if (this.flipHorizontal) {\r\n            ex.translate(this._textBounds.width / this.scale.x, 0);\r\n            ex.scale(-1, 1);\r\n        }\r\n        if (this.flipVertical) {\r\n            ex.translate(0, -this._textBounds.height / 2 / this.scale.y);\r\n            ex.scale(1, -1);\r\n        }\r\n    }\r\n    updateText(text) {\r\n        if (this._text !== text) {\r\n            this._text = text;\r\n            this._lines = this._text.split('\\n');\r\n            this._updateDimensions();\r\n            this.flagDirty();\r\n        }\r\n    }\r\n    _updateDimensions() {\r\n        if (this._text) {\r\n            this._applyFont(this._ctx);\r\n            const maxWidthLine = this._lines.reduce((a, b) => {\r\n                return a.length > b.length ? a : b;\r\n            });\r\n            const metrics = this._ctx.measureText(maxWidthLine);\r\n            this._textWidth = Math.abs(metrics.actualBoundingBoxLeft) + Math.abs(metrics.actualBoundingBoxRight);\r\n            this._textHeight = Math.abs(metrics.actualBoundingBoxAscent) + Math.abs(metrics.actualBoundingBoxDescent);\r\n            // TODO lineheight makes the text bounds wonky\r\n            const lineAdjustedHeight = this._textHeight * this._lines.length;\r\n            // this._textHeight = lineAdjustedHeight;\r\n            // Changing the width and height clears the context properties\r\n            // We double the bitmap width to account for alignment\r\n            // We scale by \"quality\" so we render text without jaggies\r\n            this._bitmap.width = (this._textWidth + this.padding * 2) * 2 * this.quality;\r\n            this._bitmap.height = (lineAdjustedHeight + this.padding * 2) * 2 * this.quality;\r\n            // These bounds exist in raster bitmap space where the top left corner is the corder of the bitmap\r\n            const x = 0;\r\n            const y = 0;\r\n            const bottomBounds = lineAdjustedHeight - Math.abs(metrics.actualBoundingBoxAscent);\r\n            this._textBounds = new BoundingBox({\r\n                left: x - Math.abs(metrics.actualBoundingBoxLeft) - this.padding,\r\n                top: y - Math.abs(metrics.actualBoundingBoxAscent) - this.padding,\r\n                bottom: y + bottomBounds + this.padding,\r\n                right: x + Math.abs(metrics.actualBoundingBoxRight) + this.padding\r\n            });\r\n        }\r\n    }\r\n    _preDraw(ex, x, y) {\r\n        if (this.dirty) {\r\n            this._updateDimensions();\r\n        }\r\n        super._preDraw(ex, x, y);\r\n    }\r\n    _postDraw(ex) {\r\n        if (this.showDebug) {\r\n            /* istanbul ignore next */\r\n            ex.debug.drawRect(-this._halfRasterWidth, -this._halfRasterHeight, this._rasterWidth, this._rasterHeight);\r\n        }\r\n        ex.restore();\r\n    }\r\n    _applyFont(ctx) {\r\n        ctx.translate(this.padding + this._halfRasterWidth, this.padding + this._halfRasterHeight);\r\n        ctx.scale(this.quality, this.quality);\r\n        ctx.textAlign = this.textAlign;\r\n        ctx.textBaseline = this.baseAlign;\r\n        ctx.font = this.fontString;\r\n        ctx.direction = this.direction;\r\n        if (this.shadow) {\r\n            ctx.shadowColor = this.shadow.color.toString();\r\n            ctx.shadowBlur = this.shadow.blur;\r\n            ctx.shadowOffsetX = this.shadow.offset.x;\r\n            ctx.shadowOffsetY = this.shadow.offset.y;\r\n        }\r\n    }\r\n    execute(ctx) {\r\n        if (this._text) {\r\n            // The reason we need to re-apply the font is setting raster properties (like width/height) can reset the context props\r\n            this._applyRasterProperites(ctx);\r\n            this._applyFont(ctx);\r\n            const lineHeight = this._textHeight; // TODO user specified line height\r\n            for (let i = 0; i < this._lines.length; i++) {\r\n                const line = this._lines[i];\r\n                if (this.color) {\r\n                    ctx.fillText(line, 0, i * lineHeight);\r\n                }\r\n                if (this.strokeColor) {\r\n                    ctx.strokeText(line, 0, i * lineHeight);\r\n                }\r\n            }\r\n            if (this.showDebug) {\r\n                // Horizontal line\r\n                /* istanbul ignore next */\r\n                line(ctx, Color.Red, -this._halfRasterWidth, 0, this._halfRasterWidth, 0, 2);\r\n                // Vertical line\r\n                /* istanbul ignore next */\r\n                line(ctx, Color.Red, 0, -this._halfRasterHeight, 0, this._halfRasterHeight, 2);\r\n            }\r\n        }\r\n    }\r\n    render(ex, text, x, y) {\r\n        this.updateText(text);\r\n        this.draw(ex, x, y);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/Text.ts\n\r\n\r\n\r\n\r\nclass Text extends Graphic {\r\n    constructor(options) {\r\n        var _a, _b;\r\n        super(options);\r\n        this._text = '';\r\n        // This order is important font, color, then text\r\n        this.font = (_a = options.font) !== null && _a !== void 0 ? _a : new Font();\r\n        this.color = (_b = options.color) !== null && _b !== void 0 ? _b : this.color;\r\n        this.text = options.text;\r\n    }\r\n    clone() {\r\n        return new Text({\r\n            text: this.text.slice(),\r\n            color: this.color.clone(),\r\n            font: this.font.clone()\r\n        });\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n    set text(value) {\r\n        this._text = value;\r\n        this.font.updateText(value);\r\n    }\r\n    // TODO SpriteFont doesn't support a color yet :(\r\n    get color() {\r\n        if (this.font instanceof Font) {\r\n            return this.font.color;\r\n        }\r\n        return Color.Black;\r\n    }\r\n    set color(color) {\r\n        if (this.font instanceof Font) {\r\n            this.font.color = color;\r\n        }\r\n    }\r\n    get font() {\r\n        return this._font;\r\n    }\r\n    set font(font) {\r\n        if (font instanceof Font) {\r\n            this._font = watch(font, (font) => font.flagDirty());\r\n        }\r\n        else {\r\n            this._font = font;\r\n        }\r\n    }\r\n    get width() {\r\n        return this.font.width;\r\n    }\r\n    get height() {\r\n        return this.font.height;\r\n    }\r\n    get localBounds() {\r\n        return this.font.localBounds;\r\n    }\r\n    _rotate(_ex) {\r\n        // None this is delegated to font\r\n        // This override erases the default behavior\r\n    }\r\n    _flip(_ex) {\r\n        // None this is delegated to font\r\n        // This override erases the default behavior\r\n    }\r\n    _drawImage(ex, x, y) {\r\n        if (this.font instanceof Font) {\r\n            this.font.color = this.color;\r\n        }\r\n        this.font.flipHorizontal = this.flipHorizontal;\r\n        this.font.flipVertical = this.flipVertical;\r\n        this.font.scale = this.scale;\r\n        this.font.rotation = this.rotation;\r\n        this.font.origin = this.origin;\r\n        this.font.opacity = this.opacity;\r\n        this.font.render(ex, this._text, x, y);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Label.ts\nvar Label_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Labels are the way to draw small amounts of text to the screen. They are\r\n * actors and inherit all of the benefits and capabilities.\r\n */\r\nclass Label_Label extends Actor {\r\n    /**\r\n     * Build a new label\r\n     * @param options\r\n     */\r\n    constructor(options) {\r\n        super(options);\r\n        this.font = new Font();\r\n        this._text = new Text({ text: '', font: this.font });\r\n        /**\r\n         * Gets or sets the letter spacing on a Label. Only supported with Sprite Fonts.\r\n         * @deprecated Use [[SpriteFont.spacing]]\r\n         */\r\n        this.letterSpacing = 0; //px\r\n        /**\r\n         * Whether or not the [[SpriteFont]] will be case-sensitive when matching characters.\r\n         * @deprecated Use Graphics.SpriteFont.caseInsensitve\r\n         */\r\n        this.caseInsensitive = true;\r\n        const { text, pos, x, y, spriteFont, font, color } = options;\r\n        this.pos = pos !== null && pos !== void 0 ? pos : (x && y ? vec(x, y) : this.pos);\r\n        this.text = text !== null && text !== void 0 ? text : this.text;\r\n        this.spriteFont = spriteFont !== null && spriteFont !== void 0 ? spriteFont : this.spriteFont;\r\n        this.font = font !== null && font !== void 0 ? font : this.font;\r\n        this.color = color !== null && color !== void 0 ? color : this.color;\r\n        const gfx = this.get(GraphicsComponent);\r\n        gfx.anchor = Vector.Zero;\r\n        gfx.use(this._text);\r\n    }\r\n    /**\r\n     * The text to draw.\r\n     */\r\n    get text() {\r\n        return this._text.text;\r\n    }\r\n    set text(text) {\r\n        this._text.text = text;\r\n    }\r\n    get color() {\r\n        return this._text.color;\r\n    }\r\n    set color(color) {\r\n        this._text.color = color;\r\n    }\r\n    get opacity() {\r\n        return this._text.opacity;\r\n    }\r\n    set opacity(opacity) {\r\n        this._text.opacity = opacity;\r\n    }\r\n    /**\r\n     * Sets or gets the bold property of the label's text, by default it's false\r\n     * @deprecated Use [[Font.bold|Label.font.bold]]\r\n     */\r\n    get bold() {\r\n        return this.font.bold;\r\n    }\r\n    set bold(isBold) {\r\n        this.font.bold = isBold;\r\n    }\r\n    /**\r\n     * The CSS font family string (e.g. `sans-serif`, `Droid Sans Pro`). Web fonts\r\n     * are supported, same as in CSS.\r\n     * @deprecated Use [[Font.family|Label.font.family]]\r\n     */\r\n    get fontFamily() {\r\n        return this.font.family;\r\n    }\r\n    set fontFamily(family) {\r\n        this.font.family = family;\r\n    }\r\n    /**\r\n     * The font size in the selected units, default is 10 (default units is pixel)\r\n     * @deprecated Use [[Font.size|Label.font.size]]\r\n     */\r\n    get fontSize() {\r\n        return this.font.size;\r\n    }\r\n    set fontSize(sizeInUnit) {\r\n        this.font.size = sizeInUnit;\r\n    }\r\n    /**\r\n     * The font style for this label, the default is [[FontStyle.Normal]]\r\n     * @deprecated Use [[Font.style|Label.font.style]]\r\n     */\r\n    get fontStyle() {\r\n        return this.font.style;\r\n    }\r\n    set fontStyle(style) {\r\n        this.font.style = style;\r\n    }\r\n    /**\r\n     * The css units for a font size such as px, pt, em (SpriteFont only support px), by default is 'px';\r\n     * @deprecated Use [[Font.unit|Label.font.unit]]\r\n     */\r\n    get fontUnit() {\r\n        return this.font.unit;\r\n    }\r\n    set fontUnit(unit) {\r\n        this.font.unit = unit;\r\n    }\r\n    /**\r\n     * Gets or sets the horizontal text alignment property for the label.\r\n     * @deprecated Use [[Font.textAlign|Label.font.textAlign]]\r\n     */\r\n    get textAlign() {\r\n        return this.font.textAlign;\r\n    }\r\n    set textAlign(align) {\r\n        this.font.textAlign = align;\r\n    }\r\n    /**\r\n     * Gets or sets the baseline alignment property for the label.\r\n     * @deprecated Use [[Font.baseAlign|Label.font.baseAlign]]\r\n     */\r\n    get baseAlign() {\r\n        return this.font.baseAlign;\r\n    }\r\n    set baseAlign(align) {\r\n        this.font.baseAlign = align;\r\n    }\r\n    /**\r\n     * The [[LegacyDrawing.SpriteFont]] to use, if any. Overrides [[fontFamily]] if present.\r\n     * @deprecated Use [[SpriteFont]]\r\n     */\r\n    get spriteFont() {\r\n        return this._legacySpriteFont;\r\n    }\r\n    set spriteFont(sf) {\r\n        if (sf) {\r\n            if (sf instanceof SpriteFont) {\r\n                this._legacySpriteFont = sf;\r\n                this._spriteFont = SpriteFont_SpriteFont.fromLegacySpriteFont(sf);\r\n                this._text.font = this._spriteFont;\r\n                return;\r\n            }\r\n            this._spriteFont = sf;\r\n            this._text.font = this._spriteFont;\r\n        }\r\n    }\r\n    _initialize(engine) {\r\n        super._initialize(engine);\r\n        this._graphicsContext = engine.graphicsContext;\r\n    }\r\n    /**\r\n     * Returns the width of the text in the label (in pixels);\r\n     */\r\n    getTextWidth() {\r\n        return this._text.width;\r\n    }\r\n    /**\r\n     * Sets the text shadow for sprite fonts\r\n     * @param offsetX      The x offset in pixels to place the shadow\r\n     * @param offsetY      The y offset in pixels to place the shadow\r\n     * @param shadowColor  The color of the text shadow\r\n     * @deprecated Use [[Font.shadow|Label.font.shadow]]\r\n     */\r\n    setTextShadow(offsetX, offsetY, shadowColor) {\r\n        this.font.shadow = { offset: vec(offsetX, offsetY), blur: 2, color: shadowColor };\r\n    }\r\n    /**\r\n     * Toggles text shadows on or off, only applies when using sprite fonts\r\n     * @deprecated Use [[Font.shadow|Label.font.shadow]]\r\n     */\r\n    useTextShadow(on) {\r\n        if (this.spriteFont) {\r\n            this.spriteFont.useTextShadow(on);\r\n        }\r\n    }\r\n    /**\r\n     * Clears the current text shadow\r\n     * @deprecated Use [[Font.shadow|Label.font.shadow]]\r\n     */\r\n    clearTextShadow() {\r\n        this.font.shadow = null;\r\n    }\r\n    draw(_ctx, _delta) {\r\n        const exctx = this._graphicsContext;\r\n        this._text.draw(exctx, 0, 0);\r\n    }\r\n}\r\nLabel_decorate([\r\n    obsolete({\r\n        message: 'Label.bold will be removed in v0.26.0',\r\n        alternateMethod: 'Use Label.font.bold'\r\n    })\r\n], Label_Label.prototype, \"bold\", null);\r\nLabel_decorate([\r\n    obsolete({\r\n        message: 'Label.fontFamily will be removed in v0.26.0',\r\n        alternateMethod: 'Use Label.font.family'\r\n    })\r\n], Label_Label.prototype, \"fontFamily\", null);\r\nLabel_decorate([\r\n    obsolete({\r\n        message: 'Label.fontSize will be removed in v0.26.0',\r\n        alternateMethod: 'Use Label.font.size'\r\n    })\r\n], Label_Label.prototype, \"fontSize\", null);\r\nLabel_decorate([\r\n    obsolete({\r\n        message: 'Label.fontStyle will be removed in v0.26.0',\r\n        alternateMethod: 'Use Lable.font.style'\r\n    })\r\n], Label_Label.prototype, \"fontStyle\", null);\r\nLabel_decorate([\r\n    obsolete({\r\n        message: 'Label.fontUnit will be removed in v0.26.0',\r\n        alternateMethod: 'Use Label.font.unit'\r\n    })\r\n], Label_Label.prototype, \"fontUnit\", null);\r\nLabel_decorate([\r\n    obsolete({\r\n        message: 'Label.textAlign will be removed in v0.26.0',\r\n        alternateMethod: 'Use Label.font.textAlign'\r\n    })\r\n], Label_Label.prototype, \"textAlign\", null);\r\nLabel_decorate([\r\n    obsolete({\r\n        message: 'Label.baseAlign will be removed in v0.26.0',\r\n        alternateMethod: 'Use Label.font.baseAlign'\r\n    })\r\n], Label_Label.prototype, \"baseAlign\", null);\r\nLabel_decorate([\r\n    obsolete()\r\n], Label_Label.prototype, \"spriteFont\", null);\r\nLabel_decorate([\r\n    obsolete({\r\n        message: 'Label.setTextShadow will be removed in v0.26.0',\r\n        alternateMethod: 'Use Label.font.shadow'\r\n    })\r\n], Label_Label.prototype, \"setTextShadow\", null);\r\nLabel_decorate([\r\n    obsolete({\r\n        message: 'Label.useTextShadow will be removed in v0.26.0',\r\n        alternateMethod: 'Use Label.font.shadow'\r\n    })\r\n], Label_Label.prototype, \"useTextShadow\", null);\r\nLabel_decorate([\r\n    obsolete({\r\n        message: 'Label.clearTextShadow will be removed in v0.26.0',\r\n        alternateMethod: 'Use Label.font.shadow'\r\n    })\r\n], Label_Label.prototype, \"clearTextShadow\", null);\r\n\n;// CONCATENATED MODULE: ./Actions/Index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./Collision/Group/CollisionGroupManager.ts\n\r\n/**\r\n * Static class for managing collision groups in excalibur, there is a maximum of 32 collision groups possible in excalibur\r\n */\r\nclass CollisionGroupManager {\r\n    /**\r\n     * Create a new named collision group up to a max of 32.\r\n     * @param name Name for the collision group\r\n     * @param mask Optionally provide your own 32-bit mask, if none is provide the manager will generate one\r\n     */\r\n    static create(name, mask) {\r\n        if (this._CURRENT_GROUP > this._MAX_GROUPS) {\r\n            throw new Error(`Cannot have more than ${this._MAX_GROUPS} collision groups`);\r\n        }\r\n        if (this._GROUPS.get(name)) {\r\n            throw new Error(`Collision group ${name} already exists`);\r\n        }\r\n        const group = new CollisionGroup(name, this._CURRENT_BIT, mask !== undefined ? mask : ~this._CURRENT_BIT);\r\n        this._CURRENT_BIT = (this._CURRENT_BIT << 1) | 0;\r\n        this._CURRENT_GROUP++;\r\n        this._GROUPS.set(name, group);\r\n        return group;\r\n    }\r\n    /**\r\n     * Get all collision groups currently tracked by excalibur\r\n     */\r\n    static get groups() {\r\n        return Array.from(this._GROUPS.values());\r\n    }\r\n    /**\r\n     * Get a collision group by it's name\r\n     * @param name\r\n     */\r\n    static groupByName(name) {\r\n        return this._GROUPS.get(name);\r\n    }\r\n    /**\r\n     * Resets the managers internal group management state\r\n     */\r\n    static reset() {\r\n        this._GROUPS = new Map();\r\n        this._CURRENT_BIT = this._STARTING_BIT;\r\n        this._CURRENT_GROUP = 1;\r\n    }\r\n}\r\n// using bitmasking the maximum number of groups is 32, because that is the highest 32bit integer that JS can present.\r\nCollisionGroupManager._STARTING_BIT = 0b1 | 0;\r\nCollisionGroupManager._MAX_GROUPS = 32;\r\nCollisionGroupManager._CURRENT_GROUP = 1;\r\nCollisionGroupManager._CURRENT_BIT = CollisionGroupManager._STARTING_BIT;\r\nCollisionGroupManager._GROUPS = new Map();\r\n\n;// CONCATENATED MODULE: ./Collision/Index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./Drawing/Polygon.ts\nvar Polygon_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n/**\r\n * Creates a closed polygon drawing given a list of [[Vector]]s.\r\n *\r\n * @deprecated Use [[Polygon]]\r\n * @warning Use sparingly as Polygons are performance intensive\r\n */\r\nlet Polygon = class Polygon {\r\n    /**\r\n     * @param points  The vectors to use to build the polygon in order\r\n     */\r\n    constructor(points) {\r\n        /**\r\n         * The width of the lines of the polygon\r\n         */\r\n        this.lineWidth = 5;\r\n        /**\r\n         * Indicates whether the polygon is filled or not.\r\n         */\r\n        this.filled = false;\r\n        this._points = [];\r\n        this.anchor = Vector.Zero;\r\n        this.offset = Vector.Zero;\r\n        this.rotation = 0;\r\n        this.scale = Vector.One;\r\n        this.opacity = 1;\r\n        this._points = points;\r\n        const minX = this._points.reduce((prev, curr) => {\r\n            return Math.min(prev, curr.x);\r\n        }, 0);\r\n        const maxX = this._points.reduce((prev, curr) => {\r\n            return Math.max(prev, curr.x);\r\n        }, 0);\r\n        this.drawWidth = maxX - minX;\r\n        const minY = this._points.reduce((prev, curr) => {\r\n            return Math.min(prev, curr.y);\r\n        }, 0);\r\n        const maxY = this._points.reduce((prev, curr) => {\r\n            return Math.max(prev, curr.y);\r\n        }, 0);\r\n        this.drawHeight = maxY - minY;\r\n        this.height = this.drawHeight;\r\n        this.width = this.drawWidth;\r\n    }\r\n    /**\r\n     * @notimplemented Effects are not supported on `Polygon`\r\n     */\r\n    addEffect() {\r\n        // not supported on polygons\r\n    }\r\n    /**\r\n     * @notimplemented Effects are not supported on `Polygon`\r\n     */\r\n    removeEffect() {\r\n        // not supported on polygons\r\n    }\r\n    /**\r\n     * @notimplemented Effects are not supported on `Polygon`\r\n     */\r\n    clearEffects() {\r\n        // not supported on polygons\r\n    }\r\n    reset() {\r\n        //pass\r\n    }\r\n    draw(ctxOrOptions, x, y) {\r\n        if (ctxOrOptions instanceof CanvasRenderingContext2D) {\r\n            this._drawWithOptions({ ctx: ctxOrOptions, x, y });\r\n        }\r\n        else {\r\n            this._drawWithOptions(ctxOrOptions);\r\n        }\r\n    }\r\n    _drawWithOptions(options) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        const { ctx, x, y, rotation, drawWidth, drawHeight, anchor, offset, opacity, flipHorizontal, flipVertical } = Object.assign(Object.assign({}, options), { rotation: (_a = options.rotation) !== null && _a !== void 0 ? _a : this.rotation, drawWidth: (_b = options.drawWidth) !== null && _b !== void 0 ? _b : this.drawWidth, drawHeight: (_c = options.drawHeight) !== null && _c !== void 0 ? _c : this.drawHeight, flipHorizontal: (_d = options.flipHorizontal) !== null && _d !== void 0 ? _d : this.flipHorizontal, flipVertical: (_e = options.flipVertical) !== null && _e !== void 0 ? _e : this.flipVertical, anchor: (_f = options.anchor) !== null && _f !== void 0 ? _f : this.anchor, offset: (_g = options.offset) !== null && _g !== void 0 ? _g : this.offset, opacity: ((_h = options.opacity) !== null && _h !== void 0 ? _h : 1) * ((_j = this.opacity) !== null && _j !== void 0 ? _j : 1) });\r\n        const xpoint = drawWidth * anchor.x + offset.x + x;\r\n        const ypoint = drawHeight * anchor.y + offset.y + y;\r\n        ctx.save();\r\n        ctx.translate(xpoint, ypoint);\r\n        ctx.scale(this.scale.x, this.scale.y);\r\n        ctx.rotate(rotation);\r\n        ctx.beginPath();\r\n        ctx.lineWidth = this.lineWidth;\r\n        // Iterate through the supplied points and construct a 'polygon'\r\n        const firstPoint = this._points[0];\r\n        ctx.moveTo(firstPoint.x, firstPoint.y);\r\n        let i = 0;\r\n        const len = this._points.length;\r\n        for (i; i < len; i++) {\r\n            ctx.lineTo(this._points[i].x, this._points[i].y);\r\n        }\r\n        ctx.lineTo(firstPoint.x, firstPoint.y);\r\n        ctx.closePath();\r\n        if (this.filled) {\r\n            ctx.fillStyle = this.fillColor.toString();\r\n            ctx.fill();\r\n        }\r\n        ctx.strokeStyle = this.lineColor.toString();\r\n        if (flipHorizontal) {\r\n            ctx.translate(drawWidth, 0);\r\n            ctx.scale(-1, 1);\r\n        }\r\n        if (flipVertical) {\r\n            ctx.translate(0, drawHeight);\r\n            ctx.scale(1, -1);\r\n        }\r\n        const oldAlpha = ctx.globalAlpha;\r\n        ctx.globalAlpha = opacity;\r\n        ctx.stroke();\r\n        ctx.globalAlpha = oldAlpha;\r\n        ctx.restore();\r\n    }\r\n};\r\nPolygon = Polygon_decorate([\r\n    obsolete({\r\n        message: 'Polygon will be removed in v0.26.0',\r\n        alternateMethod: 'Use Graphics.Polygon'\r\n    })\r\n], Polygon);\r\n\r\n\n;// CONCATENATED MODULE: ./Drawing/Index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./Interfaces/AudioImplementation.ts\nclass ExResponse {\r\n}\r\nExResponse.type = {\r\n    any: '',\r\n    blob: 'blob',\r\n    json: 'json',\r\n    text: 'text',\r\n    document: 'document',\r\n    arraybuffer: 'arraybuffer'\r\n};\r\n\n;// CONCATENATED MODULE: ./Interfaces/LifecycleEvents.ts\n/**\r\n * Type guard checking for internal initialize method\r\n * @internal\r\n * @param a\r\n */\r\nfunction has_initialize(a) {\r\n    return !!a._initialize;\r\n}\r\n/**\r\n *\r\n */\r\nfunction hasOnInitialize(a) {\r\n    return !!a.onInitialize;\r\n}\r\n/**\r\n *\r\n */\r\nfunction has_preupdate(a) {\r\n    return !!a._preupdate;\r\n}\r\n/**\r\n *\r\n */\r\nfunction hasOnPreUpdate(a) {\r\n    return !!a.onPreUpdate;\r\n}\r\n/**\r\n *\r\n */\r\nfunction has_postupdate(a) {\r\n    return !!a.onPostUpdate;\r\n}\r\n/**\r\n *\r\n */\r\nfunction hasOnPostUpdate(a) {\r\n    return !!a.onPostUpdate;\r\n}\r\n/**\r\n *\r\n */\r\nfunction hasPreDraw(a) {\r\n    return !!a.onPreDraw;\r\n}\r\n/**\r\n *\r\n */\r\nfunction hasPostDraw(a) {\r\n    return !!a.onPostDraw;\r\n}\r\n\n;// CONCATENATED MODULE: ./Interfaces/Index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./PostProcessing/Index.ts\n\r\n\r\n\n;// CONCATENATED MODULE: ./Resources/Sound/WebAudioInstance.ts\n\r\n\r\n/**\r\n * Internal class representing a Web Audio AudioBufferSourceNode instance\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API\r\n */\r\nclass WebAudioInstance {\r\n    constructor(_src) {\r\n        this._src = _src;\r\n        this._volume = 1;\r\n        this._duration = undefined;\r\n        this._loop = false;\r\n        this._isPlaying = false;\r\n        this._isPaused = false;\r\n        this._audioContext = AudioContextFactory.create();\r\n        this._volumeNode = this._audioContext.createGain();\r\n        /**\r\n         * Current playback offset (in seconds)\r\n         */\r\n        this._currentOffset = 0;\r\n        this._createNewBufferSource();\r\n    }\r\n    set loop(value) {\r\n        this._loop = value;\r\n        if (this._instance) {\r\n            this._instance.loop = value;\r\n            this._wireUpOnEnded();\r\n        }\r\n    }\r\n    get loop() {\r\n        return this._loop;\r\n    }\r\n    set volume(value) {\r\n        value = clamp(value, 0, 1.0);\r\n        this._volume = value;\r\n        if (this._isPlaying && this._volumeNode.gain.setTargetAtTime) {\r\n            // https://developer.mozilla.org/en-US/docs/Web/API/AudioParam/setTargetAtTime\r\n            // After each .1 seconds timestep, the target value will ~63.2% closer to the target value.\r\n            // This exponential ramp provides a more pleasant transition in gain\r\n            this._volumeNode.gain.setTargetAtTime(value, this._audioContext.currentTime, 0.1);\r\n        }\r\n        else {\r\n            this._volumeNode.gain.value = value;\r\n        }\r\n    }\r\n    get volume() {\r\n        return this._volume;\r\n    }\r\n    set duration(value) {\r\n        this._duration = value;\r\n    }\r\n    /**\r\n     * Duration of the sound, in seconds.\r\n     */\r\n    get duration() {\r\n        return this._duration;\r\n    }\r\n    get _playbackRate() {\r\n        return this._instance ? 1 / (this._instance.playbackRate.value || 1.0) : null;\r\n    }\r\n    isPlaying() {\r\n        return this._isPlaying;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    play(playStarted = () => { }) {\r\n        if (this._isPaused) {\r\n            this._resumePlayBack();\r\n            playStarted();\r\n        }\r\n        if (!this._isPlaying) {\r\n            this._startPlayBack();\r\n            playStarted();\r\n        }\r\n        return this._playingPromise;\r\n    }\r\n    pause() {\r\n        if (!this._isPlaying) {\r\n            return;\r\n        }\r\n        this._isPaused = true;\r\n        this._isPlaying = false;\r\n        this._instance.stop(0);\r\n        // Playback rate will be a scale factor of how fast/slow the audio is being played\r\n        // default is 1.0\r\n        // we need to invert it to get the time scale\r\n        this._setPauseOffset();\r\n    }\r\n    stop() {\r\n        if (!this._isPlaying) {\r\n            return;\r\n        }\r\n        this._isPlaying = false;\r\n        this._isPaused = false;\r\n        this._currentOffset = 0;\r\n        this._instance.stop(0);\r\n        // handler will not be wired up if we were looping\r\n        if (!this._instance.onended) {\r\n            this._handleOnEnded();\r\n        }\r\n    }\r\n    _startPlayBack() {\r\n        this._isPlaying = true;\r\n        this._isPaused = false;\r\n        this._playingPromise = new Promise((resolve) => {\r\n            this._playingResolve = resolve;\r\n        });\r\n        if (!this._instance) {\r\n            this._createNewBufferSource();\r\n        }\r\n        this._rememberStartTime();\r\n        this._volumeNode.connect(this._audioContext.destination);\r\n        this._instance.start(0, 0);\r\n        this._currentOffset = 0;\r\n        this._wireUpOnEnded();\r\n    }\r\n    _resumePlayBack() {\r\n        if (!this._isPaused) {\r\n            return;\r\n        }\r\n        this._isPaused = false;\r\n        this._isPlaying = true;\r\n        // a buffer source can only be started once\r\n        // so we need to dispose of the previous instance before\r\n        // \"resuming\" the next one\r\n        this._instance.onended = null; // dispose of any previous event handler\r\n        this._createNewBufferSource();\r\n        const duration = this._playbackRate * this._src.duration;\r\n        const restartTime = this._currentOffset % duration;\r\n        this._rememberStartTime(restartTime * -1000);\r\n        this._instance.start(0, restartTime);\r\n        this._wireUpOnEnded();\r\n    }\r\n    _wireUpOnEnded() {\r\n        if (!this.loop) {\r\n            this._instance.onended = () => this._handleOnEnded();\r\n        }\r\n    }\r\n    _handleOnEnded() {\r\n        // pausing calls stop(0) which triggers onended event\r\n        // so we don't \"resolve\" yet (when we resume we'll try again)\r\n        if (!this._isPaused) {\r\n            this._isPlaying = false;\r\n            this._playingResolve(true);\r\n        }\r\n    }\r\n    _rememberStartTime(amend) {\r\n        this._startTime = new Date().getTime() + (amend | 0);\r\n    }\r\n    _setPauseOffset() {\r\n        this._currentOffset = ((new Date().getTime() - this._startTime) * this._playbackRate) / 1000; // in seconds\r\n    }\r\n    _createNewBufferSource() {\r\n        this._instance = this._audioContext.createBufferSource();\r\n        this._instance.buffer = this._src;\r\n        this._instance.loop = this.loop;\r\n        this._instance.playbackRate.setValueAtTime(1.0, 0);\r\n        this._instance.connect(this._volumeNode);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Util/Sound.ts\n\r\n/**\r\n * Whether or not the browser can play this file as HTML5 Audio\r\n */\r\nfunction canPlayFile(file) {\r\n    try {\r\n        const a = new Audio();\r\n        const filetype = /.*\\.([A-Za-z0-9]+)$/;\r\n        const type = file.match(filetype)[1];\r\n        if (a.canPlayType('audio/' + type)) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    catch (e) {\r\n        Logger.getInstance().warn('Cannot determine audio support, assuming no support for the Audio Tag', e);\r\n        return false;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Resources/Sound/Sound.ts\nvar Sound_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * The [[Sound]] object allows games built in Excalibur to load audio\r\n * components, from soundtracks to sound effects. [[Sound]] is an [[Loadable]]\r\n * which means it can be passed to a [[Loader]] to pre-load before a game or level.\r\n */\r\nclass Sound extends Class {\r\n    /**\r\n     * @param paths A list of audio sources (clip.wav, clip.mp3, clip.ogg) for this audio clip. This is done for browser compatibility.\r\n     */\r\n    constructor(...paths) {\r\n        super();\r\n        this.logger = Logger.getInstance();\r\n        this._loop = false;\r\n        this._volume = 1;\r\n        this._duration = undefined;\r\n        this._isStopped = false;\r\n        this._isPaused = false;\r\n        this._tracks = [];\r\n        this._wasPlayingOnHidden = false;\r\n        this._audioContext = AudioContextFactory.create();\r\n        this._resource = new Resource('', ExResponse.type.arraybuffer);\r\n        /**\r\n         * Chrome : MP3, WAV, Ogg\r\n         * Firefox : WAV, Ogg,\r\n         * IE : MP3, WAV coming soon\r\n         * Safari MP3, WAV, Ogg\r\n         */\r\n        for (const path of paths) {\r\n            if (canPlayFile(path)) {\r\n                this.path = path;\r\n                break;\r\n            }\r\n        }\r\n        if (!this.path) {\r\n            this.logger.warn('This browser does not support any of the audio files specified:', paths.join(', '));\r\n            this.logger.warn('Attempting to use', paths[0]);\r\n            this.path = paths[0]; // select the first specified\r\n        }\r\n    }\r\n    /**\r\n     * Indicates whether the clip should loop when complete\r\n     * @param value  Set the looping flag\r\n     */\r\n    set loop(value) {\r\n        this._loop = value;\r\n        for (const track of this._tracks) {\r\n            track.loop = this._loop;\r\n        }\r\n        this.logger.debug('Set loop for all instances of sound', this.path, 'to', this._loop);\r\n    }\r\n    get loop() {\r\n        return this._loop;\r\n    }\r\n    set volume(value) {\r\n        this._volume = value;\r\n        for (const track of this._tracks) {\r\n            track.volume = this._volume;\r\n        }\r\n        this.emit('volumechange', new NativeSoundEvent(this));\r\n        this.logger.debug('Set loop for all instances of sound', this.path, 'to', this._volume);\r\n    }\r\n    get volume() {\r\n        return this._volume;\r\n    }\r\n    get duration() {\r\n        return this._duration;\r\n    }\r\n    /**\r\n     * Return array of Current AudioInstances playing or being paused\r\n     */\r\n    get instances() {\r\n        return this._tracks;\r\n    }\r\n    get path() {\r\n        return this._resource.path;\r\n    }\r\n    set path(val) {\r\n        this._resource.path = val;\r\n    }\r\n    isLoaded() {\r\n        return !!this.data;\r\n    }\r\n    load() {\r\n        return Sound_awaiter(this, void 0, void 0, function* () {\r\n            if (this.data) {\r\n                return this.data;\r\n            }\r\n            const arraybuffer = yield this._resource.load();\r\n            const audiobuffer = yield this.decodeAudio(arraybuffer.slice(0));\r\n            this._duration = typeof audiobuffer === 'object' ? audiobuffer.duration : undefined;\r\n            this.emit('processed', new NativeSoundProcessedEvent(this, audiobuffer));\r\n            return this.data = audiobuffer;\r\n        });\r\n    }\r\n    decodeAudio(data) {\r\n        return Sound_awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                return yield this._audioContext.decodeAudioData(data.slice(0));\r\n            }\r\n            catch (e) {\r\n                this.logger.error('Unable to decode ' +\r\n                    ' this browser may not fully support this format, or the file may be corrupt, ' +\r\n                    'if this is an mp3 try removing id3 tags and album art from the file.');\r\n                return yield Promise.reject();\r\n            }\r\n        });\r\n    }\r\n    wireEngine(engine) {\r\n        if (engine) {\r\n            this._engine = engine;\r\n            this._engine.on('hidden', () => {\r\n                if (engine.pauseAudioWhenHidden && this.isPlaying()) {\r\n                    this._wasPlayingOnHidden = true;\r\n                    this.pause();\r\n                }\r\n            });\r\n            this._engine.on('visible', () => {\r\n                if (engine.pauseAudioWhenHidden && this._wasPlayingOnHidden) {\r\n                    this.play();\r\n                    this._wasPlayingOnHidden = false;\r\n                }\r\n            });\r\n            this._engine.on('start', () => {\r\n                this._isStopped = false;\r\n            });\r\n            this._engine.on('stop', () => {\r\n                this.stop();\r\n                this._isStopped = true;\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Returns how many instances of the sound are currently playing\r\n     */\r\n    instanceCount() {\r\n        return this._tracks.length;\r\n    }\r\n    /**\r\n     * Whether or not the sound is playing right now\r\n     */\r\n    isPlaying() {\r\n        return this._tracks.some((t) => t.isPlaying());\r\n    }\r\n    /**\r\n     * Play the sound, returns a promise that resolves when the sound is done playing\r\n     * An optional volume argument can be passed in to play the sound. Max volume is 1.0\r\n     */\r\n    play(volume) {\r\n        if (!this.isLoaded()) {\r\n            this.logger.warn('Cannot start playing. Resource', this.path, 'is not loaded yet');\r\n            return Promise.resolve(true);\r\n        }\r\n        if (this._isStopped) {\r\n            this.logger.warn('Cannot start playing. Engine is in a stopped state.');\r\n            return Promise.resolve(false);\r\n        }\r\n        this.volume = volume || this.volume;\r\n        if (this._isPaused) {\r\n            return this._resumePlayback();\r\n        }\r\n        else {\r\n            return this._startPlayback();\r\n        }\r\n    }\r\n    /**\r\n     * Stop the sound, and do not rewind\r\n     */\r\n    pause() {\r\n        if (!this.isPlaying()) {\r\n            return;\r\n        }\r\n        for (const track of this._tracks) {\r\n            track.pause();\r\n        }\r\n        this._isPaused = true;\r\n        this.emit('pause', new NativeSoundEvent(this));\r\n        this.logger.debug('Paused all instances of sound', this.path);\r\n    }\r\n    /**\r\n     * Stop the sound if it is currently playing and rewind the track. If the sound is not playing, rewinds the track.\r\n     */\r\n    stop() {\r\n        for (const track of this._tracks) {\r\n            track.stop();\r\n        }\r\n        this.emit('stop', new NativeSoundEvent(this));\r\n        this._isPaused = false;\r\n        this._tracks.length = 0;\r\n        this.logger.debug('Stopped all instances of sound', this.path);\r\n    }\r\n    /**\r\n     * Get Id of provided AudioInstance in current trackList\r\n     * @param track [[Audio]] which Id is to be given\r\n     */\r\n    getTrackId(track) {\r\n        return this._tracks.indexOf(track);\r\n    }\r\n    _resumePlayback() {\r\n        return Sound_awaiter(this, void 0, void 0, function* () {\r\n            if (this._isPaused) {\r\n                const resumed = [];\r\n                // ensure we resume *current* tracks (if paused)\r\n                for (const track of this._tracks) {\r\n                    resumed.push(track.play());\r\n                }\r\n                this._isPaused = false;\r\n                this.emit('resume', new NativeSoundEvent(this));\r\n                this.logger.debug('Resuming paused instances for sound', this.path, this._tracks);\r\n                // resolve when resumed tracks are done\r\n                yield Promise.all(resumed);\r\n            }\r\n            return true;\r\n        });\r\n    }\r\n    /**\r\n     * Starts playback, returns a promise that resolves when playback is complete\r\n     */\r\n    _startPlayback() {\r\n        return Sound_awaiter(this, void 0, void 0, function* () {\r\n            const track = yield this._getTrackInstance(this.data);\r\n            const complete = yield track.play(() => {\r\n                this.emit('playbackstart', new NativeSoundEvent(this, track));\r\n                this.logger.debug('Playing new instance for sound', this.path);\r\n            });\r\n            // when done, remove track\r\n            this.emit('playbackend', new NativeSoundEvent(this, track));\r\n            this._tracks.splice(this.getTrackId(track), 1);\r\n            return complete;\r\n        });\r\n    }\r\n    _getTrackInstance(data) {\r\n        const newTrack = new WebAudioInstance(data);\r\n        newTrack.loop = this.loop;\r\n        newTrack.volume = this.volume;\r\n        newTrack.duration = this.duration;\r\n        this._tracks.push(newTrack);\r\n        return newTrack;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Resources/Sound/Index.ts\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./Resources/Gif.ts\nvar Gif_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * The [[Texture]] object allows games built in Excalibur to load image resources.\r\n * [[Texture]] is an [[Loadable]] which means it can be passed to a [[Loader]]\r\n * to pre-load before starting a level or game.\r\n */\r\nclass Gif {\r\n    /**\r\n     * @param path       Path to the image resource\r\n     * @param color      Optionally set the color to treat as transparent the gif, by default [[Color.Magenta]]\r\n     * @param bustCache  Optionally load texture with cache busting\r\n     */\r\n    constructor(path, color = Color.Magenta, bustCache = true) {\r\n        this.path = path;\r\n        this.color = color;\r\n        this.bustCache = bustCache;\r\n        this._stream = null;\r\n        this._gif = null;\r\n        this._textures = [];\r\n        this._animation = null;\r\n        this._transparentColor = null;\r\n        this._resource = new Resource(path, 'arraybuffer', bustCache);\r\n        this._transparentColor = color;\r\n    }\r\n    /**\r\n     * Begins loading the texture and returns a promise to be resolved on completion\r\n     */\r\n    load() {\r\n        return Gif_awaiter(this, void 0, void 0, function* () {\r\n            const arraybuffer = yield this._resource.load();\r\n            this._stream = new Stream(arraybuffer);\r\n            this._gif = new ParseGif(this._stream, this._transparentColor);\r\n            const images = this._gif.images.map(i => new ImageSource(i.src, false));\r\n            // Load all textures\r\n            yield Promise.all(images.map(t => t.load()));\r\n            return this.data = this._textures = images;\r\n        });\r\n    }\r\n    isLoaded() {\r\n        return !!this.data;\r\n    }\r\n    /**\r\n     * Return a frame of the gif as a legacy sprite by index\r\n     * @deprecated\r\n     */\r\n    toLegacySprite(id = 0) {\r\n        return Sprite.toLegacySprite(this.toSprite(id));\r\n    }\r\n    /**\r\n     * Return the gif as a legacy spritesheet\r\n     * @deprecated\r\n     * @returns\r\n     */\r\n    toLegacySpriteSheet() {\r\n        return SpriteSheet.toLegacySpriteSheet(this.toSpriteSheet());\r\n    }\r\n    /**\r\n     * Return the gif as a legacy animation\r\n     * @deprecated\r\n     * @param speed\r\n     */\r\n    toLegacyAnimation(engine, speed) {\r\n        return Animation.toLegacyAnimation(engine, this.toAnimation(speed));\r\n    }\r\n    /**\r\n     * Return a frame of the gif as a sprite by id\r\n     * @param id\r\n     */\r\n    toSprite(id = 0) {\r\n        const sprite = this._textures[id].toSprite();\r\n        return sprite;\r\n    }\r\n    /**\r\n     * Return the gif as a spritesheet\r\n     */\r\n    toSpriteSheet() {\r\n        const sprites = this._textures.map((image) => {\r\n            return image.toSprite();\r\n        });\r\n        return new SpriteSheet({ sprites });\r\n    }\r\n    /**\r\n     * Transform the GIF into an animation with duration per frame\r\n     */\r\n    toAnimation(durationPerFrameMs) {\r\n        const spriteSheet = this.toSpriteSheet();\r\n        const length = spriteSheet.sprites.length;\r\n        this._animation = Animation.fromSpriteSheet(spriteSheet, range(0, length), durationPerFrameMs);\r\n        return this._animation;\r\n    }\r\n    get readCheckBytes() {\r\n        return this._gif.checkBytes;\r\n    }\r\n}\r\nconst bitsToNum = (ba) => {\r\n    return ba.reduce(function (s, n) {\r\n        return s * 2 + n;\r\n    }, 0);\r\n};\r\nconst byteToBitArr = (bite) => {\r\n    const a = [];\r\n    for (let i = 7; i >= 0; i--) {\r\n        a.push(!!(bite & (1 << i)));\r\n    }\r\n    return a;\r\n};\r\nclass Stream {\r\n    constructor(dataArray) {\r\n        this.data = null;\r\n        this.len = 0;\r\n        this.position = 0;\r\n        this.readByte = () => {\r\n            if (this.position >= this.data.byteLength) {\r\n                throw new Error('Attempted to read past end of stream.');\r\n            }\r\n            return this.data[this.position++];\r\n        };\r\n        this.readBytes = (n) => {\r\n            const bytes = [];\r\n            for (let i = 0; i < n; i++) {\r\n                bytes.push(this.readByte());\r\n            }\r\n            return bytes;\r\n        };\r\n        this.read = (n) => {\r\n            let s = '';\r\n            for (let i = 0; i < n; i++) {\r\n                s += String.fromCharCode(this.readByte());\r\n            }\r\n            return s;\r\n        };\r\n        this.readUnsigned = () => {\r\n            // Little-endian.\r\n            const a = this.readBytes(2);\r\n            return (a[1] << 8) + a[0];\r\n        };\r\n        this.data = new Uint8Array(dataArray);\r\n        this.len = this.data.byteLength;\r\n        if (this.len === 0) {\r\n            throw new Error('No data loaded from file');\r\n        }\r\n    }\r\n}\r\nconst lzwDecode = function (minCodeSize, data) {\r\n    // TODO: Now that the GIF parser is a bit different, maybe this should get an array of bytes instead of a String?\r\n    let pos = 0; // Maybe this streaming thing should be merged with the Stream?\r\n    const readCode = function (size) {\r\n        let code = 0;\r\n        for (let i = 0; i < size; i++) {\r\n            if (data.charCodeAt(pos >> 3) & (1 << (pos & 7))) {\r\n                code |= 1 << i;\r\n            }\r\n            pos++;\r\n        }\r\n        return code;\r\n    };\r\n    const output = [];\r\n    const clearCode = 1 << minCodeSize;\r\n    const eoiCode = clearCode + 1;\r\n    let codeSize = minCodeSize + 1;\r\n    let dict = [];\r\n    const clear = function () {\r\n        dict = [];\r\n        codeSize = minCodeSize + 1;\r\n        for (let i = 0; i < clearCode; i++) {\r\n            dict[i] = [i];\r\n        }\r\n        dict[clearCode] = [];\r\n        dict[eoiCode] = null;\r\n    };\r\n    let code;\r\n    let last;\r\n    while (true) {\r\n        last = code;\r\n        code = readCode(codeSize);\r\n        if (code === clearCode) {\r\n            clear();\r\n            continue;\r\n        }\r\n        if (code === eoiCode) {\r\n            break;\r\n        }\r\n        if (code < dict.length) {\r\n            if (last !== clearCode) {\r\n                dict.push(dict[last].concat(dict[code][0]));\r\n            }\r\n        }\r\n        else {\r\n            if (code !== dict.length) {\r\n                throw new Error('Invalid LZW code.');\r\n            }\r\n            dict.push(dict[last].concat(dict[last][0]));\r\n        }\r\n        output.push.apply(output, dict[code]);\r\n        if (dict.length === 1 << codeSize && codeSize < 12) {\r\n            // If we're at the last code and codeSize is 12, the next code will be a clearCode, and it'll be 12 bits long.\r\n            codeSize++;\r\n        }\r\n    }\r\n    // I don't know if this is technically an error, but some GIFs do it.\r\n    //if (Math.ceil(pos / 8) !== data.length) throw new Error('Extraneous LZW bytes.');\r\n    return output;\r\n};\r\n// The actual parsing; returns an object with properties.\r\nclass ParseGif {\r\n    constructor(stream, color = Color.Magenta) {\r\n        this._st = null;\r\n        this._handler = {};\r\n        this._transparentColor = null;\r\n        this.frames = [];\r\n        this.images = [];\r\n        this.globalColorTable = [];\r\n        this.checkBytes = [];\r\n        // LZW (GIF-specific)\r\n        this.parseColorTable = (entries) => {\r\n            // Each entry is 3 bytes, for RGB.\r\n            const ct = [];\r\n            for (let i = 0; i < entries; i++) {\r\n                const rgb = this._st.readBytes(3);\r\n                const rgba = '#' +\r\n                    rgb\r\n                        .map((x) => {\r\n                        const hex = x.toString(16);\r\n                        return hex.length === 1 ? '0' + hex : hex;\r\n                    })\r\n                        .join('');\r\n                ct.push(rgba);\r\n            }\r\n            return ct;\r\n        };\r\n        this.readSubBlocks = () => {\r\n            let size, data;\r\n            data = '';\r\n            do {\r\n                size = this._st.readByte();\r\n                data += this._st.read(size);\r\n            } while (size !== 0);\r\n            return data;\r\n        };\r\n        this.parseHeader = () => {\r\n            const hdr = {\r\n                sig: null,\r\n                ver: null,\r\n                width: null,\r\n                height: null,\r\n                colorRes: null,\r\n                globalColorTableSize: null,\r\n                gctFlag: null,\r\n                sorted: null,\r\n                globalColorTable: [],\r\n                bgColor: null,\r\n                pixelAspectRatio: null // if not 0, aspectRatio = (pixelAspectRatio + 15) / 64\r\n            };\r\n            hdr.sig = this._st.read(3);\r\n            hdr.ver = this._st.read(3);\r\n            if (hdr.sig !== 'GIF') {\r\n                throw new Error('Not a GIF file.'); // XXX: This should probably be handled more nicely.\r\n            }\r\n            hdr.width = this._st.readUnsigned();\r\n            hdr.height = this._st.readUnsigned();\r\n            const bits = byteToBitArr(this._st.readByte());\r\n            hdr.gctFlag = bits.shift();\r\n            hdr.colorRes = bitsToNum(bits.splice(0, 3));\r\n            hdr.sorted = bits.shift();\r\n            hdr.globalColorTableSize = bitsToNum(bits.splice(0, 3));\r\n            hdr.bgColor = this._st.readByte();\r\n            hdr.pixelAspectRatio = this._st.readByte(); // if not 0, aspectRatio = (pixelAspectRatio + 15) / 64\r\n            if (hdr.gctFlag) {\r\n                hdr.globalColorTable = this.parseColorTable(1 << (hdr.globalColorTableSize + 1));\r\n                this.globalColorTable = hdr.globalColorTable;\r\n            }\r\n            if (this._handler.hdr && this._handler.hdr(hdr)) {\r\n                this.checkBytes.push(this._handler.hdr);\r\n            }\r\n        };\r\n        this.parseExt = (block) => {\r\n            const parseGCExt = (block) => {\r\n                this.checkBytes.push(this._st.readByte()); // Always 4\r\n                const bits = byteToBitArr(this._st.readByte());\r\n                block.reserved = bits.splice(0, 3); // Reserved; should be 000.\r\n                block.disposalMethod = bitsToNum(bits.splice(0, 3));\r\n                block.userInput = bits.shift();\r\n                block.transparencyGiven = bits.shift();\r\n                block.delayTime = this._st.readUnsigned();\r\n                block.transparencyIndex = this._st.readByte();\r\n                block.terminator = this._st.readByte();\r\n                if (this._handler.gce && this._handler.gce(block)) {\r\n                    this.checkBytes.push(this._handler.gce);\r\n                }\r\n            };\r\n            const parseComExt = (block) => {\r\n                block.comment = this.readSubBlocks();\r\n                if (this._handler.com && this._handler.com(block)) {\r\n                    this.checkBytes.push(this._handler.com);\r\n                }\r\n            };\r\n            const parsePTExt = (block) => {\r\n                this.checkBytes.push(this._st.readByte()); // Always 12\r\n                block.ptHeader = this._st.readBytes(12);\r\n                block.ptData = this.readSubBlocks();\r\n                if (this._handler.pte && this._handler.pte(block)) {\r\n                    this.checkBytes.push(this._handler.pte);\r\n                }\r\n            };\r\n            const parseAppExt = (block) => {\r\n                const parseNetscapeExt = (block) => {\r\n                    this.checkBytes.push(this._st.readByte()); // Always 3\r\n                    block.unknown = this._st.readByte(); // Q: Always 1? What is this?\r\n                    block.iterations = this._st.readUnsigned();\r\n                    block.terminator = this._st.readByte();\r\n                    if (this._handler.app && this._handler.app.NETSCAPE && this._handler.app.NETSCAPE(block)) {\r\n                        this.checkBytes.push(this._handler.app);\r\n                    }\r\n                };\r\n                const parseUnknownAppExt = (block) => {\r\n                    block.appData = this.readSubBlocks();\r\n                    // FIXME: This won't work if a handler wants to match on any identifier.\r\n                    if (this._handler.app && this._handler.app[block.identifier] && this._handler.app[block.identifier](block)) {\r\n                        this.checkBytes.push(this._handler.app[block.identifier]);\r\n                    }\r\n                };\r\n                this.checkBytes.push(this._st.readByte()); // Always 11\r\n                block.identifier = this._st.read(8);\r\n                block.authCode = this._st.read(3);\r\n                switch (block.identifier) {\r\n                    case 'NETSCAPE':\r\n                        parseNetscapeExt(block);\r\n                        break;\r\n                    default:\r\n                        parseUnknownAppExt(block);\r\n                        break;\r\n                }\r\n            };\r\n            const parseUnknownExt = (block) => {\r\n                block.data = this.readSubBlocks();\r\n                if (this._handler.unknown && this._handler.unknown(block)) {\r\n                    this.checkBytes.push(this._handler.unknown);\r\n                }\r\n            };\r\n            block.label = this._st.readByte();\r\n            switch (block.label) {\r\n                case 0xf9:\r\n                    block.extType = 'gce';\r\n                    parseGCExt(block);\r\n                    break;\r\n                case 0xfe:\r\n                    block.extType = 'com';\r\n                    parseComExt(block);\r\n                    break;\r\n                case 0x01:\r\n                    block.extType = 'pte';\r\n                    parsePTExt(block);\r\n                    break;\r\n                case 0xff:\r\n                    block.extType = 'app';\r\n                    parseAppExt(block);\r\n                    break;\r\n                default:\r\n                    block.extType = 'unknown';\r\n                    parseUnknownExt(block);\r\n                    break;\r\n            }\r\n        };\r\n        this.parseImg = (img) => {\r\n            const deinterlace = (pixels, width) => {\r\n                // Of course this defeats the purpose of interlacing. And it's *probably*\r\n                // the least efficient way it's ever been implemented. But nevertheless...\r\n                const newPixels = new Array(pixels.length);\r\n                const rows = pixels.length / width;\r\n                const cpRow = (toRow, fromRow) => {\r\n                    const fromPixels = pixels.slice(fromRow * width, (fromRow + 1) * width);\r\n                    newPixels.splice.apply(newPixels, [toRow * width, width].concat(fromPixels));\r\n                };\r\n                const offsets = [0, 4, 2, 1];\r\n                const steps = [8, 8, 4, 2];\r\n                let fromRow = 0;\r\n                for (let pass = 0; pass < 4; pass++) {\r\n                    for (let toRow = offsets[pass]; toRow < rows; toRow += steps[pass]) {\r\n                        cpRow(toRow, fromRow);\r\n                        fromRow++;\r\n                    }\r\n                }\r\n                return newPixels;\r\n            };\r\n            img.leftPos = this._st.readUnsigned();\r\n            img.topPos = this._st.readUnsigned();\r\n            img.width = this._st.readUnsigned();\r\n            img.height = this._st.readUnsigned();\r\n            const bits = byteToBitArr(this._st.readByte());\r\n            img.lctFlag = bits.shift();\r\n            img.interlaced = bits.shift();\r\n            img.sorted = bits.shift();\r\n            img.reserved = bits.splice(0, 2);\r\n            img.lctSize = bitsToNum(bits.splice(0, 3));\r\n            if (img.lctFlag) {\r\n                img.lct = this.parseColorTable(1 << (img.lctSize + 1));\r\n            }\r\n            img.lzwMinCodeSize = this._st.readByte();\r\n            const lzwData = this.readSubBlocks();\r\n            img.pixels = lzwDecode(img.lzwMinCodeSize, lzwData);\r\n            if (img.interlaced) {\r\n                // Move\r\n                img.pixels = deinterlace(img.pixels, img.width);\r\n            }\r\n            this.frames.push(img);\r\n            this.arrayToImage(img);\r\n            if (this._handler.img && this._handler.img(img)) {\r\n                this.checkBytes.push(this._handler);\r\n            }\r\n        };\r\n        this.parseBlock = () => {\r\n            const block = {\r\n                sentinel: this._st.readByte(),\r\n                type: ''\r\n            };\r\n            const blockChar = String.fromCharCode(block.sentinel);\r\n            switch (blockChar) {\r\n                case '!':\r\n                    block.type = 'ext';\r\n                    this.parseExt(block);\r\n                    break;\r\n                case ',':\r\n                    block.type = 'img';\r\n                    this.parseImg(block);\r\n                    break;\r\n                case ';':\r\n                    block.type = 'eof';\r\n                    if (this._handler.eof && this._handler.eof(block)) {\r\n                        this.checkBytes.push(this._handler.eof);\r\n                    }\r\n                    break;\r\n                default:\r\n                    throw new Error('Unknown block: 0x' + block.sentinel.toString(16));\r\n            }\r\n            if (block.type !== 'eof') {\r\n                this.parseBlock();\r\n            }\r\n        };\r\n        this.arrayToImage = (frame) => {\r\n            let count = 0;\r\n            const c = document.createElement('canvas');\r\n            c.id = count.toString();\r\n            c.width = frame.width;\r\n            c.height = frame.height;\r\n            count++;\r\n            const context = c.getContext('2d');\r\n            const pixSize = 1;\r\n            let y = 0;\r\n            let x = 0;\r\n            for (let i = 0; i < frame.pixels.length; i++) {\r\n                if (x % frame.width === 0) {\r\n                    y++;\r\n                    x = 0;\r\n                }\r\n                if (this.globalColorTable[frame.pixels[i]] === this._transparentColor.toHex()) {\r\n                    context.fillStyle = `rgba(0, 0, 0, 0)`;\r\n                }\r\n                else {\r\n                    context.fillStyle = this.globalColorTable[frame.pixels[i]];\r\n                }\r\n                context.fillRect(x, y, pixSize, pixSize);\r\n                x++;\r\n            }\r\n            const img = new Image();\r\n            img.src = c.toDataURL();\r\n            this.images.push(img);\r\n        };\r\n        this._st = stream;\r\n        this._handler = {};\r\n        this._transparentColor = color;\r\n        this.parseHeader();\r\n        this.parseBlock();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Resources/Index.ts\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./EntityComponentSystem/index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./Graphics/Polygon.ts\n\r\n\r\n/**\r\n * A polygon [[Graphic]] for drawing arbitrary polygons to the [[ExcaliburGraphicsContext]]\r\n */\r\nclass Polygon_Polygon extends Raster {\r\n    constructor(options) {\r\n        super(options);\r\n        this.points = options.points;\r\n        this.rasterize();\r\n    }\r\n    get points() {\r\n        return this._points;\r\n    }\r\n    set points(points) {\r\n        this._points = points;\r\n        const min = this.minPoint;\r\n        this.width = this._points.reduce((max, p) => Math.max(p.x, max), 0) - min.x;\r\n        this.height = this._points.reduce((max, p) => Math.max(p.y, max), 0) - min.y;\r\n        this.flagDirty();\r\n    }\r\n    get minPoint() {\r\n        const minX = this._points.reduce((min, p) => Math.min(p.x, min), Infinity);\r\n        const minY = this._points.reduce((min, p) => Math.min(p.y, min), Infinity);\r\n        return vec(minX, minY);\r\n    }\r\n    clone() {\r\n        return new Polygon_Polygon(Object.assign(Object.assign({ points: this.points.map((p) => p.clone()) }, this.cloneGraphicOptions()), this.cloneRasterOptions()));\r\n    }\r\n    execute(ctx) {\r\n        if (this.points && this.points.length) {\r\n            ctx.beginPath();\r\n            // Iterate through the supplied points and construct a 'polygon'\r\n            const min = this.minPoint.negate();\r\n            const firstPoint = this.points[0].add(min);\r\n            ctx.moveTo(firstPoint.x, firstPoint.y);\r\n            this.points.forEach((point) => {\r\n                ctx.lineTo(point.x + min.x, point.y + min.y);\r\n            });\r\n            ctx.lineTo(firstPoint.x, firstPoint.y);\r\n            ctx.closePath();\r\n            if (this.color) {\r\n                ctx.fill();\r\n            }\r\n            if (this.strokeColor) {\r\n                ctx.stroke();\r\n            }\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Graphics/index.ts\n// Graphics\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Graphics ECS\r\n\r\n\r\n// Raster graphics\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./Input/Index.ts\n/**\r\n * @module\r\n * Provides support for mice, keyboards, and controllers.\r\n */\r\n/**\r\n * @typedoc\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./Traits/Index.ts\n/**\r\n * @module\r\n */\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./Util/Index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./Util/SortedList.ts\nvar SortedList_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n/**\r\n * A sorted list implementation. NOTE: this implementation is not self-balancing\r\n * @deprecated WIll be removed in v0.26.0 Use built in JS array.sort\r\n */\r\nlet SortedList = class SortedList {\r\n    constructor(getComparable) {\r\n        this._getComparable = getComparable;\r\n    }\r\n    find(element) {\r\n        return this._find(this._root, element);\r\n    }\r\n    _find(node, element) {\r\n        if (node == null) {\r\n            return false;\r\n        }\r\n        else if (this._getComparable(element) === node.getKey()) {\r\n            if (node.getData().indexOf(element) > -1) {\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        else if (this._getComparable(element) < node.getKey()) {\r\n            return this._find(node.getLeft(), element);\r\n        }\r\n        else {\r\n            return this._find(node.getRight(), element);\r\n        }\r\n    }\r\n    // returns the array of elements at a specific key value\r\n    get(key) {\r\n        return this._get(this._root, key);\r\n    }\r\n    _get(node, key) {\r\n        if (node == null) {\r\n            return [];\r\n        }\r\n        else if (key === node.getKey()) {\r\n            return node.getData();\r\n        }\r\n        else if (key < node.getKey()) {\r\n            return this._get(node.getLeft(), key);\r\n        }\r\n        else {\r\n            return this._get(node.getRight(), key);\r\n        }\r\n    }\r\n    add(element) {\r\n        if (this._root == null) {\r\n            this._root = new BinaryTreeNode(this._getComparable(element), [element], null, null);\r\n            return true;\r\n        }\r\n        else {\r\n            return this._insert(this._root, element);\r\n        }\r\n    }\r\n    _insert(node, element) {\r\n        if (node != null) {\r\n            if (this._getComparable(element) === node.getKey()) {\r\n                if (node.getData().indexOf(element) > -1) {\r\n                    return false; // the element we're trying to insert already exists\r\n                }\r\n                else {\r\n                    node.getData().push(element);\r\n                    return true;\r\n                }\r\n            }\r\n            else if (this._getComparable(element) < node.getKey()) {\r\n                if (node.getLeft() == null) {\r\n                    node.setLeft(new BinaryTreeNode(this._getComparable(element), [element], null, null));\r\n                    return true;\r\n                }\r\n                else {\r\n                    return this._insert(node.getLeft(), element);\r\n                }\r\n            }\r\n            else {\r\n                if (node.getRight() == null) {\r\n                    node.setRight(new BinaryTreeNode(this._getComparable(element), [element], null, null));\r\n                    return true;\r\n                }\r\n                else {\r\n                    return this._insert(node.getRight(), element);\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    removeByComparable(element) {\r\n        this._root = this._remove(this._root, element);\r\n    }\r\n    _remove(node, element) {\r\n        if (node == null) {\r\n            return null;\r\n        }\r\n        else if (this._getComparable(element) === node.getKey()) {\r\n            const elementIndex = node.getData().indexOf(element);\r\n            // if the node contains the element, remove the element\r\n            if (elementIndex > -1) {\r\n                node.getData().splice(elementIndex, 1);\r\n                // if we have removed the last element at this node, remove the node\r\n                if (node.getData().length === 0) {\r\n                    // if the node is a leaf\r\n                    if (node.getLeft() == null && node.getRight() == null) {\r\n                        return null;\r\n                    }\r\n                    else if (node.getLeft() == null) {\r\n                        return node.getRight();\r\n                    }\r\n                    else if (node.getRight() == null) {\r\n                        return node.getLeft();\r\n                    }\r\n                    // if node has 2 children\r\n                    const temp = this._findMinNode(node.getRight());\r\n                    node.setKey(temp.getKey());\r\n                    node.setData(temp.getData());\r\n                    node.setRight(this._cleanup(node.getRight(), temp)); //\"cleanup nodes\" (move them up recursively)\r\n                    return node;\r\n                }\r\n                else {\r\n                    // this prevents the node from being removed since it still contains elements\r\n                    return node;\r\n                }\r\n            }\r\n        }\r\n        else if (this._getComparable(element) < node.getKey()) {\r\n            node.setLeft(this._remove(node.getLeft(), element));\r\n            return node;\r\n        }\r\n        else {\r\n            node.setRight(this._remove(node.getRight(), element));\r\n            return node;\r\n        }\r\n        return null;\r\n    }\r\n    // called once we have successfully removed the element we wanted, recursively corrects the part of the tree below the removed node\r\n    _cleanup(node, element) {\r\n        const comparable = element.getKey();\r\n        if (node == null) {\r\n            return null;\r\n        }\r\n        else if (comparable === node.getKey()) {\r\n            // if the node is a leaf\r\n            if (node.getLeft() == null && node.getRight() == null) {\r\n                return null;\r\n            }\r\n            else if (node.getLeft() == null) {\r\n                return node.getRight();\r\n            }\r\n            else if (node.getRight() == null) {\r\n                return node.getLeft();\r\n            }\r\n            // if node has 2 children\r\n            const temp = this._findMinNode(node.getRight());\r\n            node.setKey(temp.getKey());\r\n            node.setData(temp.getData());\r\n            node.setRight(this._cleanup(node.getRight(), temp));\r\n            return node;\r\n        }\r\n        else if (element.getKey() < node.getKey()) {\r\n            node.setLeft(this._cleanup(node.getLeft(), element));\r\n            return node;\r\n        }\r\n        else {\r\n            node.setRight(this._cleanup(node.getRight(), element));\r\n            return node;\r\n        }\r\n    }\r\n    _findMinNode(node) {\r\n        let current = node;\r\n        while (current.getLeft() != null) {\r\n            current = current.getLeft();\r\n        }\r\n        return current;\r\n    }\r\n    list() {\r\n        const results = new Array();\r\n        this._list(this._root, results);\r\n        return results;\r\n    }\r\n    _list(treeNode, results) {\r\n        if (treeNode != null) {\r\n            this._list(treeNode.getLeft(), results);\r\n            treeNode.getData().forEach((element) => {\r\n                results.push(element);\r\n            });\r\n            this._list(treeNode.getRight(), results);\r\n        }\r\n    }\r\n};\r\nSortedList = SortedList_decorate([\r\n    obsolete({ message: 'Will be removed in excalibur v0.26.0', alternateMethod: 'Use built in JS array.sort' })\r\n], SortedList);\r\n\r\n/**\r\n * A tree node part of [[SortedList]]\r\n * @deprecated Will be removed in v0.26.0\r\n */\r\nlet BinaryTreeNode = class BinaryTreeNode {\r\n    constructor(key, data, left, right) {\r\n        this._key = key;\r\n        this._data = data;\r\n        this._left = left;\r\n        this._right = right;\r\n    }\r\n    getKey() {\r\n        return this._key;\r\n    }\r\n    setKey(key) {\r\n        this._key = key;\r\n    }\r\n    getData() {\r\n        return this._data;\r\n    }\r\n    setData(data) {\r\n        this._data = data;\r\n    }\r\n    getLeft() {\r\n        return this._left;\r\n    }\r\n    setLeft(left) {\r\n        this._left = left;\r\n    }\r\n    getRight() {\r\n        return this._right;\r\n    }\r\n    setRight(right) {\r\n        this._right = right;\r\n    }\r\n};\r\nBinaryTreeNode = SortedList_decorate([\r\n    obsolete({ message: 'Will be removed in excalibur v0.26.0' })\r\n], BinaryTreeNode);\r\n\r\n/**\r\n * Mock element for testing\r\n *\r\n * @internal\r\n * @deprecated Will be removed in v0.26.0\r\n */\r\nclass MockedElement {\r\n    constructor(key) {\r\n        this._key = 0;\r\n        this._key = key;\r\n    }\r\n    getTheKey() {\r\n        return this._key;\r\n    }\r\n    setKey(key) {\r\n        this._key = key;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./Promises.ts\n// Promises/A+ Spec http://promises-aplus.github.io/promises-spec/\r\nvar Promises_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar Promise_1;\r\n\r\n/**\r\n * Valid states for a promise to be in\r\n * @deprecated Will be removed in v0.26.0\r\n */\r\nvar PromiseState;\r\n(function (PromiseState) {\r\n    PromiseState[PromiseState[\"Resolved\"] = 0] = \"Resolved\";\r\n    PromiseState[PromiseState[\"Rejected\"] = 1] = \"Rejected\";\r\n    PromiseState[PromiseState[\"Pending\"] = 2] = \"Pending\";\r\n})(PromiseState || (PromiseState = {}));\r\n/**\r\n * Promises are used to do asynchronous work and they are useful for\r\n * creating a chain of actions. In Excalibur they are used for loading,\r\n * sounds, animation, actions, and more.\r\n * @deprecated Will be removed in v0.26.0\r\n */\r\nlet Promises_Promise = Promise_1 = class Promise {\r\n    constructor() {\r\n        this._state = PromiseState.Pending;\r\n        this._successCallbacks = [];\r\n        this._rejectCallback = () => {\r\n            return;\r\n        };\r\n    }\r\n    /**\r\n     * Create and resolve a Promise with an optional value\r\n     * @param value  An optional value to wrap in a resolved promise\r\n     * @deprecated Use browser native promises\r\n     */\r\n    static resolve(value) {\r\n        const promise = new Promise_1().resolve(value);\r\n        return promise;\r\n    }\r\n    /**\r\n     * Create and reject a Promise with an optional value\r\n     * @param value  An optional value to wrap in a rejected promise\r\n     * @deprecated Use browser native promises\r\n     */\r\n    static reject(value) {\r\n        const promise = new Promise_1().reject(value);\r\n        return promise;\r\n    }\r\n    static join() {\r\n        let promises = [];\r\n        if (arguments.length > 0 && !Array.isArray(arguments[0])) {\r\n            for (let _i = 0; _i < arguments.length; _i++) {\r\n                promises[_i - 0] = arguments[_i];\r\n            }\r\n        }\r\n        else if (arguments.length === 1 && Array.isArray(arguments[0])) {\r\n            promises = arguments[0];\r\n        }\r\n        const joinedPromise = new Promise_1();\r\n        if (!promises || !promises.length) {\r\n            return joinedPromise.resolve();\r\n        }\r\n        const total = promises.length;\r\n        let successes = 0;\r\n        let rejects = 0;\r\n        const errors = [];\r\n        promises.forEach((p) => {\r\n            p.then(() => {\r\n                successes += 1;\r\n                if (successes === total) {\r\n                    joinedPromise.resolve();\r\n                }\r\n                else if (successes + rejects + errors.length === total) {\r\n                    joinedPromise.reject(errors);\r\n                }\r\n            }, () => {\r\n                rejects += 1;\r\n                if (successes + rejects + errors.length === total) {\r\n                    joinedPromise.reject(errors);\r\n                }\r\n            }).error((e) => {\r\n                errors.push(e);\r\n                if (errors.length + successes + rejects === total) {\r\n                    joinedPromise.reject(errors);\r\n                }\r\n            });\r\n        });\r\n        return joinedPromise;\r\n    }\r\n    /**\r\n     * Chain success and reject callbacks after the promise is resolved\r\n     * @param successCallback  Call on resolution of promise\r\n     * @param rejectCallback   Call on rejection of promise\r\n     * @deprecated Use browser native promises\r\n     */\r\n    then(successCallback, rejectCallback) {\r\n        if (successCallback) {\r\n            this._successCallbacks.push(successCallback);\r\n            // If the promise is already resolved call immediately\r\n            if (this.state() === PromiseState.Resolved) {\r\n                try {\r\n                    successCallback.call(this, this._value);\r\n                }\r\n                catch (e) {\r\n                    this._handleError(e);\r\n                }\r\n            }\r\n        }\r\n        if (rejectCallback) {\r\n            this._rejectCallback = rejectCallback;\r\n            // If the promise is already rejected call immediately\r\n            if (this.state() === PromiseState.Rejected) {\r\n                try {\r\n                    rejectCallback.call(this, this._value);\r\n                }\r\n                catch (e) {\r\n                    this._handleError(e);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Add an error callback to the promise\r\n     * @param errorCallback  Call if there was an error in a callback\r\n     * @deprecated Use browser native promises\r\n     */\r\n    error(errorCallback) {\r\n        if (errorCallback) {\r\n            this._errorCallback = errorCallback;\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Resolve the promise and pass an option value to the success callbacks\r\n     * @param value  Value to pass to the success callbacks\r\n     * @deprecated Use browser native promises\r\n     */\r\n    resolve(value) {\r\n        if (this._state === PromiseState.Pending) {\r\n            this._value = value;\r\n            try {\r\n                this._state = PromiseState.Resolved;\r\n                this._successCallbacks.forEach((cb) => {\r\n                    cb.call(this, this._value);\r\n                });\r\n            }\r\n            catch (e) {\r\n                this._handleError(e);\r\n            }\r\n        }\r\n        else {\r\n            throw new Error('Cannot resolve a promise that is not in a pending state!');\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Reject the promise and pass an option value to the reject callbacks\r\n     * @param value  Value to pass to the reject callbacks\r\n     * @deprecated Use browser native promises\r\n     */\r\n    reject(value) {\r\n        if (this._state === PromiseState.Pending) {\r\n            this._value = value;\r\n            try {\r\n                this._state = PromiseState.Rejected;\r\n                this._rejectCallback.call(this, this._value);\r\n            }\r\n            catch (e) {\r\n                this._handleError(e);\r\n            }\r\n        }\r\n        else {\r\n            throw new Error('Cannot reject a promise that is not in a pending state!');\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Inspect the current state of a promise\r\n     * @deprecated Use browser native promises\r\n     */\r\n    state() {\r\n        return this._state;\r\n    }\r\n    _handleError(e) {\r\n        if (this._errorCallback) {\r\n            this._errorCallback.call(this, e);\r\n        }\r\n        else {\r\n            // rethrow error\r\n            throw e;\r\n        }\r\n    }\r\n};\r\nPromises_Promise = Promise_1 = Promises_decorate([\r\n    obsolete({\r\n        message: 'ex.Promises are being replaced by native browser promises in v0.26.0',\r\n        alternateMethod: 'Use browser native promises'\r\n    })\r\n], Promises_Promise);\r\n\r\n\n;// CONCATENATED MODULE: ./index.ts\n/**\r\n * The current Excalibur version string\r\n * @description `process.env.__EX_VERSION` gets replaced by Webpack on build\r\n */\r\nconst EX_VERSION = \"0.25.1\";\r\n\r\npolyfill();\r\n// This file is used as the bundle entry point and exports everything\r\n// that will be exposed as the `ex` global variable.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ex.LegacyDrawing namespace\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ex.Events namespace\r\n\r\n\r\n// ex.Input namespace\r\n\r\n\r\n// ex.Traits namespace\r\n\r\n\r\n// ex.Util namespaces\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ex.Deprecated\r\n\r\n// import * as deprecated from './Deprecated';\r\n// export { deprecated as Deprecated };\r\n// export * from './Deprecated';\r\n\n})();\n\nvar __webpack_exports__ActionContext = __webpack_exports__.fWn;\nvar __webpack_exports__ActionQueue = __webpack_exports__.Ia8;\nvar __webpack_exports__ActionsComponent = __webpack_exports__.hLI;\nvar __webpack_exports__ActionsSystem = __webpack_exports__.yyv;\nvar __webpack_exports__ActivateEvent = __webpack_exports__.tX5;\nvar __webpack_exports__Actor = __webpack_exports__.vtX;\nvar __webpack_exports__AddedComponent = __webpack_exports__.r7K;\nvar __webpack_exports__AddedEntity = __webpack_exports__.lCh;\nvar __webpack_exports__Animation = __webpack_exports__.fwF;\nvar __webpack_exports__AnimationDirection = __webpack_exports__.sce;\nvar __webpack_exports__AnimationStrategy = __webpack_exports__._c7;\nvar __webpack_exports__ArcadeSolver = __webpack_exports__.KUs;\nvar __webpack_exports__AudioContextFactory = __webpack_exports__.Ajp;\nvar __webpack_exports__Axis = __webpack_exports__.RDh;\nvar __webpack_exports__BaseAlign = __webpack_exports__._H9;\nvar __webpack_exports__BinaryTreeNode = __webpack_exports__.Ulf;\nvar __webpack_exports__Blink = __webpack_exports__.mxs;\nvar __webpack_exports__BodyComponent = __webpack_exports__.OmD;\nvar __webpack_exports__BoundingBox = __webpack_exports__.kBf;\nvar __webpack_exports__BroadphaseStrategy = __webpack_exports__.C4F;\nvar __webpack_exports__BrowserComponent = __webpack_exports__.NQt;\nvar __webpack_exports__BrowserEvents = __webpack_exports__.JjN;\nvar __webpack_exports__Camera = __webpack_exports__.V1s;\nvar __webpack_exports__Canvas = __webpack_exports__.Xz7;\nvar __webpack_exports__Cell = __webpack_exports__.bLd;\nvar __webpack_exports__Circle = __webpack_exports__.Cdc;\nvar __webpack_exports__CircleCollider = __webpack_exports__.FKn;\nvar __webpack_exports__Class = __webpack_exports__.wTW;\nvar __webpack_exports__ClosestLine = __webpack_exports__.ab2;\nvar __webpack_exports__ClosestLineJumpTable = __webpack_exports__.GfZ;\nvar __webpack_exports__Collider = __webpack_exports__.YMS;\nvar __webpack_exports__ColliderComponent = __webpack_exports__.oyv;\nvar __webpack_exports__CollisionContact = __webpack_exports__.aUb;\nvar __webpack_exports__CollisionEndEvent = __webpack_exports__.SdD;\nvar __webpack_exports__CollisionGroup = __webpack_exports__.JUv;\nvar __webpack_exports__CollisionGroupManager = __webpack_exports__.jEj;\nvar __webpack_exports__CollisionJumpTable = __webpack_exports__.TFq;\nvar __webpack_exports__CollisionPostSolveEvent = __webpack_exports__.HDU;\nvar __webpack_exports__CollisionPreSolveEvent = __webpack_exports__.R_y;\nvar __webpack_exports__CollisionResolutionStrategy = __webpack_exports__.ydN;\nvar __webpack_exports__CollisionSolver = __webpack_exports__._N2;\nvar __webpack_exports__CollisionStartEvent = __webpack_exports__.t50;\nvar __webpack_exports__CollisionSystem = __webpack_exports__.s$$;\nvar __webpack_exports__CollisionType = __webpack_exports__.v2G;\nvar __webpack_exports__Color = __webpack_exports__.Ilk;\nvar __webpack_exports__ColorBlindCorrector = __webpack_exports__.H_9;\nvar __webpack_exports__ColorBlindFlags = __webpack_exports__.s9i;\nvar __webpack_exports__ColorBlindness = __webpack_exports__.ksl;\nvar __webpack_exports__Component = __webpack_exports__.wA2;\nvar __webpack_exports__CompositeCollider = __webpack_exports__.R_p;\nvar __webpack_exports__Configurable = __webpack_exports__.IQ$;\nvar __webpack_exports__ConsoleAppender = __webpack_exports__.I5F;\nvar __webpack_exports__ContactConstraintPoint = __webpack_exports__.X8$;\nvar __webpack_exports__ContactEndEvent = __webpack_exports__.FR6;\nvar __webpack_exports__ContactStartEvent = __webpack_exports__.U8o;\nvar __webpack_exports__CoordPlane = __webpack_exports__.kbG;\nvar __webpack_exports__CullingBox = __webpack_exports__.oeJ;\nvar __webpack_exports__DeactivateEvent = __webpack_exports__.iS_;\nvar __webpack_exports__Debug = __webpack_exports__.cGG;\nvar __webpack_exports__DebugSystem = __webpack_exports__.skb;\nvar __webpack_exports__DebugText = __webpack_exports__.SLU;\nvar __webpack_exports__DegreeOfFreedom = __webpack_exports__.RdJ;\nvar __webpack_exports__Detector = __webpack_exports__.gU7;\nvar __webpack_exports__Die = __webpack_exports__.LSk;\nvar __webpack_exports__Direction = __webpack_exports__.Nmp;\nvar __webpack_exports__DisplayMode = __webpack_exports__.d1Y;\nvar __webpack_exports__DynamicTree = __webpack_exports__.xrL;\nvar __webpack_exports__DynamicTreeCollisionProcessor = __webpack_exports__.sRW;\nvar __webpack_exports__EX_VERSION = __webpack_exports__.cmV;\nvar __webpack_exports__EaseTo = __webpack_exports__.N0Q;\nvar __webpack_exports__EasingFunctions = __webpack_exports__.q8b;\nvar __webpack_exports__EdgeCollider = __webpack_exports__.ynB;\nvar __webpack_exports__ElasticToActorStrategy = __webpack_exports__.jT9;\nvar __webpack_exports__EmitterType = __webpack_exports__.wAz;\nvar __webpack_exports__Engine = __webpack_exports__.D4V;\nvar __webpack_exports__EnterTriggerEvent = __webpack_exports__.N6H;\nvar __webpack_exports__EnterViewPortEvent = __webpack_exports__.W1A;\nvar __webpack_exports__Entity = __webpack_exports__.JHW;\nvar __webpack_exports__EntityManager = __webpack_exports__.v2K;\nvar __webpack_exports__EventDispatcher = __webpack_exports__.pBf;\nvar __webpack_exports__EventTypes = __webpack_exports__.GMl;\nvar __webpack_exports__Events = __webpack_exports__.zW2;\nvar __webpack_exports__ExResponse = __webpack_exports__.B0K;\nvar __webpack_exports__ExcaliburGraphicsContext2DCanvas = __webpack_exports__.Nv7;\nvar __webpack_exports__ExcaliburGraphicsContextWebGL = __webpack_exports__.C_p;\nvar __webpack_exports__ExitTriggerEvent = __webpack_exports__.MUA;\nvar __webpack_exports__ExitViewPortEvent = __webpack_exports__.xqU;\nvar __webpack_exports__Experiments = __webpack_exports__.peG;\nvar __webpack_exports__Fade = __webpack_exports__.pTp;\nvar __webpack_exports__Flags = __webpack_exports__.vUK;\nvar __webpack_exports__Follow = __webpack_exports__.j9l;\nvar __webpack_exports__Font = __webpack_exports__.Zxw;\nvar __webpack_exports__FontStyle = __webpack_exports__.Hdx;\nvar __webpack_exports__FontUnit = __webpack_exports__.Z$d;\nvar __webpack_exports__FrameStats = __webpack_exports__.o$7;\nvar __webpack_exports__GameEvent = __webpack_exports__.Zm$;\nvar __webpack_exports__GameStartEvent = __webpack_exports__.$QH;\nvar __webpack_exports__GameStopEvent = __webpack_exports__.i78;\nvar __webpack_exports__GamepadAxisEvent = __webpack_exports__.h6u;\nvar __webpack_exports__GamepadButtonEvent = __webpack_exports__.hts;\nvar __webpack_exports__GamepadConnectEvent = __webpack_exports__.j88;\nvar __webpack_exports__GamepadDisconnectEvent = __webpack_exports__.VME;\nvar __webpack_exports__Gif = __webpack_exports__.nt;\nvar __webpack_exports__GlobalCoordinates = __webpack_exports__.Ukr;\nvar __webpack_exports__Graphic = __webpack_exports__.zsu;\nvar __webpack_exports__GraphicsComponent = __webpack_exports__.oA6;\nvar __webpack_exports__GraphicsGroup = __webpack_exports__.TVh;\nvar __webpack_exports__GraphicsLayer = __webpack_exports__.TwZ;\nvar __webpack_exports__GraphicsLayers = __webpack_exports__.GTT;\nvar __webpack_exports__GraphicsSystem = __webpack_exports__.xxj;\nvar __webpack_exports__HiddenEvent = __webpack_exports__.XdK;\nvar __webpack_exports__ImageSource = __webpack_exports__.cXo;\nvar __webpack_exports__InitializeEvent = __webpack_exports__.Dm5;\nvar __webpack_exports__Input = __webpack_exports__.IIB;\nvar __webpack_exports__Integrator = __webpack_exports__.zI0;\nvar __webpack_exports__KillEvent = __webpack_exports__.SKZ;\nvar __webpack_exports__Label = __webpack_exports__.__J;\nvar __webpack_exports__Legacy = __webpack_exports__.Dvr;\nvar __webpack_exports__LegacyDrawing = __webpack_exports__.Tf9;\nvar __webpack_exports__LimitCameraBoundsStrategy = __webpack_exports__.RI$;\nvar __webpack_exports__Line = __webpack_exports__.x12;\nvar __webpack_exports__Loader = __webpack_exports__.aNw;\nvar __webpack_exports__LockCameraToActorAxisStrategy = __webpack_exports__.xwn;\nvar __webpack_exports__LockCameraToActorStrategy = __webpack_exports__.dNK;\nvar __webpack_exports__LogLevel = __webpack_exports__.ini;\nvar __webpack_exports__Logger = __webpack_exports__.YdH;\nvar __webpack_exports__Matrix = __webpack_exports__.y3G;\nvar __webpack_exports__MatrixLocations = __webpack_exports__.l57;\nvar __webpack_exports__MediaEvent = __webpack_exports__.xn0;\nvar __webpack_exports__Meet = __webpack_exports__.t2V;\nvar __webpack_exports__MockedElement = __webpack_exports__.ZyS;\nvar __webpack_exports__MotionComponent = __webpack_exports__.uxB;\nvar __webpack_exports__MotionSystem = __webpack_exports__.cpd;\nvar __webpack_exports__MoveBy = __webpack_exports__.fiy;\nvar __webpack_exports__MoveTo = __webpack_exports__.$XZ;\nvar __webpack_exports__NativeSoundEvent = __webpack_exports__.uqK;\nvar __webpack_exports__NativeSoundProcessedEvent = __webpack_exports__.STE;\nvar __webpack_exports__Observable = __webpack_exports__.y$z;\nvar __webpack_exports__Pair = __webpack_exports__.sOq;\nvar __webpack_exports__ParseGif = __webpack_exports__.Sqs;\nvar __webpack_exports__Particle = __webpack_exports__.hpZ;\nvar __webpack_exports__ParticleEmitter = __webpack_exports__.Vol;\nvar __webpack_exports__Physics = __webpack_exports__.wIZ;\nvar __webpack_exports__PhysicsStats = __webpack_exports__.cBi;\nvar __webpack_exports__Polygon = __webpack_exports__.mgq;\nvar __webpack_exports__PolygonCollider = __webpack_exports__.YVA;\nvar __webpack_exports__Pool = __webpack_exports__.Kgp;\nvar __webpack_exports__PostCollisionEvent = __webpack_exports__.HH$;\nvar __webpack_exports__PostDebugDrawEvent = __webpack_exports__.M_d;\nvar __webpack_exports__PostDrawEvent = __webpack_exports__.rgh;\nvar __webpack_exports__PostFrameEvent = __webpack_exports__.Ra6;\nvar __webpack_exports__PostKillEvent = __webpack_exports__.KhR;\nvar __webpack_exports__PostUpdateEvent = __webpack_exports__.BS5;\nvar __webpack_exports__PreCollisionEvent = __webpack_exports__.xhz;\nvar __webpack_exports__PreDebugDrawEvent = __webpack_exports__.xOq;\nvar __webpack_exports__PreDrawEvent = __webpack_exports__.a9j;\nvar __webpack_exports__PreFrameEvent = __webpack_exports__.bHk;\nvar __webpack_exports__PreKillEvent = __webpack_exports__.CgK;\nvar __webpack_exports__PreUpdateEvent = __webpack_exports__.cuY;\nvar __webpack_exports__Projection = __webpack_exports__.kvE;\nvar __webpack_exports__Promise = __webpack_exports__.JDb;\nvar __webpack_exports__PromiseState = __webpack_exports__.Cbi;\nvar __webpack_exports__Query = __webpack_exports__.AE_;\nvar __webpack_exports__QueryManager = __webpack_exports__.ctO;\nvar __webpack_exports__RadiusAroundActorStrategy = __webpack_exports__.OLH;\nvar __webpack_exports__Random = __webpack_exports__.kky;\nvar __webpack_exports__Raster = __webpack_exports__.nSF;\nvar __webpack_exports__Ray = __webpack_exports__.zHn;\nvar __webpack_exports__RealisticSolver = __webpack_exports__.zwx;\nvar __webpack_exports__Rectangle = __webpack_exports__.AeJ;\nvar __webpack_exports__RemovedComponent = __webpack_exports__.hLz;\nvar __webpack_exports__RemovedEntity = __webpack_exports__.D9g;\nvar __webpack_exports__Repeat = __webpack_exports__.wA;\nvar __webpack_exports__RepeatForever = __webpack_exports__.jhr;\nvar __webpack_exports__Resolution = __webpack_exports__.GVs;\nvar __webpack_exports__Resource = __webpack_exports__._zO;\nvar __webpack_exports__RotateBy = __webpack_exports__.w6$;\nvar __webpack_exports__RotateTo = __webpack_exports__.mhV;\nvar __webpack_exports__RotationType = __webpack_exports__.MOD;\nvar __webpack_exports__ScaleBy = __webpack_exports__.kwd;\nvar __webpack_exports__ScaleTo = __webpack_exports__.Lmr;\nvar __webpack_exports__Scene = __webpack_exports__.xsS;\nvar __webpack_exports__Screen = __webpack_exports__.lLr;\nvar __webpack_exports__ScreenAppender = __webpack_exports__.Z$r;\nvar __webpack_exports__ScreenElement = __webpack_exports__.IXb;\nvar __webpack_exports__ScrollPreventionMode = __webpack_exports__.SMj;\nvar __webpack_exports__Shape = __webpack_exports__.bnF;\nvar __webpack_exports__Side = __webpack_exports__.MFA;\nvar __webpack_exports__SortedList = __webpack_exports__.$XC;\nvar __webpack_exports__Sound = __webpack_exports__.$uU;\nvar __webpack_exports__Sprite = __webpack_exports__.jyi;\nvar __webpack_exports__SpriteFont = __webpack_exports__.E03;\nvar __webpack_exports__SpriteSheet = __webpack_exports__.V6q;\nvar __webpack_exports__StrategyContainer = __webpack_exports__.nVo;\nvar __webpack_exports__Stream = __webpack_exports__.F6N;\nvar __webpack_exports__SubscribeEvent = __webpack_exports__.ad3;\nvar __webpack_exports__System = __webpack_exports__.xP7;\nvar __webpack_exports__SystemManager = __webpack_exports__.Odq;\nvar __webpack_exports__SystemType = __webpack_exports__.Zif;\nvar __webpack_exports__TagComponent = __webpack_exports__.ZGJ;\nvar __webpack_exports__Text = __webpack_exports__.xvT;\nvar __webpack_exports__TextAlign = __webpack_exports__.PHM;\nvar __webpack_exports__TileMap = __webpack_exports__.KwO;\nvar __webpack_exports__Timer = __webpack_exports__.B7y;\nvar __webpack_exports__Traits = __webpack_exports__.SFp;\nvar __webpack_exports__TransformComponent = __webpack_exports__.Uvn;\nvar __webpack_exports__TreeNode = __webpack_exports__.OFT;\nvar __webpack_exports__Trigger = __webpack_exports__.xzN;\nvar __webpack_exports__UnsubscribeEvent = __webpack_exports__.H6j;\nvar __webpack_exports__Util = __webpack_exports__.ZrN;\nvar __webpack_exports__Vector = __webpack_exports__.OWs;\nvar __webpack_exports__VectorView = __webpack_exports__.dF9;\nvar __webpack_exports__VisibleEvent = __webpack_exports__.VHo;\nvar __webpack_exports__WebAudioInstance = __webpack_exports__.R$E;\nvar __webpack_exports__World = __webpack_exports__.q3I;\nvar __webpack_exports__canonicalizeAngle = __webpack_exports__.Pab;\nvar __webpack_exports__clamp = __webpack_exports__.uZ5;\nvar __webpack_exports__createId = __webpack_exports__.McK;\nvar __webpack_exports__hasGraphicsTick = __webpack_exports__.k0b;\nvar __webpack_exports__hasOnInitialize = __webpack_exports__.hnT;\nvar __webpack_exports__hasOnPostUpdate = __webpack_exports__.RSJ;\nvar __webpack_exports__hasOnPreUpdate = __webpack_exports__.Mku;\nvar __webpack_exports__hasPostDraw = __webpack_exports__.h90;\nvar __webpack_exports__hasPreDraw = __webpack_exports__.rms;\nvar __webpack_exports__has_initialize = __webpack_exports__.ErP;\nvar __webpack_exports__has_postupdate = __webpack_exports__.aVg;\nvar __webpack_exports__has_preupdate = __webpack_exports__.lPc;\nvar __webpack_exports__isAddedComponent = __webpack_exports__.Z8E;\nvar __webpack_exports__isAddedSystemEntity = __webpack_exports__.NNA;\nvar __webpack_exports__isRemoveSystemEntity = __webpack_exports__.yFn;\nvar __webpack_exports__isRemovedComponent = __webpack_exports__.lNv;\nvar __webpack_exports__maxMessages = __webpack_exports__.MZQ;\nvar __webpack_exports__obsolete = __webpack_exports__.FUM;\nvar __webpack_exports__randomInRange = __webpack_exports__.vdf;\nvar __webpack_exports__randomIntInRange = __webpack_exports__.iaL;\nvar __webpack_exports__range = __webpack_exports__.w6H;\nvar __webpack_exports__resetObsoleteCounter = __webpack_exports__.Q4c;\nvar __webpack_exports__toDegrees = __webpack_exports__.Uxb;\nvar __webpack_exports__toRadians = __webpack_exports__.Yr5;\nvar __webpack_exports__vec = __webpack_exports__.Bhw;\nexport { __webpack_exports__ActionContext as ActionContext, __webpack_exports__ActionQueue as ActionQueue, __webpack_exports__ActionsComponent as ActionsComponent, __webpack_exports__ActionsSystem as ActionsSystem, __webpack_exports__ActivateEvent as ActivateEvent, __webpack_exports__Actor as Actor, __webpack_exports__AddedComponent as AddedComponent, __webpack_exports__AddedEntity as AddedEntity, __webpack_exports__Animation as Animation, __webpack_exports__AnimationDirection as AnimationDirection, __webpack_exports__AnimationStrategy as AnimationStrategy, __webpack_exports__ArcadeSolver as ArcadeSolver, __webpack_exports__AudioContextFactory as AudioContextFactory, __webpack_exports__Axis as Axis, __webpack_exports__BaseAlign as BaseAlign, __webpack_exports__BinaryTreeNode as BinaryTreeNode, __webpack_exports__Blink as Blink, __webpack_exports__BodyComponent as BodyComponent, __webpack_exports__BoundingBox as BoundingBox, __webpack_exports__BroadphaseStrategy as BroadphaseStrategy, __webpack_exports__BrowserComponent as BrowserComponent, __webpack_exports__BrowserEvents as BrowserEvents, __webpack_exports__Camera as Camera, __webpack_exports__Canvas as Canvas, __webpack_exports__Cell as Cell, __webpack_exports__Circle as Circle, __webpack_exports__CircleCollider as CircleCollider, __webpack_exports__Class as Class, __webpack_exports__ClosestLine as ClosestLine, __webpack_exports__ClosestLineJumpTable as ClosestLineJumpTable, __webpack_exports__Collider as Collider, __webpack_exports__ColliderComponent as ColliderComponent, __webpack_exports__CollisionContact as CollisionContact, __webpack_exports__CollisionEndEvent as CollisionEndEvent, __webpack_exports__CollisionGroup as CollisionGroup, __webpack_exports__CollisionGroupManager as CollisionGroupManager, __webpack_exports__CollisionJumpTable as CollisionJumpTable, __webpack_exports__CollisionPostSolveEvent as CollisionPostSolveEvent, __webpack_exports__CollisionPreSolveEvent as CollisionPreSolveEvent, __webpack_exports__CollisionResolutionStrategy as CollisionResolutionStrategy, __webpack_exports__CollisionSolver as CollisionSolver, __webpack_exports__CollisionStartEvent as CollisionStartEvent, __webpack_exports__CollisionSystem as CollisionSystem, __webpack_exports__CollisionType as CollisionType, __webpack_exports__Color as Color, __webpack_exports__ColorBlindCorrector as ColorBlindCorrector, __webpack_exports__ColorBlindFlags as ColorBlindFlags, __webpack_exports__ColorBlindness as ColorBlindness, __webpack_exports__Component as Component, __webpack_exports__CompositeCollider as CompositeCollider, __webpack_exports__Configurable as Configurable, __webpack_exports__ConsoleAppender as ConsoleAppender, __webpack_exports__ContactConstraintPoint as ContactConstraintPoint, __webpack_exports__ContactEndEvent as ContactEndEvent, __webpack_exports__ContactStartEvent as ContactStartEvent, __webpack_exports__CoordPlane as CoordPlane, __webpack_exports__CullingBox as CullingBox, __webpack_exports__DeactivateEvent as DeactivateEvent, __webpack_exports__Debug as Debug, __webpack_exports__DebugSystem as DebugSystem, __webpack_exports__DebugText as DebugText, __webpack_exports__DegreeOfFreedom as DegreeOfFreedom, __webpack_exports__Detector as Detector, __webpack_exports__Die as Die, __webpack_exports__Direction as Direction, __webpack_exports__DisplayMode as DisplayMode, __webpack_exports__DynamicTree as DynamicTree, __webpack_exports__DynamicTreeCollisionProcessor as DynamicTreeCollisionProcessor, __webpack_exports__EX_VERSION as EX_VERSION, __webpack_exports__EaseTo as EaseTo, __webpack_exports__EasingFunctions as EasingFunctions, __webpack_exports__EdgeCollider as EdgeCollider, __webpack_exports__ElasticToActorStrategy as ElasticToActorStrategy, __webpack_exports__EmitterType as EmitterType, __webpack_exports__Engine as Engine, __webpack_exports__EnterTriggerEvent as EnterTriggerEvent, __webpack_exports__EnterViewPortEvent as EnterViewPortEvent, __webpack_exports__Entity as Entity, __webpack_exports__EntityManager as EntityManager, __webpack_exports__EventDispatcher as EventDispatcher, __webpack_exports__EventTypes as EventTypes, __webpack_exports__Events as Events, __webpack_exports__ExResponse as ExResponse, __webpack_exports__ExcaliburGraphicsContext2DCanvas as ExcaliburGraphicsContext2DCanvas, __webpack_exports__ExcaliburGraphicsContextWebGL as ExcaliburGraphicsContextWebGL, __webpack_exports__ExitTriggerEvent as ExitTriggerEvent, __webpack_exports__ExitViewPortEvent as ExitViewPortEvent, __webpack_exports__Experiments as Experiments, __webpack_exports__Fade as Fade, __webpack_exports__Flags as Flags, __webpack_exports__Follow as Follow, __webpack_exports__Font as Font, __webpack_exports__FontStyle as FontStyle, __webpack_exports__FontUnit as FontUnit, __webpack_exports__FrameStats as FrameStats, __webpack_exports__GameEvent as GameEvent, __webpack_exports__GameStartEvent as GameStartEvent, __webpack_exports__GameStopEvent as GameStopEvent, __webpack_exports__GamepadAxisEvent as GamepadAxisEvent, __webpack_exports__GamepadButtonEvent as GamepadButtonEvent, __webpack_exports__GamepadConnectEvent as GamepadConnectEvent, __webpack_exports__GamepadDisconnectEvent as GamepadDisconnectEvent, __webpack_exports__Gif as Gif, __webpack_exports__GlobalCoordinates as GlobalCoordinates, __webpack_exports__Graphic as Graphic, __webpack_exports__GraphicsComponent as GraphicsComponent, __webpack_exports__GraphicsGroup as GraphicsGroup, __webpack_exports__GraphicsLayer as GraphicsLayer, __webpack_exports__GraphicsLayers as GraphicsLayers, __webpack_exports__GraphicsSystem as GraphicsSystem, __webpack_exports__HiddenEvent as HiddenEvent, __webpack_exports__ImageSource as ImageSource, __webpack_exports__InitializeEvent as InitializeEvent, __webpack_exports__Input as Input, __webpack_exports__Integrator as Integrator, __webpack_exports__KillEvent as KillEvent, __webpack_exports__Label as Label, __webpack_exports__Legacy as Legacy, __webpack_exports__LegacyDrawing as LegacyDrawing, __webpack_exports__LimitCameraBoundsStrategy as LimitCameraBoundsStrategy, __webpack_exports__Line as Line, __webpack_exports__Loader as Loader, __webpack_exports__LockCameraToActorAxisStrategy as LockCameraToActorAxisStrategy, __webpack_exports__LockCameraToActorStrategy as LockCameraToActorStrategy, __webpack_exports__LogLevel as LogLevel, __webpack_exports__Logger as Logger, __webpack_exports__Matrix as Matrix, __webpack_exports__MatrixLocations as MatrixLocations, __webpack_exports__MediaEvent as MediaEvent, __webpack_exports__Meet as Meet, __webpack_exports__MockedElement as MockedElement, __webpack_exports__MotionComponent as MotionComponent, __webpack_exports__MotionSystem as MotionSystem, __webpack_exports__MoveBy as MoveBy, __webpack_exports__MoveTo as MoveTo, __webpack_exports__NativeSoundEvent as NativeSoundEvent, __webpack_exports__NativeSoundProcessedEvent as NativeSoundProcessedEvent, __webpack_exports__Observable as Observable, __webpack_exports__Pair as Pair, __webpack_exports__ParseGif as ParseGif, __webpack_exports__Particle as Particle, __webpack_exports__ParticleEmitter as ParticleEmitter, __webpack_exports__Physics as Physics, __webpack_exports__PhysicsStats as PhysicsStats, __webpack_exports__Polygon as Polygon, __webpack_exports__PolygonCollider as PolygonCollider, __webpack_exports__Pool as Pool, __webpack_exports__PostCollisionEvent as PostCollisionEvent, __webpack_exports__PostDebugDrawEvent as PostDebugDrawEvent, __webpack_exports__PostDrawEvent as PostDrawEvent, __webpack_exports__PostFrameEvent as PostFrameEvent, __webpack_exports__PostKillEvent as PostKillEvent, __webpack_exports__PostUpdateEvent as PostUpdateEvent, __webpack_exports__PreCollisionEvent as PreCollisionEvent, __webpack_exports__PreDebugDrawEvent as PreDebugDrawEvent, __webpack_exports__PreDrawEvent as PreDrawEvent, __webpack_exports__PreFrameEvent as PreFrameEvent, __webpack_exports__PreKillEvent as PreKillEvent, __webpack_exports__PreUpdateEvent as PreUpdateEvent, __webpack_exports__Projection as Projection, __webpack_exports__Promise as Promise, __webpack_exports__PromiseState as PromiseState, __webpack_exports__Query as Query, __webpack_exports__QueryManager as QueryManager, __webpack_exports__RadiusAroundActorStrategy as RadiusAroundActorStrategy, __webpack_exports__Random as Random, __webpack_exports__Raster as Raster, __webpack_exports__Ray as Ray, __webpack_exports__RealisticSolver as RealisticSolver, __webpack_exports__Rectangle as Rectangle, __webpack_exports__RemovedComponent as RemovedComponent, __webpack_exports__RemovedEntity as RemovedEntity, __webpack_exports__Repeat as Repeat, __webpack_exports__RepeatForever as RepeatForever, __webpack_exports__Resolution as Resolution, __webpack_exports__Resource as Resource, __webpack_exports__RotateBy as RotateBy, __webpack_exports__RotateTo as RotateTo, __webpack_exports__RotationType as RotationType, __webpack_exports__ScaleBy as ScaleBy, __webpack_exports__ScaleTo as ScaleTo, __webpack_exports__Scene as Scene, __webpack_exports__Screen as Screen, __webpack_exports__ScreenAppender as ScreenAppender, __webpack_exports__ScreenElement as ScreenElement, __webpack_exports__ScrollPreventionMode as ScrollPreventionMode, __webpack_exports__Shape as Shape, __webpack_exports__Side as Side, __webpack_exports__SortedList as SortedList, __webpack_exports__Sound as Sound, __webpack_exports__Sprite as Sprite, __webpack_exports__SpriteFont as SpriteFont, __webpack_exports__SpriteSheet as SpriteSheet, __webpack_exports__StrategyContainer as StrategyContainer, __webpack_exports__Stream as Stream, __webpack_exports__SubscribeEvent as SubscribeEvent, __webpack_exports__System as System, __webpack_exports__SystemManager as SystemManager, __webpack_exports__SystemType as SystemType, __webpack_exports__TagComponent as TagComponent, __webpack_exports__Text as Text, __webpack_exports__TextAlign as TextAlign, __webpack_exports__TileMap as TileMap, __webpack_exports__Timer as Timer, __webpack_exports__Traits as Traits, __webpack_exports__TransformComponent as TransformComponent, __webpack_exports__TreeNode as TreeNode, __webpack_exports__Trigger as Trigger, __webpack_exports__UnsubscribeEvent as UnsubscribeEvent, __webpack_exports__Util as Util, __webpack_exports__Vector as Vector, __webpack_exports__VectorView as VectorView, __webpack_exports__VisibleEvent as VisibleEvent, __webpack_exports__WebAudioInstance as WebAudioInstance, __webpack_exports__World as World, __webpack_exports__canonicalizeAngle as canonicalizeAngle, __webpack_exports__clamp as clamp, __webpack_exports__createId as createId, __webpack_exports__hasGraphicsTick as hasGraphicsTick, __webpack_exports__hasOnInitialize as hasOnInitialize, __webpack_exports__hasOnPostUpdate as hasOnPostUpdate, __webpack_exports__hasOnPreUpdate as hasOnPreUpdate, __webpack_exports__hasPostDraw as hasPostDraw, __webpack_exports__hasPreDraw as hasPreDraw, __webpack_exports__has_initialize as has_initialize, __webpack_exports__has_postupdate as has_postupdate, __webpack_exports__has_preupdate as has_preupdate, __webpack_exports__isAddedComponent as isAddedComponent, __webpack_exports__isAddedSystemEntity as isAddedSystemEntity, __webpack_exports__isRemoveSystemEntity as isRemoveSystemEntity, __webpack_exports__isRemovedComponent as isRemovedComponent, __webpack_exports__maxMessages as maxMessages, __webpack_exports__obsolete as obsolete, __webpack_exports__randomInRange as randomInRange, __webpack_exports__randomIntInRange as randomIntInRange, __webpack_exports__range as range, __webpack_exports__resetObsoleteCounter as resetObsoleteCounter, __webpack_exports__toDegrees as toDegrees, __webpack_exports__toRadians as toRadians, __webpack_exports__vec as vec };\n\n//# sourceMappingURL=excalibur.js.map","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import superPropBase from \"@babel/runtime/helpers/esm/superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","module.exports = require(\"regenerator-runtime\");\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/** @license React v17.0.2\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.2\";\n","/** @license React v17.0.2\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),m=require(\"object-assign\"),r=require(\"scheduler\");function y(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b);ea(a+\"Capture\",b)}\nfunction ea(a,b){ca[a]=b;for(a=0;a<b.length;a++)ba.add(b[a])}\nvar fa=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ha=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ia=Object.prototype.hasOwnProperty,\nja={},ka={};function la(a){if(ia.call(ka,a))return!0;if(ia.call(ja,a))return!1;if(ha.test(a))return ka[a]=!0;ja[a]=!0;return!1}function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction na(a,b,c,d){if(null===b||\"undefined\"===typeof b||ma(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var D={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(oa,\npa);D[b]=new B(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});\nD.xlinkHref=new B(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(na(b,c,e,d)&&(c=null),d||null===e?la(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nvar ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E(\"react.element\");ta=E(\"react.portal\");ua=E(\"react.fragment\");wa=E(\"react.strict_mode\");xa=E(\"react.profiler\");ya=E(\"react.provider\");za=E(\"react.context\");Aa=E(\"react.forward_ref\");Ba=E(\"react.suspense\");Ca=E(\"react.suspense_list\");Da=E(\"react.memo\");Ea=E(\"react.lazy\");Fa=E(\"react.block\");E(\"react.scope\");Ga=E(\"react.opaque.id\");Ha=E(\"react.debug_trace_mode\");Ia=E(\"react.offscreen\");Ja=E(\"react.legacy_hidden\")}\nvar Ka=\"function\"===typeof Symbol&&Symbol.iterator;function La(a){if(null===a||\"object\"!==typeof a)return null;a=Ka&&a[Ka]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var Ma;function Na(a){if(void 0===Ma)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Ma=b&&b[1]||\"\"}return\"\\n\"+Ma+a}var Oa=!1;\nfunction Pa(a,b){if(!a||Oa)return\"\";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Na(a):\"\"}\nfunction Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na(\"Lazy\");case 13:return Na(\"Suspense\");case 19:return Na(\"SuspenseList\");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return\"\"}}\nfunction Ra(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ua:return\"Fragment\";case ta:return\"Portal\";case xa:return\"Profiler\";case wa:return\"StrictMode\";case Ba:return\"Suspense\";case Ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case za:return(a.displayName||\"Context\")+\".Consumer\";case ya:return(a._context.displayName||\"Context\")+\".Provider\";case Aa:var b=a.render;b=b.displayName||b.name||\"\";\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload;a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){b=b.checked;null!=b&&qa(a,\"checked\",b,!1)}\nfunction ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?bb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&bb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction cb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction bb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function db(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function eb(a,b){a=m({children:void 0},b);if(b=db(b.children))a.children=b;return a}\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var kb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction lb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function mb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?lb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar nb,ob=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==kb.svg||\"innerHTML\"in a)a.innerHTML=b;else{nb=nb||document.createElement(\"div\");nb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qb[b]=qb[a]})});function sb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(\"\"+b).trim():b+\"px\"}\nfunction tb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=sb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(y(62));}}\nfunction wb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){if(null!==zb||null!==Ab)Ib(),Fb()}\nfunction Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}\nfunction Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,\"passive\",{get:function(){Pb=!0}});window.addEventListener(\"test\",Qb,Qb);window.removeEventListener(\"test\",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0;Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1;Tb=null;Rb.apply(Wb,arguments)}\nfunction Yb(a,b,c,d,e,f,g,h,k){Xb.apply(this,arguments);if(Sb){if(Sb){var l=Tb;Sb=!1;Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=l)}}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188));}\nfunction bc(a){var b=a.alternate;if(!b){b=Zb(a);if(null===b)throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(y(189));}}if(c.alternate!==d)throw Error(y(190));}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}function cc(a){a=bc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case \"focusin\":case \"focusout\":kc=null;break;case \"dragenter\":case \"dragleave\":lc=null;break;case \"mouseover\":case \"mouseout\":mc=null;break;case \"pointerover\":case \"pointerout\":nc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":oc.delete(b.pointerId)}}\nfunction tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=rc(b,c,d,e,f),null!==b&&(b=Cb(b),null!==b&&fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction uc(a,b,c,d,e){switch(b){case \"focusin\":return kc=tc(kc,a,b,c,d,e),!0;case \"dragenter\":return lc=tc(lc,a,b,c,d,e),!0;case \"mouseover\":return mc=tc(mc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;nc.set(f,tc(nc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(b=c.tag,13===b){if(b=$b(c),null!==b){a.blockedOn=b;hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return b=Cb(c),null!==b&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}\nfunction Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){a=Cb(a.blockedOn);null!==a&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null);null!==lc&&xc(lc)&&(lc=null);null!==mc&&xc(mc)&&(mc=null);nc.forEach(zc);oc.forEach(zc)}\nfunction Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}\nfunction Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==kc&&Bc(kc,a);null!==lc&&Bc(lc,a);null!==mc&&Bc(mc,a);nc.forEach(b);oc.forEach(b);for(c=0;c<pc.length;c++)d=pc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&(c=pc[0],null===c.blockedOn);)vc(c),null===c.blockedOn&&pc.shift()}\nfunction Dc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ec={animationend:Dc(\"Animation\",\"AnimationEnd\"),animationiteration:Dc(\"Animation\",\"AnimationIteration\"),animationstart:Dc(\"Animation\",\"AnimationStart\"),transitionend:Dc(\"Transition\",\"TransitionEnd\")},Fc={},Gc={};\nfa&&(Gc=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),\"TransitionEvent\"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var b=Ec[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}\nvar Ic=Hc(\"animationend\"),Jc=Hc(\"animationiteration\"),Kc=Hc(\"animationstart\"),Lc=Hc(\"transitionend\"),Mc=new Map,Nc=new Map,Oc=[\"abort\",\"abort\",Ic,\"animationEnd\",Jc,\"animationIteration\",Kc,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\n\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",Lc,\"transitionEnd\",\"waiting\",\"waiting\"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e=\"on\"+(e[0].toUpperCase()+e.slice(1));Nc.set(d,b);Mc.set(d,e);da(e,[d])}}var Qc=r.unstable_now;Qc();var F=8;\nfunction Rc(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\nF=8;return a}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a));}}\nfunction Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=Rc(k),e=F):(h&=f,0!==h&&(d=Rc(h),e=F))}else f=c&~g,0!==f?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;d=31-Vc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){Rc(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Vc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction Wc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~b),0===a?Xc(10,b):a;case 10:return a=Yc(192&~b),0===a?Xc(8,b):a;case 8:return a=Yc(3584&~b),0===a&&(a=Yc(4186112&~b),0===a&&(a=512)),a;case 2:return b=Yc(805306368&~b),0===b&&(b=268435456),b}throw Error(y(358,a));}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Vc(b);a[b]=c}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}\nfunction hd(a,b,c,d){if(fd){var e;if((e=0===(b&4))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a)){a=rc(f,a,b,c,d);jc.push(a);return}if(uc(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}}\nfunction yc(a,b,c,d){var e=xb(d);e=wc(e);if(null!==e){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=$b(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}jd(a,b,d,e,c);return null}var kd=null,ld=null,md=null;\nfunction nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&\"CompositionEvent\"in window,be=null;fa&&\"documentMode\"in document&&(be=document.documentMode);var ce=fa&&\"TextEvent\"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));a=re;if(Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;\nfunction Je(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Le(a,b){var c=Ke(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Me(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nvar Pe=fa&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Je(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nPc(\"cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),\n0);Pc(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);Pc(Oc,2);for(var Ve=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);\nea(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ea(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);ea(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);da(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));da(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));da(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);da(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));\nda(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));da(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Xe=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Ye=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Xe));\nfunction Ze(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Yb(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a;}\nfunction G(a,b){var c=$e(b),d=a+\"__bubble\";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf=\"_reactListening\"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null);df(b,!0,a,null)}))}\nfunction df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;\"selectionchange\"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Ye.has(a)){if(\"scroll\"!==a)return;e|=2;f=d}var g=$e(f),h=a+\"__\"+(b?\"capture\":\"bubble\");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}\nfunction af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a);e=void 0;!Pb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction jd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Nb(function(){var d=f,e=xb(c),g=[];\na:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":x=\"focus\";k=Fd;break;case \"focusout\":x=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var w=0!==(b&4),z=!w&&\"scroll\"===a,u=w?null!==h?h+\"Capture\":null:h;w=[];for(var t=d,q;null!==\nt;){q=t;var v=q.stateNode;5===q.tag&&null!==v&&(q=v,null!==u&&(v=Ob(t,u),null!=v&&w.push(ef(t,v,q))));if(z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&0===(b&16)&&(x=c.relatedTarget||c.fromElement)&&(wc(x)||x[ff]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(x=c.relatedTarget||c.toElement,k=d,x=x?wc(x):null,null!==\nx&&(z=Zb(x),x!==z||5!==x.tag&&6!==x.tag))x=null}else k=null,x=d;if(k!==x){w=Bd;v=\"onMouseLeave\";u=\"onMouseEnter\";t=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)w=Td,v=\"onPointerLeave\",u=\"onPointerEnter\",t=\"pointer\";z=null==k?h:ue(k);q=null==x?h:ue(x);h=new w(v,t+\"leave\",k,c,e);h.target=z;h.relatedTarget=q;v=null;wc(e)===d&&(w=new w(u,t+\"enter\",x,c,e),w.target=q,w.relatedTarget=z,v=w);z=v;if(k&&x)b:{w=k;u=x;t=0;for(q=w;q;q=gf(q))t++;q=0;for(v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=\ngf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w);u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1);null!==x&&null!==z&&hf(g,z,x,w,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(J=Ee);if(J&&(J=J(a,d))){ne(g,J,c,e);break a}K&&K(a,h,d);\"focusout\"===a&&(K=h._wrapperState)&&\nK.controlled&&\"number\"===h.type&&bb(h,\"number\",h.value)}K=d?ue(d):window;switch(a){case \"focusin\":if(me(K)||\"true\"===K.contentEditable)Qe=K,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case \"compositionstart\":var L=\"onCompositionStart\";break b;case \"compositionend\":L=\"onCompositionEnd\";break b;\ncase \"compositionupdate\":L=\"onCompositionUpdate\";break b}L=void 0}else ie?ge(a,c)&&(L=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(L=\"onCompositionStart\");L&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==L?\"onCompositionEnd\"===L&&ie&&(Q=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),K=oe(d,L),0<K.length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:(Q=he(c),null!==Q&&(L.data=Q))));if(Q=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),0<d.length&&(e=new Ld(\"onBeforeInput\",\n\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=Q)}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Ob(a,c),null!=f&&d.unshift(ef(a,f,e)),f=Ob(a,b),null!=f&&d.push(ef(a,f,e)));a=a.return}return d}function gf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Ob(c,f),null!=k&&g.unshift(ef(c,k,h))):e||(k=Ob(c,f),null!=k&&g.push(ef(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction nf(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of=\"function\"===typeof setTimeout?setTimeout:void 0,pf=\"function\"===typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent=\"\":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=\"\"))}\nfunction rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf=\"__reactFiber$\"+vf,xf=\"__reactProps$\"+vf,ff=\"__reactContainer$\"+vf,yf=\"__reactEvents$\"+vf;\nfunction wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[wf]||a[ff];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33));}function Db(a){return a[xf]||null}\nfunction $e(a){var b=a[yf];void 0===b&&(b=a[yf]=new Set);return b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++;zf[Af]=a.current;a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;\nfunction Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ff(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gf(){H(N);H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b);I(N,c)}\nfunction If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(y(108,Ra(b)||\"Unknown\",e));return m({},c,d)}function Jf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf;Df=M.current;I(M,a);I(N,N.current);return!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N);I(N,c)}\nvar Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1E4>dg?Sf:function(){return Sf()-dg};\nfunction eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332));}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332));}}function gg(a,b){a=fg(a);return Nf(a,b)}function hg(a,b,c){a=fg(a);return Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null;Pf(a)}jg()}\nfunction jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c;}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){b=m({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}\nfunction rg(a){var b=mg.current;H(mg);a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a;pg=og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}\nfunction vg(a,b){if(pg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)pg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===og){if(null===ng)throw Error(y(308));og=b;ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b}return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}\nfunction yg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var A=n.lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){A=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\nnext:null});a:{var C=a,x=f;h=b;p=c;switch(x.tag){case 1:C=x.payload;if(\"function\"===typeof C){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=C.flags&-4097|64;case 0:C=x.payload;h=\"function\"===typeof C?C.call(p,A,h):C;if(null===h||void 0===h)break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;f=f.next;if(null===\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=A);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;Dg|=g;a.lanes=g;a.memoizedState=A}}function Eg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;\nfunction Gg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:m({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\nb);Ag(a,e);Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Je(c,d)||!Je(e,f):!0}\nfunction Mg(a,b,c){var d=!1,e=Cf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Kg;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Ng(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}\nfunction Og(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Fg;xg(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f));Cg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Gg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;\nfunction Qg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Fg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a));}return a}\nfunction Rg(a,b){if(\"textarea\"!==a.type)throw Error(y(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\nfunction Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Tg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Ug(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Qg(a,b,c),d.return=a,d;d=Vg(c.type,c.key,c.props,null,a.mode,d);d.ref=Qg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\nWg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Xg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function A(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Ug(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case sa:return c=Vg(b.type,b.key,b.props,null,a.mode,c),c.ref=Qg(a,null,b),c.return=a,c;case ta:return b=Wg(b,a.mode,c),b.return=a,b}if(Pg(b)||La(b))return b=Xg(b,\na.mode,c,null),b.return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Pg(d)||La(d))return a=a.get(c)||null,n(b,a,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===\nn.alternate&&b(e,u);g=f(n,g,z);null===t?l=n:t.sibling=n;t=n;u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)u=A(e,h[z],k),null!==u&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)q=C(u,e,z,h[z],k),null!==q&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);a&&u.forEach(function(a){return b(e,a)});return l}function w(e,g,h,k){var l=La(h);if(\"function\"!==typeof l)throw Error(y(150));h=l.call(h);if(null==\nh)throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u);g=f(w,g,z);null===t?l=w:t.sibling=w;t=w;u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())n=A(e,n.value,k),null!==n&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())n=C(u,e,z,n.value,k),null!==n&&(a&&null!==n.alternate&&\nu.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);a&&u.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ua){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\nd=e(k,f.props);d.ref=Qg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ua?(d=Xg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Vg(f.type,f.key,f.props,null,a.mode,h),h.ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\nWg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Ug(f,a.mode,h),d.return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);l&&Rg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||\"Component\"));}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);\nfunction dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){I(ch,b);I(bh,a);I(ah,$g);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=mb(b,a)}H(ah);I(ah,b)}function fh(){H(ah);H(bh);H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current);var c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);\nfunction ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var jh=null,kh=null,lh=!1;\nfunction mh(a,b){var c=nh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){b=rf(c.nextSibling);if(!b||!oh(a,b)){a.flags=a.flags&-1025|2;lh=!1;jh=a;return}mh(jh,c)}jh=a;kh=rf(b.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}\nfunction rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(y(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}\nfunction sh(){kh=jh=null;lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321));}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Ch(a,b,c,d,e,f){xh=f;R=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;vh.current=null===a||null===a.memoizedState?Dh:Eh;a=c(d,e);if(zh){f=0;do{zh=!1;if(!(25>f))throw Error(y(301));f+=1;T=S=null;b.updateQueue=null;vh.current=Fh;a=c(d,e)}while(zh)}vh.current=Gh;b=null!==S&&null!==S.next;xh=0;T=S=R=null;yh=!1;if(b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===T?R.memoizedState=T=a:T=T.next=a;return T}\nfunction Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));S=a;a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null};null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;R.lanes|=l;Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;He(d,b.memoizedState)||(ug=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(xh&a)===a)b._workInProgressVersionPrimary=d,th.push(b);if(a)return c(b._source);th.push(b);throw Error(y(350));}\nfunction Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source);He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\ne.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a;h&=~v}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);He(C,c)&&He(x,b)&&He(A,d)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n},a.dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n);return n}\nfunction Ph(a,b,c){var d=Ih();return Nh(d,a,b,c)}function Qh(a){var b=Hh();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a};a=a.dispatch=Oh.bind(null,R,a);return[b.memoizedState,a]}\nfunction Rh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=R.updateQueue;null===b?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Sh(a){var b=Hh();a={current:a};return b.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a;e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}\nfunction Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;f=g.destroy;if(null!==d&&Bh(d,g.deps)){Rh(b,c,f,d);return}}R.flags|=a;e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\nfunction $h(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\nfunction di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)});gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}\nfunction Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(He(k,h))return}catch(l){}finally{}Jg(a,e,d)}}\nvar Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){Hh().memoizedState=[a,void 0===b?null:b];return a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Uh(4,2,Zh.bind(null,\nb,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Hh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Oh.bind(null,R,a);return[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];Wh(function(){var b=wh.transition;\nwh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Qh(!1),b=a[0];a=di.bind(null,a[1]);Sh(a);return[a,b]},useMutableSource:function(a,b,c){var d=Hh();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=uf(function(){a||(a=!0,c(\"r:\"+(tf++).toString(36)));throw Error(y(355));}),c=Qh(b)[1];0===(R.mode&2)&&(R.flags|=516,Rh(5,function(){c(\"r:\"+(tf++).toString(36))},\nvoid 0,null));return b}b=\"r:\"+(tf++).toString(36);Qh(b);return b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;tg(b,e);d=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,d,e);return b.child}\nfunction ii(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!ji(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ki(a,b,g,d,e,f);a=Vg(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Je,c(e,d)&&a.ref===b.ref))return hi(a,b,f);b.flags|=1;a=Tg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref)if(ug=!1,0!==(f&e))0!==(a.flags&16384)&&(ug=!0);else return b.lanes=a.lanes,hi(a,b,f);return li(a,b,c,d,f)}\nfunction mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},ni(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);fi(a,b,e,c);return b.child}\nfunction oi(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;f=Ef(b,f);tg(b,e);c=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,c,e);return b.child}\nfunction pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;tg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=vg(l):(l=Ff(c)?Df:M.current,l=Ef(b,l));var n=c.getDerivedStateFromProps,A=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;A||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l);wg=!1;var p=b.memoizedState;g.state=p;Cg(b,d,g,e);k=b.memoizedState;h!==d||p!==k||N.current||wg?(\"function\"===typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\ntypeof g.componentDidMount&&(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;yg(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:lg(b.type,h);g.props=l;A=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=vg(k):(k=Ff(c)?Df:M.current,k=Ef(b,k));var C=c.getDerivedStateFromProps;(n=\"function\"===typeof C||\n\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k);wg=!1;p=b.memoizedState;g.state=p;Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?(\"function\"===typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\nx,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||\nh===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}\nfunction qi(a,b,c,d,e,f){oi(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode;ei.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);eh(a,b.containerInfo)}\nvar si={dehydrated:null,retryLane:0};\nfunction ti(a,b,c){var d=b.pendingProps,e=P.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);I(P,e&1);if(null===a){void 0!==d.fallback&&ph(b);a=d.children;e=d.fallback;if(f)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},\nb.memoizedState=si,b.lanes=33554432,a;c=vi({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}function ui(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=vi(b,e,0,null);c=Xg(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\nfunction xi(a,b,c,d){var e=a.child;a=e.sibling;c=Tg(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\nfunction wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Tg(g,h);null!==a?d=Tg(a,d):(d=Xg(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);sg(a.return,b)}\nfunction zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\nfunction Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;fi(a,b,d.children,c);d=P.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(P,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ih(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);zi(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ih(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}zi(b,!0,c,null,f,b.lastEffect);break;case \"together\":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction hi(a,b,c){null!==a&&(b.dependencies=a.dependencies);Dg|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){a=b.child;c=Tg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Tg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;\nBi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ci=function(){};\nDi=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;dh(ah.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"option\":e=eb(a,e);d=eb(a,d);f=[];break;case \"select\":e=m({},e,{value:void 0});d=m({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=jf)}vb(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===\nl){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||\n(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ca.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&G(\"scroll\",a),f||h===k||(f=[])):\"object\"===typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",\nc);var l=f;if(b.updateQueue=l)b.flags|=4}};Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};function Fi(a,b){if(!lh)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:fh();H(N);H(M);uh();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)rh(b)?b.flags|=4:d.hydrate||(b.flags|=256);Ci(b);return null;case 5:hh(b);var e=dh(ch.current);c=b.type;if(null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\nb.stateNode)throw Error(y(166));return null}a=dh(ah.current);if(rh(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[wf]=b;d[xf]=f;switch(c){case \"dialog\":G(\"cancel\",d);G(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case \"source\":G(\"error\",d);break;case \"img\":case \"image\":case \"link\":G(\"error\",d);G(\"load\",d);break;case \"details\":G(\"toggle\",d);break;case \"input\":Za(d,f);G(\"invalid\",d);break;case \"select\":d._wrapperState=\n{wasMultiple:!!f.multiple};G(\"invalid\",d);break;case \"textarea\":hb(d,f),G(\"invalid\",d)}vb(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],\"children\"===g?\"string\"===typeof e?d.textContent!==e&&(a=[\"children\",e]):\"number\"===typeof e&&d.textContent!==\"\"+e&&(a=[\"children\",\"\"+e]):ca.hasOwnProperty(g)&&null!=e&&\"onScroll\"===g&&G(\"scroll\",d));switch(c){case \"input\":Va(d);cb(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=\njf)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;a===kb.html&&(a=lb(c));a===kb.html?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[wf]=b;a[xf]=d;Bi(a,b,!1,!1);b.stateNode=a;g=wb(c,d);switch(c){case \"dialog\":G(\"cancel\",a);G(\"close\",a);\ne=d;break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case \"source\":G(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":G(\"error\",a);G(\"load\",a);e=d;break;case \"details\":G(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);G(\"invalid\",a);break;case \"option\":e=eb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=m({},d,{value:void 0});G(\"invalid\",a);break;case \"textarea\":hb(a,d);e=\ngb(a,d);G(\"invalid\",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?tb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&ob(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==c||\"\"!==k)&&pb(a,k):\"number\"===typeof k&&pb(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ca.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&G(\"scroll\",a):null!=k&&qa(a,f,k,g))}switch(c){case \"input\":Va(a);cb(a,d,!1);\nbreak;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(y(166));\nc=dh(ch.current);dh(ah.current);rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[wf]=b,b.stateNode=d)}return null;case 13:H(P);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState;if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&1))0===V&&(V=3);else{if(0===V||3===V)V=\n4;null===U||0===(Dg&134217727)&&0===(Hi&134217727)||Ii(U,W)}if(d||c)b.flags|=4;return null;case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:H(P);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)Fi(d,!1);else{if(0!==V||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=ih(a);if(null!==g){b.flags|=64;Fi(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);\nnull===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,\nf.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;I(P,P.current&1|2);return b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(a=ih(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!g.alternate&&!lh)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=\n64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?b&1|2:b&1),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag));}\nfunction Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:fh();H(N);H(M);uh();b=a.flags;if(0!==(b&64))throw Error(y(285));a.flags=b&-4097|64;return a;case 5:return hh(a),null;case 13:return H(P),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}\nfunction Mi(a,b){try{var c=\"\",d=b;do c+=Qa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Oi=\"function\"===typeof WeakMap?WeakMap:Map;function Pi(a,b,c){c=zg(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Qi||(Qi=!0,Ri=d);Ni(a,b)};return c}\nfunction Si(a,b,c){c=zg(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ni(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Ui=\"function\"===typeof WeakSet?WeakSet:Set;\nfunction Vi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}\nfunction Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Zi(c,a),$i(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Eg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mf(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c))));\nreturn;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}\nfunction aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d=d.style,\"function\"===typeof d.setProperty?d.setProperty(\"display\",\"none\",\"important\"):d.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=sb(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===\na)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction bj(a,b){if(Mf&&\"function\"===typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:Vi(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,\nf)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(y(161));}c.flags&16&&(pb(b,\"\"),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}\nfunction gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=jf));else if(4!==d&&(a=a.child,null!==a))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}\nfunction hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}\nfunction cj(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,\n8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\nfunction ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[xf]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&$a(c,d);wb(a,e);b=wb(a,d);for(e=0;e<f.length;e+=\n2){var g=f[e],h=f[e+1];\"style\"===g?tb(c,h):\"dangerouslySetInnerHTML\"===g?ob(c,h):\"children\"===g?pb(c,h):qa(c,g,h,b)}switch(a){case \"input\":ab(c,d);break;case \"textarea\":ib(c,d);break;case \"select\":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));b.stateNode.nodeValue=\nb.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,Cc(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(jj=O(),aj(b.child,!0));kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,null!==b.memoizedState);return}throw Error(y(163));}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction mj(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=Infinity;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 0!==(X&48)?O():-1!==Fj?Fj:Fj=O()}\nfunction Ig(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===eg()?1:2;0===Gj&&(Gj=tj);if(0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0);a=Gj;var b=4186112&~Hj;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=eg();0!==(X&4)&&98===a?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj));return a}\nfunction Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));a=Kj(a,b);if(null===a)return null;$c(a,b,c);a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?0!==(X&8)&&0===(X&48)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(0===(X&4)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c));vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\nfunction Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Uc(a,a===U?W:0);b=F;if(0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),\nc=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=Tc(b),c=hg(c,Nj.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\nfunction Nj(a){Fj=-1;Hj=Gj=0;if(0!==(X&48))throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c;var e=X;X|=16;var f=Pj();if(U!==a||W!==d)wj(),Qj(a,d);do try{Rj();break}catch(h){Sj(a,h)}while(1);qg();oj.current=f;X=e;null!==Y?d=0:(U=null,W=0,d=V);if(0!==(tj&Hi))Qj(a,0);else if(0!==d){2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),c=Wc(a),0!==c&&(d=Tj(a,c)));if(1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;a.finishedWork=\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:Ii(a,c);if((c&62914560)===c&&(d=jj+500-O(),10<d)){if(0!==Uc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){Hg();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:Ii(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-Vc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=O()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\nc?4320:1960*nj(c/1960))-c;if(10<c){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329));}}Mj(a,O());return a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){b&=~uj;b&=~Hi;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1;b&=~d}}\nfunction Lj(a){if(0!==(X&48))throw Error(y(327));Oj();if(a===U&&0!==(a.expiredLanes&W)){var b=W;var c=Tj(a,b);0!==(tj&Hi)&&(b=Uc(a,b),c=Tj(a,b))}else b=Uc(a,0),c=Tj(a,b);0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),b=Wc(a),0!==b&&(c=Tj(a,b)));if(1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Uj(a);Mj(a,O());return null}\nfunction Vj(){if(null!==Cj){var a=Cj;Cj=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Mj(a,O())})}ig()}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2;X|=8;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function ni(a,b){I(rj,qj);qj|=b;tj|=b}function Ki(){qj=rj.current;H(rj)}\nfunction Qj(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Gf();break;case 3:fh();H(N);H(M);uh();break;case 5:hh(d);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a;Y=Tg(a.current,null);W=qj=tj=b;V=0;sj=null;uj=Hi=Dg=0}\nfunction Sj(a,b){do{var c=Y;try{qg();vh.current=Gh;if(yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}yh=!1}xh=0;T=S=R=null;zh=!1;pj.current=null;if(null===c||null===c.return){V=1;sj=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=W;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\n(h.updateQueue=null,h.memoizedState=null)}var A=0!==(P.current&1),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated?!0:!1;else{var w=p.memoizedProps;C=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:A?!1:!0}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l);p.updateQueue=u}else z.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2;Ag(h,t)}h.lanes|=1;break a}k=\nvoid 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==V&&(V=2);k=Mi(k,h);p=\ng;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var J=Pi(p,f,b);Bg(p,J);break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof K.getDerivedStateFromError||null!==Q&&\"function\"===typeof Q.componentDidCatch&&(null===Ti||!Ti.has(Q)))){p.flags|=4096;b&=-b;p.lanes|=b;var L=Si(p,f,b);Bg(p,L);break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}\nfunction Pj(){var a=oj.current;oj.current=Gh;return null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();U===a&&W===b||Qj(a,b);do try{ak();break}catch(e){Sj(a,e)}while(1);qg();X=c;oj.current=d;if(null!==Y)throw Error(y(261));U=null;W=0;return V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps;null===b?Zj(a):Y=b;pj.current=null}\nfunction Zj(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=Gi(c,b,qj);if(null!==c){Y=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(qj&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=Li(b);if(null!==c){c.flags&=2047;Y=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();gg(99,dk.bind(null,a,b));return null}\nfunction dk(a,b){do Oj();while(null!==yj);if(0!==(X&48))throw Error(y(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\nCj&&0===(d&24)&&Cj.has(a)&&Cj.delete(a);a===U&&(Y=U=null,W=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=X;X|=32;pj.current=null;kf=fd;g=Ne();if(Oe(g)){if(\"selectionStart\"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode;f=l.anchorOffset;k=l.focusNode;l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;\nbreak a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;;){w!==h||0!==f&&3!==w.nodeType||(A=n+f);w!==k||0!==l&&3!==w.nodeType||(p=n+l);3===w.nodeType&&(n+=w.nodeValue.length);if(null===(u=w.firstChild))break;z=w;w=u}for(;;){if(w===g)break b;z===h&&++C===f&&(A=n);z===k&&++x===l&&(p=n);if(null!==(u=w.nextSibling))break;w=z;z=w.parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h};fd=!1;Ij=null;Jj=!1;Z=d;do try{ek()}catch(va){if(null===\nZ)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Ij=null;Z=d;do try{for(g=a;null!==Z;){var t=Z.flags;t&16&&pb(Z.stateNode,\"\");if(t&128){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&(\"function\"===typeof v?v(null):v.current=null)}}switch(t&1038){case 2:fj(Z);Z.flags&=-3;break;case 6:fj(Z);Z.flags&=-3;ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025;ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:h=Z;cj(g,h);var J=h.alternate;dj(h);null!==\nJ&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);v=lf;q=Ne();t=v.focusedElem;g=v.selectionRange;if(q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,v=g.end,void 0===v&&(v=q),\"selectionStart\"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window,v.getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===\ng.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))));q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});\"function\"===typeof t.focus&&t.focus();for(t=\n0;t<q.length;t++)v=q[t],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf;lf=kf=null;a.current=c;Z=d;do try{for(t=a;null!==Z;){var K=Z.flags;K&36&&Yi(t,Z.alternate,Z);if(K&128){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;switch(Z.tag){case 5:q=L;break;default:q=L}\"function\"===typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Z=null;$f();X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=\nZ.nextEffect,Z.nextEffect=null,Z.flags&8&&(K=Z,K.sibling=null,K.stateNode=null),Z=b;d=a.pendingLanes;0===d&&(Ti=null);1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0;c=c.stateNode;if(Mf&&\"function\"===typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,64===(c.current.flags&64))}catch(va){}Mj(a,O());if(Qi)throw Qi=!1,a=Ri,Ri=null,a;if(0!==(X&8))return null;ig();return null}\nfunction ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(0!==(Z.flags&8)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;0!==(b&256)&&Xi(a,Z);0===(b&512)||xj||(xj=!0,hg(97,function(){Oj();return null}));Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;zj=90;return gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}function Zi(a,b){Bj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}\nfunction fk(){if(null===yj)return!1;var a=yj;yj=null;if(0!==(X&48))throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}c=Aj;Aj=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\nnull,h.stateNode=null),h=a;X=b;ig();return!0}function gk(a,b,c){b=Mi(c,b);b=Pi(a,b,1);Ag(a,b);b=Hg();a=Kj(a,1);null!==a&&($c(a,1,b),Mj(a,b))}\nfunction Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){a=Mi(b,a);var e=Si(c,a,1);Ag(c,e);e=Hg();c=Kj(c,1);if(null!==c)$c(c,1,e),Mj(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\nfunction Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=Hg();a.pingedLanes|=a.suspendedLanes&c;U===a&&(W&c)===c&&(4===V||3===V&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=c);Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===eg()?1:2:(0===Gj&&(Gj=tj),b=Yc(62914560&~Gj),0===b&&(b=4194304)));c=Hg();a=Kj(a,b);null!==a&&($c(a,b,c),Mj(a,c))}var ck;\nck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else if(0!==(c&d))ug=0!==(a.flags&16384)?!0:!1;else{ug=!1;switch(b.tag){case 3:ri(b);sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return ti(a,b,c);I(P,P.current&1);b=hi(a,b,c);return null!==\nb?b.sibling:null}I(P,P.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Ai(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);I(P,P.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}else ug=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Ef(b,M.current);tg(b,c);e=Ch(null,b,d,a,e,c);b.flags|=1;if(\"object\"===\ntypeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;xg(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Gg(b,d,g,a);e.updater=Kg;b.stateNode=e;e._reactInternals=b;Og(b,d,a,c);b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);\na=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=hk(e);a=lg(e,a);switch(f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),li(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),pi(a,b,d,e,c);case 3:ri(b);d=b.updateQueue;if(null===a||null===d)throw Error(y(282));\nd=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;yg(a,b);Cg(b,d,null,c);d=b.memoizedState.element;if(d===e)sh(),b=hi(a,b,c);else{e=b.stateNode;if(f=e.hydrate)kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],th.push(f);c=Zg(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&\nph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),gi(a,b,d,e,c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:return fi(a,b,b.pendingProps.children,\nc),b.child;case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(mg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=He(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=\nk.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=zg(-1,c&-c),l.tag=2,Ag(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);sg(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}fi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,tg(b,c),e=vg(e,\nf.unstable_observedBits),d=d(e),b.flags|=1,fi(a,b,d,c),b.child;case 14:return e=b.type,f=lg(e,b.pendingProps),f=lg(e.type,f),ii(a,b,e,f,d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:return mi(a,b,c);case 24:return mi(a,b,c)}throw Error(y(156,b.tag));\n};function ik(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction hk(a){if(\"function\"===typeof a)return ji(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Aa)return 11;if(a===Da)return 14}return 2}\nfunction Tg(a,b){var c=a.alternate;null===c?(c=nh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Vg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)ji(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8;e|=16;break;case wa:g=8;e|=1;break;case xa:return a=nh(12,c,b,e|8),a.elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return a=nh(13,c,b,e),a.type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return a=nh(19,c,b,e),a.elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return a=nh(24,c,b,e),a.elementType=Ja,a.lanes=f,a;default:if(\"object\"===\ntypeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16;d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,\"\"));}b=nh(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Xg(a,b,c,d){a=nh(7,a,d,b);a.lanes=c;return a}function vi(a,b,c,d){a=nh(23,a,d,b);a.elementType=Ia;a.lanes=c;return a}function Ug(a,b,c){a=nh(6,a,null,b);a.lanes=c;return a}\nfunction Wg(a,b,c){b=nh(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction jk(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zc(0);this.expirationTimes=Zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zc(0);this.mutableSourceEagerHydrationData=null}\nfunction kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){c=c._reactInternals;b:{if(Zb(c)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171));}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=zg(f,g);b.payload={element:a};d=void 0===d?null:d;null!==\nd&&(b.callback=d);Ag(e,b);Jg(e,g,f);return g}function mk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b);(a=a.alternate)&&nk(a,b)}function pk(){return null}\nfunction qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new jk(a,b,null!=c&&!0===c.hydrate);b=nh(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;xg(b);a[ff]=c.current;cf(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}\nqk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})};function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}\nfunction sk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}\nfunction tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{f=c._reactRootContainer=sk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}ec=function(a){if(13===a.tag){var b=Hg();Jg(a,4,b);ok(a,4)}};fc=function(a){if(13===a.tag){var b=Hg();Jg(a,67108864,b);ok(a,67108864)}};\ngc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b);ok(a,c)}};hc=function(a,b){return b()};\nyb=function(a,b,c){switch(b){case \"input\":ab(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d);ab(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Wj;\nHb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{X=f,0===X&&(wj(),ig())}};Ib=function(){0===(X&49)&&(Vj(),Oj())};Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}};function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(a,b,null,c)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:\"17.0.2\",rendererPackageName:\"react-dom\"};\nvar xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=cc(a);return null===a?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||\npk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;exports.createPortal=uk;\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)));}a=cc(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a,b){var c=X;if(0!==(c&48))return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}};exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)};\nexports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null;a[ff]=null})}),!0):!1};exports.unstable_batchedUpdates=Wj;exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)};exports.version=\"17.0.2\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/** @license React v0.20.2\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f,g,h,k;if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a);t=null}catch(b){throw setTimeout(w,0),b;}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))};g=function(a,b){u=setTimeout(a,b)};h=function(){clearTimeout(u)};exports.unstable_shouldYield=function(){return!1};k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if(\"undefined\"!==typeof console){var z=\nwindow.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\");\"function\"!==typeof z&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=\nE};k=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):D=0<a?Math.floor(1E3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b;}}else A=!1};f=function(a){B=a;A||(A=!0,G.postMessage(null))};g=function(a,b){C=\nx(function(){a(exports.unstable_now())},b)};h=function(){y(C);C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<I(e,b))a[d]=b,a[c]=e,c=d;else break a}}function J(a){a=a[0];return void 0===a?null:a}\nfunction K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>I(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;\nfunction T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else if(b.startTime<=a)K(M),b.sortIndex=b.expirationTime,H(L,b);else break;b=J(M)}}function U(a){S=!1;T(a);if(!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}\nfunction V(a,b){R=!1;S&&(S=!1,h());Q=!0;var c=P;try{T(b);for(O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if(\"function\"===typeof d){O.callback=null;P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?O.callback=e:O===J(L)&&K(L);T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b);m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5;\nexports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))};exports.unstable_getCurrentPriorityLevel=function(){return P};exports.unstable_getFirstCallbackNode=function(){return J(L)};\nexports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=W;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V)));return a};\nexports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n"],"sourceRoot":""}